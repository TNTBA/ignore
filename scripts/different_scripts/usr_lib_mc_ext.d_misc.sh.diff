--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/usr/lib/mc/ext.d/misc.sh	2019-01-18 08:10:34.000000000 -0500
+++ /media/mks/armbi_root/usr/lib/mc/ext.d/misc.sh	2023-02-14 07:56:55.000000000 -0500
@@ -13,10 +13,14 @@
 
     case "${filetype}" in
     iso9660)
-         isoinfo -d -i "${MC_EXT_FILENAME}" && isoinfo -l -R -J -i "${MC_EXT_FILENAME}"
+         if which isoinfo > /dev/null 2>&1; then
+             isoinfo -d -i "${MC_EXT_FILENAME}" && isoinfo -l -R -J -i "${MC_EXT_FILENAME}"
+         else
+             7za l "${MC_EXT_FILENAME}"
+         fi
         ;;
     cat)
-        /bin/cat "${MC_EXT_FILENAME}" 2>/dev/null
+        cat "${MC_EXT_FILENAME}" 2>/dev/null
         ;;
     ar)
         file "${MC_EXT_FILENAME}" && nm -C "${MC_EXT_FILENAME}"
@@ -35,7 +39,7 @@
         dbview -b "${MC_EXT_FILENAME}"
         ;;
     sqlite)
-        sqlite3 "${MC_EXT_FILENAME}" .dump
+        sqlite3 "file:${MC_EXT_FILENAME}?immutable=1" .dump
         ;;
     mo)
         msgunfmt "${MC_EXT_FILENAME}" || \
@@ -67,7 +71,7 @@
         sqlite3 "${MC_EXT_FILENAME}"
         ;;
     glade)
-        if glade-3 --version >/dev/null 2>&1; then
+        if which glade-3 >/dev/null 2>&1; then
             (glade-3 "${MC_EXT_FILENAME}" >/dev/null 2>&1 &)
         else
             (glade-2 "${MC_EXT_FILENAME}" >/dev/null 2>&1 &)

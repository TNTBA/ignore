--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/usr/bin/xzless	2022-04-11 10:51:17.000000000 -0400
+++ /media/mks/armbi_root/usr/bin/xzless	2023-02-12 15:22:50.000000000 -0500
@@ -15,6 +15,7 @@
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 # GNU General Public License for more details.
 
+
 #SET_PATH - This line is a placeholder to ease patching this script.
 
 # Instead of unsetting XZ_OPT, just make sure that xz will use file format
@@ -22,18 +23,18 @@
 # specified via XZ_OPT.
 xz='xz --format=auto'
 
-version='xzless (XZ Utils) 5.2.4'
+version='xzless (XZ Utils) 5.4.1'
 
 usage="Usage: ${0##*/} [OPTION]... [FILE]...
 Like 'less', but operate on the uncompressed contents of xz compressed FILEs.
 
 Options are the same as for 'less'.
 
-Report bugs to <lasse.collin@tukaani.org>."
+Report bugs to <xz@tukaani.org>."
 
 case $1 in
-	--help)    echo "$usage" || exit 2; exit;;
-	--version) echo "$version" || exit 2; exit;;
+	--help)    printf '%s\n' "$usage" || exit 2; exit;;
+	--version) printf '%s\n' "$version" || exit 2; exit;;
 esac
 
 if test "${LESSMETACHARS+set}" != set; then
@@ -46,12 +47,12 @@
 	LESSMETACHARS="$space$tab$nl'"';*?"()<>[|&^`#\$%=~'
 fi
 
-if test "$(less -V | { read less ver re && echo ${ver}; })" -ge 429; then
+if test "$(less -V | { read _ ver _ && echo ${ver%%.*}; })" -ge 429; then
 	# less 429 or later: LESSOPEN pipe will be used on
 	# standard input if $LESSOPEN begins with |-.
-	LESSOPEN="|-$xz -cdfq -- %s"
+	LESSOPEN="|-$xz -cdfqQ -- %s"
 else
-	LESSOPEN="|$xz -cdfq -- %s"
+	LESSOPEN="|$xz -cdfqQ -- %s"
 fi
 export LESSMETACHARS LESSOPEN
 

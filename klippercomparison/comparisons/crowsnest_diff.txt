diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/build.sh /home/mks/firmware_comparison/downloads/crowsnest/bin/build.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/build.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/build.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,258 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2024
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2024 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+### Disable SC2317 due Trap usage
+# shellcheck disable=SC2317
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+# Global vars
+# Base Path
+BASE_CN_BIN_PATH="$(dirname "$(readlink -f "${0}")")"
+
+# Clone Flags
+CLONE_FLAGS=(--depth=1 --single-branch)
+
+# Ustreamer repo
+USTREAMER_PATH="ustreamer"
+if [[ -z "${CROWSNEST_USTREAMER_REPO_SHIP}" ]]; then
+    CROWSNEST_USTREAMER_REPO_SHIP="https://github.com/pikvm/ustreamer.git"
+fi
+if [[ -z "${CROWSNEST_USTREAMER_REPO_BRANCH}" ]]; then
+    CROWSNEST_USTREAMER_REPO_BRANCH="v6.10"
+fi
+
+# Camera-streamer repo
+CSTREAMER_PATH="camera-streamer"
+if [[ -z "${CROWSNEST_CAMERA_STREAMER_REPO_SHIP}" ]]; then
+    CROWSNEST_CAMERA_STREAMER_REPO_SHIP="https://github.com/ayufan/camera-streamer.git"
+fi
+if [[ -z "${CROWSNEST_CAMERA_STREAMER_REPO_BRANCH}" ]]; then
+    CROWSNEST_CAMERA_STREAMER_REPO_BRANCH="master"
+fi
+
+
+# Paths of repos
+ALL_PATHS=(
+    "${BASE_CN_BIN_PATH}"/"${USTREAMER_PATH}"
+    "${BASE_CN_BIN_PATH}"/"${CSTREAMER_PATH}"
+)
+
+# Helper messages
+show_help() {
+    printf "Usage %s [options]\n" "$(basename "${0}")"
+    printf "\t-h or --help\t\tShows this help message\n"
+    printf "\t-b or --build\t\tBuild Apps\n"
+    printf "\t-c or --clean\t\tClean Apps\n"
+    printf "\t-d or --delete\t\tDelete cloned Apps\n"
+    printf "\t-r or --reclone\t\tClone Apps again\n\n"
+}
+
+## Helper funcs
+### Check if device is Raspberry Pi
+is_raspberry_pi() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_bookworm() {
+    if [[ -f /etc/os-release ]]; then
+        grep -cq "bookworm" /etc/os-release &> /dev/null && echo "1" || echo "0"
+    fi
+}
+
+is_pi5() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry Pi 5" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_ubuntu_arm() {
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    grep -q "ubuntu" /etc/os-release; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+### Get avail mem
+get_avail_mem() {
+    grep "MemTotal" /proc/meminfo | awk '{print $2}'
+}
+
+## MAIN funcs
+### Delete repo folder
+delete_apps() {
+    for path in "${ALL_PATHS[@]}"; do
+        if [[ ! -d "${path}" ]]; then
+            printf "'%s' does not exist! Delete ... [SKIPPED]\n" "${path}"
+        fi
+        if [[ -d "${path}" ]]; then
+            printf "Deleting '%s' ... [DONE]\n" "${path}"
+            rm -rf "${path}"
+        fi
+    done
+}
+
+### Clone ustreamer
+clone_ustreamer() {
+    if [[ -d "${BASE_CN_BIN_PATH}"/"${USTREAMER_PATH}" ]]; then
+        printf "%s already exist ... [SKIPPED]\n" "${USTREAMER_PATH}"
+        return
+    fi
+    git clone "${CROWSNEST_USTREAMER_REPO_SHIP}" \
+        -b "${CROWSNEST_USTREAMER_REPO_BRANCH}" \
+        "${BASE_CN_BIN_PATH}"/"${USTREAMER_PATH}" \
+        "${CLONE_FLAGS[@]}"
+}
+
+### Clone camera-streamer
+clone_cstreamer() {
+    ## Special handling because only supported on Raspberry Pi
+    [[ -n "${CROWSNEST_UNATTENDED}" ]] || CROWSNEST_UNATTENDED="0"
+    if { [[ "$(is_raspberry_pi)" = "0" ]] ||
+    [[ "$(is_pi5)" = "1" ]] ||
+    [[ "$(is_ubuntu_arm)" = "1" ]]; } &&
+    [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
+        printf "Device is not supported! Cloning camera-streamer ... [SKIPPED]\n"
+        return
+    fi
+    if [[ -d "${BASE_CN_BIN_PATH}"/"${CSTREAMER_PATH}" ]]; then
+        printf "%s already exist ... [SKIPPED]\n" "${CSTREAMER_PATH}"
+        return
+    fi
+    if [[ "$(is_bookworm)" = "1" ]]; then
+        printf "\nBookworm detected!\n"
+        printf "Using main branch of camera-streamer for Bookworm ...\n\n"
+        CROWSNEST_CAMERA_STREAMER_REPO_BRANCH="main"
+    fi
+    git clone "${CROWSNEST_CAMERA_STREAMER_REPO_SHIP}" \
+        -b "${CROWSNEST_CAMERA_STREAMER_REPO_BRANCH}" \
+        "${BASE_CN_BIN_PATH}"/"${CSTREAMER_PATH}" \
+        "${CLONE_FLAGS[@]}" --recurse-submodules --shallow-submodules
+}
+
+### Clone Apps
+clone_apps() {
+    local apps
+    apps="ustreamer cstreamer"
+    for app in ${apps}; do
+        clone_"${app}"
+    done
+}
+
+### Run 'make clean' in cloned folders
+clean_apps() {
+    for app in "${ALL_PATHS[@]}"; do
+        if [[ ! -d "${app}" ]]; then
+            printf "'%s' does not exist! Clean ... [SKIPPED]\n" "${app}"
+        else 
+            printf "\nRunning 'make clean' in %s ... \n" "${app}"
+            pushd "${app}" &> /dev/null || exit 1
+            make clean
+            popd &> /dev/null || exit 1
+        fi
+    done
+    printf "\nRunning 'make clean' ... [DONE]\n"
+}
+
+build_apps() {
+    ## Determine Ramsize and export MAKEFLAG
+    if [[ "$(get_avail_mem)" -le 524288 ]]; then
+        USE_PROCS=-j1
+    elif [[ "$(get_avail_mem)" -le 1048576 ]]; then
+        USE_PROCS=-j2
+    else
+        USE_PROCS=-j4
+    fi
+
+    for path in "${ALL_PATHS[@]}"; do
+        if [[ ! -d "${path}" ]]; then
+            printf "'%s' does not exist! Build skipped ... [WARN]\n" "${path}"
+        fi
+        if [[ -d "${path}" ]]; then
+            printf "Build '%s' using ${USE_PROCS##-j} Cores ... \n" "${path##*/}"
+            pushd "${path}" &> /dev/null || exit 1
+            make "${USE_PROCS}"
+            popd &> /dev/null || exit 1
+            printf "Build '%s' ... [SUCCESS]\n" "${path##*/}"
+        fi
+    done
+}
+
+## MAIN FUNC
+main() {
+    ## Error exit if no args given, show help
+    if [[ $# -eq "0" ]]; then
+        printf "ERROR: No options given ...\n"
+        show_help
+        exit 1
+    fi
+    ## Error exit if too many args given
+    if [[ $# -gt "1" ]]; then
+        printf "ERROR: Too many options given ...\n"
+        show_help
+        exit 1
+    fi
+    ## Get opts
+    while true; do
+        case "${1}" in
+            -b|--build)
+                build_apps
+                break
+            ;;
+            -c|--clean)
+                clean_apps
+                break
+            ;;
+            -d|--delete)
+                delete_apps
+                break
+            ;;
+            -h|--help)
+                show_help
+                break
+            ;;
+            -r|--reclone)
+                delete_apps
+                clone_apps
+                break
+            ;;
+            *)
+                printf "Unknown option: %s" "${1}"
+                show_help
+                break
+            ;;
+        esac
+    done
+}
+
+#### MAIN
+main "${@}"
+exit 0
+
+#### EOF
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/Makefile	2023-12-15 01:50:44.402398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,76 +0,0 @@
-#### crowsnest - A webcam Service for multiple Cams and Stream Services.
-####
-#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021
-#### https://github.com/mainsail-crew/crowsnest
-####
-#### This File is distributed under GPLv3
-####
-#### This Makefile is intended to streamline the build of depending binaries.
-
-#### DO NOT MODIFY AT ALL! ####
-
-# Setup
-.PHONY: all clean ustreamer rtsp webrtc update
-
-# Paths
-USTREAMER_PATH = ustreamer
-USTREAMER_REPO = https://github.com/pikvm/ustreamer.git
-USTREAMER_OMX_BRANCH = 61ab2a8
-ARCH = $(shell uname -m)
-RTSP_PATH = rtsp-simple-server
-RTSP_ARCH = $(shell uname -m | cut -c '-5' | sed 's/x86_6/amd64/;s/aarch/arm64v8/')
-RTSP_VERSION = $(shell cat $(RTSP_PATH)/version)
-DL_RTSP = https://github.com/aler9/rtsp-simple-server/releases/download/$(RTSP_VERSION)/
-RTSP_ARCHIVE = rtsp-simple-server_$(RTSP_VERSION)_linux_$(RTSP_ARCH).tar.gz
-
-# Custom Flags
-MAKEFLAGS += -j$(shell nproc)
-
-# OpenMAX IL Support
-OMX_SUPPORT = $(shell [ -d /opt/vc/include ] && echo 1 || echo 0)
-
-# Ustreamer cloned?
-USTREAMER_EXIST = $(shell [ -d ustreamer ] > /dev/null && echo 1 || echo 0)
-
-all:
-ifeq ($(USTREAMER_EXIST), 0)
-	$(info INFO: ustreamer not found, cloning repository.)
-	$(shell git clone $(USTREAMER_REPO) ustreamer)
-else
-	$(info INFO: ustreamer found.)
-endif
-	$(MAKE) ustreamer-bin
-	$(MAKE) rtsp
-
-# Build ustreamer
-ustreamer-bin:
-ifeq ($(OMX_SUPPORT), 1)
-	$(info Compiling ustreamer with OMX Support.)
-	$(info Changening to commit '$(USTREAMER_OMX_BRANCH)' )
-	$(shell cd ustreamer; git reset -q --hard $(USTREAMER_OMX_BRANCH) \
-	; cd ..)
-	WITH_OMX=1 $(MAKE) -C $(USTREAMER_PATH)
-else
-	$(info Compiling ustreamer without OMX Support.)
-	$(MAKE) -C $(USTREAMER_PATH)
-endif
-
-# Download rtsp-simple-server
-rtsp:
-	$(info Download $(RTSP_ARCHIVE) from $(DL_RTSP))
-	$(shell curl -JLo $(RTSP_PATH)/$(RTSP_ARCHIVE) $(DL_RTSP)$(RTSP_ARCHIVE))
-	$(shell tar -C $(RTSP_PATH) -xf $(RTSP_PATH)/$(RTSP_ARCHIVE))
-	$(shell rm -f $(RTSP_PATH)/$(RTSP_ARCHIVE))
-	$(info Finished.)
-# Dirty Hack needed to prevent "make: Nothing to be done for 'rtsp'." message
-	@echo > /dev/null
-
-clean:
-	$(MAKE) -C $(USTREAMER_PATH) clean
-	$(info Clean rtsp-simple-server ...)
-	$(shell rm -rf $(RTSP_PATH)/rtsp*)
-
-update:
-	$(MAKE) clean
-	$(MAKE) all
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/LICENSE /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/LICENSE
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/LICENSE	2022-11-03 16:46:37.000000000 -0400
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/LICENSE	1969-12-31 19:00:00.000000000 -0500
@@ -1,21 +0,0 @@
-MIT License
-
-Copyright (c) 2019 aler9
-
-Permission is hereby granted, free of charge, to any person obtaining a copy
-of this software and associated documentation files (the "Software"), to deal
-in the Software without restriction, including without limitation the rights
-to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
-copies of the Software, and to permit persons to whom the Software is
-furnished to do so, subject to the following conditions:
-
-The above copyright notice and this permission notice shall be included in all
-copies or substantial portions of the Software.
-
-THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
-FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
-AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
-LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
-SOFTWARE.
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/rtsp-simple-server and /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/rtsp-simple-server differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/rtsp-simple-server.yml /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/rtsp-simple-server.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/rtsp-simple-server.yml	2022-11-03 16:46:37.000000000 -0400
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/rtsp-simple-server.yml	1969-12-31 19:00:00.000000000 -0500
@@ -1,354 +0,0 @@
-
-###############################################
-# General parameters
-
-# Sets the verbosity of the program; available values are "error", "warn", "info", "debug".
-logLevel: info
-# Destinations of log messages; available values are "stdout", "file" and "syslog".
-logDestinations: [stdout]
-# If "file" is in logDestinations, this is the file which will receive the logs.
-logFile: rtsp-simple-server.log
-
-# Timeout of read operations.
-readTimeout: 10s
-# Timeout of write operations.
-writeTimeout: 10s
-# Number of read buffers.
-# A higher value allows a wider throughput, a lower value allows to save RAM.
-readBufferCount: 512
-
-# HTTP URL to perform external authentication.
-# Every time a user wants to authenticate, the server calls this URL
-# with the POST method and a body containing:
-# {
-#   "ip": "ip",
-#   "user": "user",
-#   "password": "password",
-#   "path": "path",
-#   "action": "read|publish"
-#   "query": "url's raw query"
-# }
-# If the response code is 20x, authentication is accepted, otherwise
-# it is discarded.
-externalAuthenticationURL:
-
-# Enable the HTTP API.
-api: no
-# Address of the API listener.
-apiAddress: 127.0.0.1:9997
-
-# Enable Prometheus-compatible metrics.
-metrics: no
-# Address of the metrics listener.
-metricsAddress: 127.0.0.1:9998
-
-# Enable pprof-compatible endpoint to monitor performances.
-pprof: no
-# Address of the pprof listener.
-pprofAddress: 127.0.0.1:9999
-
-# Command to run when a client connects to the server.
-# This is terminated with SIGINT when a client disconnects from the server.
-# The following environment variables are available:
-# * RTSP_PORT: server port
-runOnConnect:
-# Restart the command if it exits suddenly.
-runOnConnectRestart: no
-
-###############################################
-# RTSP parameters
-
-# Disable support for the RTSP protocol.
-rtspDisable: no
-# List of enabled RTSP transport protocols.
-# UDP is the most performant, but doesn't work when there's a NAT/firewall between
-# server and clients, and doesn't support encryption.
-# UDP-multicast allows to save bandwidth when clients are all in the same LAN.
-# TCP is the most versatile, and does support encryption.
-# The handshake is always performed with TCP.
-protocols: [udp, multicast, tcp]
-# Encrypt handshakes and TCP streams with TLS (RTSPS).
-# Available values are "no", "strict", "optional".
-encryption: "no"
-# Address of the TCP/RTSP listener. This is needed only when encryption is "no" or "optional".
-rtspAddress: :8554
-# Address of the TCP/TLS/RTSPS listener. This is needed only when encryption is "strict" or "optional".
-rtspsAddress: :8322
-# Address of the UDP/RTP listener. This is needed only when "udp" is in protocols.
-rtpAddress: :8000
-# Address of the UDP/RTCP listener. This is needed only when "udp" is in protocols.
-rtcpAddress: :8001
-# IP range of all UDP-multicast listeners. This is needed only when "multicast" is in protocols.
-multicastIPRange: 224.1.0.0/16
-# Port of all UDP-multicast/RTP listeners. This is needed only when "multicast" is in protocols.
-multicastRTPPort: 8002
-# Port of all UDP-multicast/RTCP listeners. This is needed only when "multicast" is in protocols.
-multicastRTCPPort: 8003
-# Path to the server key. This is needed only when encryption is "strict" or "optional".
-# This can be generated with:
-# openssl genrsa -out server.key 2048
-# openssl req -new -x509 -sha256 -key server.key -out server.crt -days 3650
-serverKey: server.key
-# Path to the server certificate. This is needed only when encryption is "strict" or "optional".
-serverCert: server.crt
-# Authentication methods.
-authMethods: [basic, digest]
-
-###############################################
-# RTMP parameters
-
-# Disable support for the RTMP protocol.
-rtmpDisable: no
-# Address of the RTMP listener. This is needed only when encryption is "no" or "optional".
-rtmpAddress: :1935
-# Encrypt connections with TLS (RTMPS).
-# Available values are "no", "strict", "optional".
-rtmpEncryption: "no"
-# Address of the RTMPS listener. This is needed only when encryption is "strict" or "optional".
-rtmpsAddress: :1936
-# Path to the server key. This is needed only when encryption is "strict" or "optional".
-# This can be generated with:
-# openssl genrsa -out server.key 2048
-# openssl req -new -x509 -sha256 -key server.key -out server.crt -days 3650
-rtmpServerKey: server.key
-# Path to the server certificate. This is needed only when encryption is "strict" or "optional".
-rtmpServerCert: server.crt
-
-###############################################
-# HLS parameters
-
-# Disable support for the HLS protocol.
-hlsDisable: no
-# Address of the HLS listener.
-hlsAddress: :8888
-# By default, HLS is generated only when requested by a user.
-# This option allows to generate it always, avoiding the delay between request and generation.
-hlsAlwaysRemux: no
-# Variant of the HLS protocol to use. Available options are:
-# * mpegts - uses MPEG-TS segments, for maximum compatibility.
-# * fmp4 - uses fragmented MP4 segments, more efficient.
-# * lowLatency - uses Low-Latency HLS.
-hlsVariant: mpegts
-# Number of HLS segments to keep on the server.
-# Segments allow to seek through the stream.
-# Their number doesn't influence latency.
-hlsSegmentCount: 7
-# Minimum duration of each segment.
-# A player usually puts 3 segments in a buffer before reproducing the stream.
-# The final segment duration is also influenced by the interval between IDR frames,
-# since the server changes the duration in order to include at least one IDR frame
-# in each segment.
-hlsSegmentDuration: 1s
-# Minimum duration of each part.
-# A player usually puts 3 parts in a buffer before reproducing the stream.
-# Parts are used in Low-Latency HLS in place of segments.
-# Part duration is influenced by the distance between video/audio samples
-# and is adjusted in order to produce segments with a similar duration.
-hlsPartDuration: 200ms
-# Maximum size of each segment.
-# This prevents RAM exhaustion.
-hlsSegmentMaxSize: 50M
-# Value of the Access-Control-Allow-Origin header provided in every HTTP response.
-# This allows to play the HLS stream from an external website.
-hlsAllowOrigin: '*'
-# Enable TLS/HTTPS on the HLS server.
-# This is required for Low-Latency HLS.
-hlsEncryption: no
-# Path to the server key. This is needed only when encryption is yes.
-# This can be generated with:
-# openssl genrsa -out server.key 2048
-# openssl req -new -x509 -sha256 -key server.key -out server.crt -days 3650
-hlsServerKey: server.key
-# Path to the server certificate.
-hlsServerCert: server.crt
-# List of IPs or CIDRs of proxies behind the HLS server.
-# If the server receives a request from one of these entries, IP in logs
-# will be taken from the X-Forwarded-For header.
-hlsTrustedProxies: []
-
-###############################################
-# Path parameters
-
-# These settings are path-dependent, and the map key is the name of the path.
-# It's possible to use regular expressions by using a tilde as prefix.
-# For example, "~^(test1|test2)$" will match both "test1" and "test2".
-# For example, "~^prefix" will match all paths that start with "prefix".
-# The settings under the path "all" are applied to all paths that do not match
-# another entry.
-paths:
-  all:
-    # Source of the stream. This can be:
-    # * publisher -> the stream is published by a RTSP or RTMP client
-    # * rtsp://existing-url -> the stream is pulled from another RTSP server / camera
-    # * rtsps://existing-url -> the stream is pulled from another RTSP server / camera with RTSPS
-    # * rtmp://existing-url -> the stream is pulled from another RTMP server / camera
-    # * rtmps://existing-url -> the stream is pulled from another RTMP server / camera with RTMPS
-    # * http://existing-url/stream.m3u8 -> the stream is pulled from another HLS server
-    # * https://existing-url/stream.m3u8 -> the stream is pulled from another HLS server with HTTPS
-    # * redirect -> the stream is provided by another path or server
-    # * rpiCamera -> the stream is provided by a Raspberry Pi Camera
-    source: publisher
-
-    # If the source is an RTSP or RTSPS URL, this is the protocol that will be used to
-    # pull the stream. available values are "automatic", "udp", "multicast", "tcp".
-    sourceProtocol: automatic
-
-    # Tf the source is an RTSP or RTSPS URL, this allows to support sources that
-    # don't provide server ports or use random server ports. This is a security issue
-    # and must be used only when interacting with sources that require it.
-    sourceAnyPortEnable: no
-
-    # If the source is a RTSPS, RTMPS or HTTPS URL, and the source certificate is self-signed
-    # or invalid, you can provide the fingerprint of the certificate in order to
-    # validate it anyway. It can be obtained by running:
-    # openssl s_client -connect source_ip:source_port </dev/null 2>/dev/null | sed -n '/BEGIN/,/END/p' > server.crt
-    # openssl x509 -in server.crt -noout -fingerprint -sha256 | cut -d "=" -f2 | tr -d ':'
-    sourceFingerprint:
-
-    # If the source is an RTSP or RTMP URL, it will be pulled only when at least
-    # one reader is connected, saving bandwidth.
-    sourceOnDemand: no
-    # If sourceOnDemand is "yes", readers will be put on hold until the source is
-    # ready or until this amount of time has passed.
-    sourceOnDemandStartTimeout: 10s
-    # If sourceOnDemand is "yes", the source will be closed when there are no
-    # readers connected and this amount of time has passed.
-    sourceOnDemandCloseAfter: 10s
-
-    # If the source is "redirect", this is the RTSP URL which clients will be
-    # redirected to.
-    sourceRedirect:
-
-    # If the source is "publisher" and a client is publishing, do not allow another
-    # client to disconnect the former and publish in its place.
-    disablePublisherOverride: no
-
-    # If the source is "publisher" and no one is publishing, redirect readers to this
-    # path. It can be can be a relative path  (i.e. /otherstream) or an absolute RTSP URL.
-    fallback:
-
-    # If the source is "rpiCamera", these are the Raspberry Pi Camera parameters.
-    # ID of the camera
-    rpiCameraCamID: 0
-    # width of frames
-    rpiCameraWidth: 1920
-    # height of frames
-    rpiCameraHeight: 1080
-    # flip horizontally
-    rpiCameraHFlip: false
-    # flip vertically
-    rpiCameraVFlip: false
-    # brightness [-1, 1]
-    rpiCameraBrightness: 0
-    # contrast [0, 16]
-    rpiCameraContrast: 1
-    # saturation [0, 16]
-    rpiCameraSaturation: 1
-    # sharpness [0, 16]
-    rpiCameraSharpness: 1
-    # exposure mode.
-    # values: normal, short, long, custom
-    rpiCameraExposure: normal
-    # auto-white-balance mode.
-    # values: auto, incandescent, tungsten, fluorescent, indoor, daylight, cloudy, custom
-    rpiCameraAWB: auto
-    # denoise operating mode.
-    # values: auto, off, cdn_off, cdn_fast, cdn_hq
-    rpiCameraDenoise: auto
-    # fixed shutter speed, in microseconds.
-    rpiCameraShutter: 0
-    # metering mode of the AEC/AGC algorithm.
-    # values: centre, spot, matrix, custom
-    rpiCameraMetering: centre
-    # fixed gain
-    rpiCameraGain: 0
-    # EV compensation of the image [-10, 10]
-    rpiCameraEV: 0
-    # Region of interest, in format x,y,width,height
-    rpiCameraROI:
-    # tuning file
-    rpiCameraTuningFile:
-    # sensor mode, in format [width]:[height]:[bit-depth]:[packing]
-    # bit-depth and packing are optional.
-    rpiCameraMode:
-    # frames per second
-    rpiCameraFPS: 30
-    # period between IDR frames
-    rpiCameraIDRPeriod: 60
-    # bitrate
-    rpiCameraBitrate: 1000000
-    # H264 profile
-    rpiCameraProfile: main
-    # H264 level
-    rpiCameraLevel: '4.1'
-
-    # Username required to publish.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    publishUser:
-    # Password required to publish.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    publishPass:
-    # IPs or networks (x.x.x.x/24) allowed to publish.
-    publishIPs: []
-
-    # Username required to read.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    readUser:
-    # password required to read.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    readPass:
-    # IPs or networks (x.x.x.x/24) allowed to read.
-    readIPs: []
-
-    # Command to run when this path is initialized.
-    # This can be used to publish a stream and keep it always opened.
-    # This is terminated with SIGINT when the program closes.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnInit:
-    # Restart the command if it exits suddenly.
-    runOnInitRestart: no
-
-    # Command to run when this path is requested.
-    # This can be used to publish a stream on demand.
-    # This is terminated with SIGINT when the path is not requested anymore.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnDemand:
-    # Restart the command if it exits suddenly.
-    runOnDemandRestart: no
-    # Readers will be put on hold until the runOnDemand command starts publishing
-    # or until this amount of time has passed.
-    runOnDemandStartTimeout: 10s
-    # The command will be closed when there are no
-    # readers connected and this amount of time has passed.
-    runOnDemandCloseAfter: 10s
-
-    # Command to run when the stream is ready to be read, whether it is
-    # published by a client or pulled from a server / camera.
-    # This is terminated with SIGINT when the stream is not ready anymore.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnReady:
-    # Restart the command if it exits suddenly.
-    runOnReadyRestart: no
-
-    # Command to run when a clients starts reading.
-    # This is terminated with SIGINT when a client stops reading.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnRead:
-    # Restart the command if it exits suddenly.
-    runOnReadRestart: no
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/version /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/version
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/rtsp-simple-server/version	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/rtsp-simple-server/version	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-v0.20.2
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.bumpversion.cfg /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.bumpversion.cfg
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.bumpversion.cfg	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.bumpversion.cfg	1969-12-31 19:00:00.000000000 -0500
@@ -1,39 +0,0 @@
-[bumpversion]
-commit = True
-tag = True
-current_version = 4.13
-parse = (?P<major>\d+)\.(?P<minor>\d+)
-serialize = 
-	{major}.{minor}
-
-[bumpversion:file:src/libs/config.h]
-parse = (?P<major>\d+)
-serialize = {major}
-search = VERSION_MAJOR {current_version}
-replace = VERSION_MAJOR {new_version}
-
-[bumpversion:file:./src/libs/config.h]
-parse = <major>\d+\.(?P<minor>\d+)
-serialize = {minor}
-search = VERSION_MINOR {current_version}
-replace = VERSION_MINOR {new_version}
-
-[bumpversion:file:python/setup.py]
-search = version="{current_version}"
-replace = version="{new_version}"
-
-[bumpversion:file:pkg/arch/PKGBUILD]
-search = pkgver={current_version}
-replace = pkgver={new_version}
-
-[bumpversion:file:pkg/openwrt/Makefile]
-search = PKG_VERSION:={current_version}
-replace = PKG_VERSION:={new_version}
-
-[bumpversion:file:man/ustreamer.1]
-search = "version {current_version}"
-replace = "version {new_version}"
-
-[bumpversion:file:man/ustreamer-dump.1]
-search = "version {current_version}"
-replace = "version {new_version}"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.dockerignore /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.dockerignore
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.dockerignore	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.dockerignore	1969-12-31 19:00:00.000000000 -0500
@@ -1,9 +0,0 @@
-# Ignore everything
-*
-
-# Allow source code
-!Makefile
-!src/**
-!python/**
-!janus/**
-!man/**
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.editorconfig /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.editorconfig
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.editorconfig	2023-12-15 01:51:35.026398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.editorconfig	1969-12-31 19:00:00.000000000 -0500
@@ -1,10 +0,0 @@
-root = true
-
-[*]
-end_of_file = lf
-indent_style = tab
-indent_size = 4
-
-[*.{py,yaml}]
-indent_style = space
-indent_size = 4
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/config /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/config
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/config	2023-12-15 01:51:35.006398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/config	1969-12-31 19:00:00.000000000 -0500
@@ -1,11 +0,0 @@
-[core]
-	repositoryformatversion = 0
-	filemode = true
-	bare = false
-	logallrefupdates = true
-[remote "origin"]
-	url = https://github.com/pikvm/ustreamer.git
-	fetch = +refs/heads/*:refs/remotes/origin/*
-[branch "master"]
-	remote = origin
-	merge = refs/heads/master
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/description /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/description
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/description	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/description	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-Unnamed repository; edit this file 'description' to name the repository.
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/HEAD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/HEAD	2023-12-15 01:51:35.002398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/HEAD	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-ref: refs/heads/master
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/applypatch-msg.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/applypatch-msg.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/applypatch-msg.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/applypatch-msg.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,15 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to check the commit log message taken by
-# applypatch from an e-mail message.
-#
-# The hook should exit with non-zero status after issuing an
-# appropriate message if it wants to stop the commit.  The hook is
-# allowed to edit the commit message file.
-#
-# To enable this hook, rename this file to "applypatch-msg".
-
-. git-sh-setup
-commitmsg="$(git rev-parse --git-path hooks/commit-msg)"
-test -x "$commitmsg" && exec "$commitmsg" ${1+"$@"}
-:
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/commit-msg.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/commit-msg.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/commit-msg.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/commit-msg.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,24 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to check the commit log message.
-# Called by "git commit" with one argument, the name of the file
-# that has the commit message.  The hook should exit with non-zero
-# status after issuing an appropriate message if it wants to stop the
-# commit.  The hook is allowed to edit the commit message file.
-#
-# To enable this hook, rename this file to "commit-msg".
-
-# Uncomment the below to add a Signed-off-by line to the message.
-# Doing this in a hook is a bad idea in general, but the prepare-commit-msg
-# hook is more suited to it.
-#
-# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
-# grep -qs "^$SOB" "$1" || echo "$SOB" >> "$1"
-
-# This example catches duplicate Signed-off-by lines.
-
-test "" = "$(grep '^Signed-off-by: ' "$1" |
-	 sort | uniq -c | sed -e '/^[ 	]*1[ 	]/d')" || {
-	echo >&2 Duplicate Signed-off-by lines.
-	exit 1
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/fsmonitor-watchman.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/fsmonitor-watchman.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/fsmonitor-watchman.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/fsmonitor-watchman.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,114 +0,0 @@
-#!/usr/bin/perl
-
-use strict;
-use warnings;
-use IPC::Open2;
-
-# An example hook script to integrate Watchman
-# (https://facebook.github.io/watchman/) with git to speed up detecting
-# new and modified files.
-#
-# The hook is passed a version (currently 1) and a time in nanoseconds
-# formatted as a string and outputs to stdout all files that have been
-# modified since the given time. Paths must be relative to the root of
-# the working tree and separated by a single NUL.
-#
-# To enable this hook, rename this file to "query-watchman" and set
-# 'git config core.fsmonitor .git/hooks/query-watchman'
-#
-my ($version, $time) = @ARGV;
-
-# Check the hook interface version
-
-if ($version == 1) {
-	# convert nanoseconds to seconds
-	$time = int $time / 1000000000;
-} else {
-	die "Unsupported query-fsmonitor hook version '$version'.\n" .
-	    "Falling back to scanning...\n";
-}
-
-my $git_work_tree;
-if ($^O =~ 'msys' || $^O =~ 'cygwin') {
-	$git_work_tree = Win32::GetCwd();
-	$git_work_tree =~ tr/\\/\//;
-} else {
-	require Cwd;
-	$git_work_tree = Cwd::cwd();
-}
-
-my $retry = 1;
-
-launch_watchman();
-
-sub launch_watchman {
-
-	my $pid = open2(\*CHLD_OUT, \*CHLD_IN, 'watchman -j --no-pretty')
-	    or die "open2() failed: $!\n" .
-	    "Falling back to scanning...\n";
-
-	# In the query expression below we're asking for names of files that
-	# changed since $time but were not transient (ie created after
-	# $time but no longer exist).
-	#
-	# To accomplish this, we're using the "since" generator to use the
-	# recency index to select candidate nodes and "fields" to limit the
-	# output to file names only. Then we're using the "expression" term to
-	# further constrain the results.
-	#
-	# The category of transient files that we want to ignore will have a
-	# creation clock (cclock) newer than $time_t value and will also not
-	# currently exist.
-
-	my $query = <<"	END";
-		["query", "$git_work_tree", {
-			"since": $time,
-			"fields": ["name"],
-			"expression": ["not", ["allof", ["since", $time, "cclock"], ["not", "exists"]]]
-		}]
-	END
-
-	print CHLD_IN $query;
-	close CHLD_IN;
-	my $response = do {local $/; <CHLD_OUT>};
-
-	die "Watchman: command returned no output.\n" .
-	    "Falling back to scanning...\n" if $response eq "";
-	die "Watchman: command returned invalid output: $response\n" .
-	    "Falling back to scanning...\n" unless $response =~ /^\{/;
-
-	my $json_pkg;
-	eval {
-		require JSON::XS;
-		$json_pkg = "JSON::XS";
-		1;
-	} or do {
-		require JSON::PP;
-		$json_pkg = "JSON::PP";
-	};
-
-	my $o = $json_pkg->new->utf8->decode($response);
-
-	if ($retry > 0 and $o->{error} and $o->{error} =~ m/unable to resolve root .* directory (.*) is not watched/) {
-		print STDERR "Adding '$git_work_tree' to watchman's watch list.\n";
-		$retry--;
-		qx/watchman watch "$git_work_tree"/;
-		die "Failed to make watchman watch '$git_work_tree'.\n" .
-		    "Falling back to scanning...\n" if $? != 0;
-
-		# Watchman will always return all files on the first query so
-		# return the fast "everything is dirty" flag to git and do the
-		# Watchman query just to get it over with now so we won't pay
-		# the cost in git to look up each individual file.
-		print "/\0";
-		eval { launch_watchman() };
-		exit 0;
-	}
-
-	die "Watchman: $o->{error}.\n" .
-	    "Falling back to scanning...\n" if $o->{error};
-
-	binmode STDOUT, ":utf8";
-	local $, = "\0";
-	print @{$o->{files}};
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/post-update.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/post-update.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/post-update.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/post-update.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,8 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to prepare a packed repository for use over
-# dumb transports.
-#
-# To enable this hook, rename this file to "post-update".
-
-exec git update-server-info
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-applypatch.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-applypatch.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-applypatch.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-applypatch.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,14 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to verify what is about to be committed
-# by applypatch from an e-mail message.
-#
-# The hook should exit with non-zero status after issuing an
-# appropriate message if it wants to stop the commit.
-#
-# To enable this hook, rename this file to "pre-applypatch".
-
-. git-sh-setup
-precommit="$(git rev-parse --git-path hooks/pre-commit)"
-test -x "$precommit" && exec "$precommit" ${1+"$@"}
-:
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-commit.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-commit.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-commit.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-commit.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,49 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to verify what is about to be committed.
-# Called by "git commit" with no arguments.  The hook should
-# exit with non-zero status after issuing an appropriate message if
-# it wants to stop the commit.
-#
-# To enable this hook, rename this file to "pre-commit".
-
-if git rev-parse --verify HEAD >/dev/null 2>&1
-then
-	against=HEAD
-else
-	# Initial commit: diff against an empty tree object
-	against=$(git hash-object -t tree /dev/null)
-fi
-
-# If you want to allow non-ASCII filenames set this variable to true.
-allownonascii=$(git config --bool hooks.allownonascii)
-
-# Redirect output to stderr.
-exec 1>&2
-
-# Cross platform projects tend to avoid non-ASCII filenames; prevent
-# them from being added to the repository. We exploit the fact that the
-# printable range starts at the space character and ends with tilde.
-if [ "$allownonascii" != "true" ] &&
-	# Note that the use of brackets around a tr range is ok here, (it's
-	# even required, for portability to Solaris 10's /usr/bin/tr), since
-	# the square bracket bytes happen to fall in the designated range.
-	test $(git diff --cached --name-only --diff-filter=A -z $against |
-	  LC_ALL=C tr -d '[ -~]\0' | wc -c) != 0
-then
-	cat <<\EOF
-Error: Attempt to add a non-ASCII file name.
-
-This can cause problems if you want to work with people on other platforms.
-
-To be portable it is advisable to rename the file.
-
-If you know what you are doing you can disable this check using:
-
-  git config hooks.allownonascii true
-EOF
-	exit 1
-fi
-
-# If there are whitespace errors, print the offending file names and fail.
-exec git diff-index --check --cached $against --
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/prepare-commit-msg.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/prepare-commit-msg.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/prepare-commit-msg.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/prepare-commit-msg.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,42 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to prepare the commit log message.
-# Called by "git commit" with the name of the file that has the
-# commit message, followed by the description of the commit
-# message's source.  The hook's purpose is to edit the commit
-# message file.  If the hook fails with a non-zero status,
-# the commit is aborted.
-#
-# To enable this hook, rename this file to "prepare-commit-msg".
-
-# This hook includes three examples. The first one removes the
-# "# Please enter the commit message..." help message.
-#
-# The second includes the output of "git diff --name-status -r"
-# into the message, just before the "git status" output.  It is
-# commented because it doesn't cope with --amend or with squashed
-# commits.
-#
-# The third example adds a Signed-off-by line to the message, that can
-# still be edited.  This is rarely a good idea.
-
-COMMIT_MSG_FILE=$1
-COMMIT_SOURCE=$2
-SHA1=$3
-
-/usr/bin/perl -i.bak -ne 'print unless(m/^. Please enter the commit message/..m/^#$/)' "$COMMIT_MSG_FILE"
-
-# case "$COMMIT_SOURCE,$SHA1" in
-#  ,|template,)
-#    /usr/bin/perl -i.bak -pe '
-#       print "\n" . `git diff --cached --name-status -r`
-# 	 if /^#/ && $first++ == 0' "$COMMIT_MSG_FILE" ;;
-#  *) ;;
-# esac
-
-# SOB=$(git var GIT_COMMITTER_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
-# git interpret-trailers --in-place --trailer "$SOB" "$COMMIT_MSG_FILE"
-# if test -z "$COMMIT_SOURCE"
-# then
-#   /usr/bin/perl -i.bak -pe 'print "\n" if !$first_line++' "$COMMIT_MSG_FILE"
-# fi
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-push.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-push.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-push.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-push.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,53 +0,0 @@
-#!/bin/sh
-
-# An example hook script to verify what is about to be pushed.  Called by "git
-# push" after it has checked the remote status, but before anything has been
-# pushed.  If this script exits with a non-zero status nothing will be pushed.
-#
-# This hook is called with the following parameters:
-#
-# $1 -- Name of the remote to which the push is being done
-# $2 -- URL to which the push is being done
-#
-# If pushing without using a named remote those arguments will be equal.
-#
-# Information about the commits which are being pushed is supplied as lines to
-# the standard input in the form:
-#
-#   <local ref> <local sha1> <remote ref> <remote sha1>
-#
-# This sample shows how to prevent push of commits where the log message starts
-# with "WIP" (work in progress).
-
-remote="$1"
-url="$2"
-
-z40=0000000000000000000000000000000000000000
-
-while read local_ref local_sha remote_ref remote_sha
-do
-	if [ "$local_sha" = $z40 ]
-	then
-		# Handle delete
-		:
-	else
-		if [ "$remote_sha" = $z40 ]
-		then
-			# New branch, examine all commits
-			range="$local_sha"
-		else
-			# Update to existing branch, examine new commits
-			range="$remote_sha..$local_sha"
-		fi
-
-		# Check for WIP commit
-		commit=`git rev-list -n 1 --grep '^WIP' "$range"`
-		if [ -n "$commit" ]
-		then
-			echo >&2 "Found WIP commit in $local_ref, not pushing"
-			exit 1
-		fi
-	fi
-done
-
-exit 0
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-rebase.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-rebase.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-rebase.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-rebase.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,169 +0,0 @@
-#!/bin/sh
-#
-# Copyright (c) 2006, 2008 Junio C Hamano
-#
-# The "pre-rebase" hook is run just before "git rebase" starts doing
-# its job, and can prevent the command from running by exiting with
-# non-zero status.
-#
-# The hook is called with the following parameters:
-#
-# $1 -- the upstream the series was forked from.
-# $2 -- the branch being rebased (or empty when rebasing the current branch).
-#
-# This sample shows how to prevent topic branches that are already
-# merged to 'next' branch from getting rebased, because allowing it
-# would result in rebasing already published history.
-
-publish=next
-basebranch="$1"
-if test "$#" = 2
-then
-	topic="refs/heads/$2"
-else
-	topic=`git symbolic-ref HEAD` ||
-	exit 0 ;# we do not interrupt rebasing detached HEAD
-fi
-
-case "$topic" in
-refs/heads/??/*)
-	;;
-*)
-	exit 0 ;# we do not interrupt others.
-	;;
-esac
-
-# Now we are dealing with a topic branch being rebased
-# on top of master.  Is it OK to rebase it?
-
-# Does the topic really exist?
-git show-ref -q "$topic" || {
-	echo >&2 "No such branch $topic"
-	exit 1
-}
-
-# Is topic fully merged to master?
-not_in_master=`git rev-list --pretty=oneline ^master "$topic"`
-if test -z "$not_in_master"
-then
-	echo >&2 "$topic is fully merged to master; better remove it."
-	exit 1 ;# we could allow it, but there is no point.
-fi
-
-# Is topic ever merged to next?  If so you should not be rebasing it.
-only_next_1=`git rev-list ^master "^$topic" ${publish} | sort`
-only_next_2=`git rev-list ^master           ${publish} | sort`
-if test "$only_next_1" = "$only_next_2"
-then
-	not_in_topic=`git rev-list "^$topic" master`
-	if test -z "$not_in_topic"
-	then
-		echo >&2 "$topic is already up to date with master"
-		exit 1 ;# we could allow it, but there is no point.
-	else
-		exit 0
-	fi
-else
-	not_in_next=`git rev-list --pretty=oneline ^${publish} "$topic"`
-	/usr/bin/perl -e '
-		my $topic = $ARGV[0];
-		my $msg = "* $topic has commits already merged to public branch:\n";
-		my (%not_in_next) = map {
-			/^([0-9a-f]+) /;
-			($1 => 1);
-		} split(/\n/, $ARGV[1]);
-		for my $elem (map {
-				/^([0-9a-f]+) (.*)$/;
-				[$1 => $2];
-			} split(/\n/, $ARGV[2])) {
-			if (!exists $not_in_next{$elem->[0]}) {
-				if ($msg) {
-					print STDERR $msg;
-					undef $msg;
-				}
-				print STDERR " $elem->[1]\n";
-			}
-		}
-	' "$topic" "$not_in_next" "$not_in_master"
-	exit 1
-fi
-
-<<\DOC_END
-
-This sample hook safeguards topic branches that have been
-published from being rewound.
-
-The workflow assumed here is:
-
- * Once a topic branch forks from "master", "master" is never
-   merged into it again (either directly or indirectly).
-
- * Once a topic branch is fully cooked and merged into "master",
-   it is deleted.  If you need to build on top of it to correct
-   earlier mistakes, a new topic branch is created by forking at
-   the tip of the "master".  This is not strictly necessary, but
-   it makes it easier to keep your history simple.
-
- * Whenever you need to test or publish your changes to topic
-   branches, merge them into "next" branch.
-
-The script, being an example, hardcodes the publish branch name
-to be "next", but it is trivial to make it configurable via
-$GIT_DIR/config mechanism.
-
-With this workflow, you would want to know:
-
-(1) ... if a topic branch has ever been merged to "next".  Young
-    topic branches can have stupid mistakes you would rather
-    clean up before publishing, and things that have not been
-    merged into other branches can be easily rebased without
-    affecting other people.  But once it is published, you would
-    not want to rewind it.
-
-(2) ... if a topic branch has been fully merged to "master".
-    Then you can delete it.  More importantly, you should not
-    build on top of it -- other people may already want to
-    change things related to the topic as patches against your
-    "master", so if you need further changes, it is better to
-    fork the topic (perhaps with the same name) afresh from the
-    tip of "master".
-
-Let's look at this example:
-
-		   o---o---o---o---o---o---o---o---o---o "next"
-		  /       /           /           /
-		 /   a---a---b A     /           /
-		/   /               /           /
-	       /   /   c---c---c---c B         /
-	      /   /   /             \         /
-	     /   /   /   b---b C     \       /
-	    /   /   /   /             \     /
-    ---o---o---o---o---o---o---o---o---o---o---o "master"
-
-
-A, B and C are topic branches.
-
- * A has one fix since it was merged up to "next".
-
- * B has finished.  It has been fully merged up to "master" and "next",
-   and is ready to be deleted.
-
- * C has not merged to "next" at all.
-
-We would want to allow C to be rebased, refuse A, and encourage
-B to be deleted.
-
-To compute (1):
-
-	git rev-list ^master ^topic next
-	git rev-list ^master        next
-
-	if these match, topic has not merged in next at all.
-
-To compute (2):
-
-	git rev-list master..topic
-
-	if this is empty, it is fully merged to "master".
-
-DOC_END
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-receive.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-receive.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/pre-receive.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/pre-receive.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,24 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to make use of push options.
-# The example simply echoes all push options that start with 'echoback='
-# and rejects all pushes when the "reject" push option is used.
-#
-# To enable this hook, rename this file to "pre-receive".
-
-if test -n "$GIT_PUSH_OPTION_COUNT"
-then
-	i=0
-	while test "$i" -lt "$GIT_PUSH_OPTION_COUNT"
-	do
-		eval "value=\$GIT_PUSH_OPTION_$i"
-		case "$value" in
-		echoback=*)
-			echo "echo from the pre-receive-hook: ${value#*=}" >&2
-			;;
-		reject)
-			exit 1
-		esac
-		i=$((i + 1))
-	done
-fi
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/update.sample /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/update.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/hooks/update.sample	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/hooks/update.sample	1969-12-31 19:00:00.000000000 -0500
@@ -1,128 +0,0 @@
-#!/bin/sh
-#
-# An example hook script to block unannotated tags from entering.
-# Called by "git receive-pack" with arguments: refname sha1-old sha1-new
-#
-# To enable this hook, rename this file to "update".
-#
-# Config
-# ------
-# hooks.allowunannotated
-#   This boolean sets whether unannotated tags will be allowed into the
-#   repository.  By default they won't be.
-# hooks.allowdeletetag
-#   This boolean sets whether deleting tags will be allowed in the
-#   repository.  By default they won't be.
-# hooks.allowmodifytag
-#   This boolean sets whether a tag may be modified after creation. By default
-#   it won't be.
-# hooks.allowdeletebranch
-#   This boolean sets whether deleting branches will be allowed in the
-#   repository.  By default they won't be.
-# hooks.denycreatebranch
-#   This boolean sets whether remotely creating branches will be denied
-#   in the repository.  By default this is allowed.
-#
-
-# --- Command line
-refname="$1"
-oldrev="$2"
-newrev="$3"
-
-# --- Safety check
-if [ -z "$GIT_DIR" ]; then
-	echo "Don't run this script from the command line." >&2
-	echo " (if you want, you could supply GIT_DIR then run" >&2
-	echo "  $0 <ref> <oldrev> <newrev>)" >&2
-	exit 1
-fi
-
-if [ -z "$refname" -o -z "$oldrev" -o -z "$newrev" ]; then
-	echo "usage: $0 <ref> <oldrev> <newrev>" >&2
-	exit 1
-fi
-
-# --- Config
-allowunannotated=$(git config --bool hooks.allowunannotated)
-allowdeletebranch=$(git config --bool hooks.allowdeletebranch)
-denycreatebranch=$(git config --bool hooks.denycreatebranch)
-allowdeletetag=$(git config --bool hooks.allowdeletetag)
-allowmodifytag=$(git config --bool hooks.allowmodifytag)
-
-# check for no description
-projectdesc=$(sed -e '1q' "$GIT_DIR/description")
-case "$projectdesc" in
-"Unnamed repository"* | "")
-	echo "*** Project description file hasn't been set" >&2
-	exit 1
-	;;
-esac
-
-# --- Check types
-# if $newrev is 0000...0000, it's a commit to delete a ref.
-zero="0000000000000000000000000000000000000000"
-if [ "$newrev" = "$zero" ]; then
-	newrev_type=delete
-else
-	newrev_type=$(git cat-file -t $newrev)
-fi
-
-case "$refname","$newrev_type" in
-	refs/tags/*,commit)
-		# un-annotated tag
-		short_refname=${refname##refs/tags/}
-		if [ "$allowunannotated" != "true" ]; then
-			echo "*** The un-annotated tag, $short_refname, is not allowed in this repository" >&2
-			echo "*** Use 'git tag [ -a | -s ]' for tags you want to propagate." >&2
-			exit 1
-		fi
-		;;
-	refs/tags/*,delete)
-		# delete tag
-		if [ "$allowdeletetag" != "true" ]; then
-			echo "*** Deleting a tag is not allowed in this repository" >&2
-			exit 1
-		fi
-		;;
-	refs/tags/*,tag)
-		# annotated tag
-		if [ "$allowmodifytag" != "true" ] && git rev-parse $refname > /dev/null 2>&1
-		then
-			echo "*** Tag '$refname' already exists." >&2
-			echo "*** Modifying a tag is not allowed in this repository." >&2
-			exit 1
-		fi
-		;;
-	refs/heads/*,commit)
-		# branch
-		if [ "$oldrev" = "$zero" -a "$denycreatebranch" = "true" ]; then
-			echo "*** Creating a branch is not allowed in this repository" >&2
-			exit 1
-		fi
-		;;
-	refs/heads/*,delete)
-		# delete branch
-		if [ "$allowdeletebranch" != "true" ]; then
-			echo "*** Deleting a branch is not allowed in this repository" >&2
-			exit 1
-		fi
-		;;
-	refs/remotes/*,commit)
-		# tracking branch
-		;;
-	refs/remotes/*,delete)
-		# delete tracking branch
-		if [ "$allowdeletebranch" != "true" ]; then
-			echo "*** Deleting a tracking branch is not allowed in this repository" >&2
-			exit 1
-		fi
-		;;
-	*)
-		# Anything else (is there anything else?)
-		echo "*** Update hook: unknown type of update to ref $refname of type $newrev_type" >&2
-		exit 1
-		;;
-esac
-
-# --- Finished
-exit 0
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/index and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/index differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/info/exclude /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/info/exclude
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/info/exclude	2023-12-15 01:51:27.850398156 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/info/exclude	1969-12-31 19:00:00.000000000 -0500
@@ -1,6 +0,0 @@
-# git ls-files --others --exclude-from=.git/info/exclude
-# Lines that start with '#' are comments.
-# For a project mostly in C, the following would be a good set of
-# exclude patterns (uncomment them if you want to use them):
-# *.[oa]
-# *~
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/HEAD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/HEAD	2023-12-15 01:51:35.170398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/HEAD	1969-12-31 19:00:00.000000000 -0500
@@ -1,2 +0,0 @@
-0000000000000000000000000000000000000000 f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f Mks <mks@mkspi.(none)> 1702623095 +0800	clone: from https://github.com/pikvm/ustreamer.git
-f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f 61ab2a81a50c2347685b9993ddf84d0833ca7cfa root <root@mkspi.(none)> 1702623095 +0800	reset: moving to 61ab2a8
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/refs/heads/master /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/refs/heads/master
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/refs/heads/master	2023-12-15 01:51:35.174398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/refs/heads/master	1969-12-31 19:00:00.000000000 -0500
@@ -1,2 +0,0 @@
-0000000000000000000000000000000000000000 f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f Mks <mks@mkspi.(none)> 1702623095 +0800	clone: from https://github.com/pikvm/ustreamer.git
-f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f 61ab2a81a50c2347685b9993ddf84d0833ca7cfa root <root@mkspi.(none)> 1702623095 +0800	reset: moving to 61ab2a8
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/refs/remotes/origin/HEAD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/refs/remotes/origin/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/logs/refs/remotes/origin/HEAD	2023-12-15 01:51:34.998398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/logs/refs/remotes/origin/HEAD	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-0000000000000000000000000000000000000000 f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f Mks <mks@mkspi.(none)> 1702623095 +0800	clone: from https://github.com/pikvm/ustreamer.git
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/objects/pack/pack-bd8e20cd7d7a263b85b077bb625a4f0b0e6b8ebd.idx and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/objects/pack/pack-bd8e20cd7d7a263b85b077bb625a4f0b0e6b8ebd.idx differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/objects/pack/pack-bd8e20cd7d7a263b85b077bb625a4f0b0e6b8ebd.pack and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/objects/pack/pack-bd8e20cd7d7a263b85b077bb625a4f0b0e6b8ebd.pack differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/ORIG_HEAD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/ORIG_HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/ORIG_HEAD	2023-12-15 01:51:35.170398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/ORIG_HEAD	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/packed-refs /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/packed-refs
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/packed-refs	2023-12-15 01:51:34.998398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/packed-refs	1969-12-31 19:00:00.000000000 -0500
@@ -1,303 +0,0 @@
-# pack-refs with: peeled fully-peeled sorted 
-f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f refs/remotes/origin/master
-8b186019d65fe39a572786e53aa5deeb93c5089d refs/tags/v0.1
-993ef4e8848742edb16521b9ed56e35a46aa5b60 refs/tags/v0.10
-0c192ddcfb44322dd542812225aa073db26c2a5d refs/tags/v0.11
-05b18fb68d4e7180bd82db0a0b5159904ff8fd8b refs/tags/v0.12
-4fc59de04233da12a8efb4b3f5609395b72ff96d refs/tags/v0.13
-23b25634e87a9d5fe981bd730fefb77ff7cac549 refs/tags/v0.14
-0d396e3f0aaca6d657132e624306c89823c51d43 refs/tags/v0.15
-e01c7640b72cb6d70da44d7b41aa7ad092b058b7 refs/tags/v0.16
-60294085642a166472cd714184367ac79e466670 refs/tags/v0.17
-f3c56d5774847c862a8780248cfefbec0721ca39 refs/tags/v0.18
-55156544976c482ed069c176578c8f91b197dc2a refs/tags/v0.19
-eadec8b7a1d36740dcee66e18dd3f5476459c3b4 refs/tags/v0.2
-651a82d1caff21499234a8ce36e412edb516d8a8 refs/tags/v0.20
-667137638b2c28f1001cca6296dfaf8a7a18b9ed refs/tags/v0.21
-281e1b36ce911dec3c43eebd0029596bdd9eccb8 refs/tags/v0.22
-2d054fa9a8adb1aefa6d2bcb17dcce958be68e5b refs/tags/v0.23
-189aba1488488b081a38fc50bca51ff5bed84225 refs/tags/v0.24
-797e9427e54e931c6ec7ce46c03542c0f2c2cc5c refs/tags/v0.25
-77b5e6eabc360046b22d0ee8263f667c395eeff5 refs/tags/v0.26
-a68e27f09ebf8967ea34bf0b6bee1e021c84f007 refs/tags/v0.27
-ab437d402b712dbcdd37b0d14768671a4d4f08e0 refs/tags/v0.28
-97b2183038714e15bbba0a9edac5a8e791f98887 refs/tags/v0.29
-810a80ab095b0854c5b834022c888ca628543d1f refs/tags/v0.3
-d5081b2c1850f68d3f3f07cb0bd6626fc393238a refs/tags/v0.30
-da0e00252daeff2391d41f984959e0a8ac42058d refs/tags/v0.31
-a54541ff10cedea291765362fc50934a0f6dee2a refs/tags/v0.32
-1b0db859b25bfed3d20ad94b661dc715efad6418 refs/tags/v0.33
-077f236a4324d6881db8500199d5400d7774bedf refs/tags/v0.34
-8fa6db0be1bb37d5c69b67c25800e1cb67df59c4 refs/tags/v0.35
-b1d40d1b3aa029a81c15691f5a3fa374f5629423 refs/tags/v0.36
-56df20fe84e89a3adb93bb891d9758447243f033 refs/tags/v0.37
-ccab33a29056920d545888130bb69342db55d981 refs/tags/v0.38
-97ac19a2fece885d93afcd42bc5b81af7025f0bf refs/tags/v0.39
-3ddd1f603efff0a52c147fd64692cd33d8496107 refs/tags/v0.4
-0afbf02451b6e60a0e399ba7ca7c7c1d9f020818 refs/tags/v0.40
-8e61d7c55e530c58e273eeafefcc5132a70a7250 refs/tags/v0.41
-0e0e3939b27c88d7d41088f51c35e0d50f48f42a refs/tags/v0.42
-160a0e8d2958dbf3e6e955c7fc7d1dea3b045d0a refs/tags/v0.43
-348a6e4a8fcebda65907b76f8cf95c1c6f1e9c3f refs/tags/v0.44
-bc2bb444dcf29b09cbb56c975993441a6da3fce0 refs/tags/v0.45
-d4ea97ef2ccf87773023bdf87b18e00dbcddab03 refs/tags/v0.46
-9ca511d29d3fc140733cae96cc0f490dca09a252 refs/tags/v0.47
-59bd4e8dd26b46d21b76c8f2e9eaaa0483054382 refs/tags/v0.48
-bbbfda0b5c1e7af8cf5e0c9638815a85523a46da refs/tags/v0.49
-2eb57866c241af6f6f92fa87c96808efd677a485 refs/tags/v0.5
-142c8c84ac791d56ead8e5e202ce2d08f921edc6 refs/tags/v0.50
-cc25abcc007da87d404036c568b8092215ee73ab refs/tags/v0.51
-bce3ae0f2142ec98a875646be821159a3d734806 refs/tags/v0.52
-6cdaceb561a59fc1f981b54d64e1b2e085818a72 refs/tags/v0.53
-4c8351c1bcf591296f6d341ee056c72766a0da0b refs/tags/v0.54
-fd7b5e9c5911ef21222ae76c7d0620f94abf2a7b refs/tags/v0.55
-dc43f01a7d9ff3c9de0aa03ad93b9f3232c4af21 refs/tags/v0.56
-d979209096bbfee9f96e5b07fda35e396afb88bc refs/tags/v0.57
-3104a009134aece4fe2831284737c382609ef5d5 refs/tags/v0.58
-92844fc3db78462feda94985057ed36a3e351a28 refs/tags/v0.59
-892f87bb17c56745446892062fdbe5f85472c523 refs/tags/v0.6
-c30dea20a55f289e5d1fce2a39d8a93bbc8bde99 refs/tags/v0.60
-73ceba77a8a0a566cd28fd8f4fa2c60997de4892 refs/tags/v0.61
-acc8628f3d8913c94d8685994603e8859feaf6cb refs/tags/v0.62
-fc4cbb1fe15649ce96d5944be4d974e10f7888b0 refs/tags/v0.63
-6f8434a5c288fa9e218f1bb5908872011f8cbaf3 refs/tags/v0.64
-abfc7b917b61ad2c38b0de50cb06a0d5db9c71bf refs/tags/v0.65
-51ca0e4474bb39a68157f5a7bad681e2e179587a refs/tags/v0.66
-6ef5a7e440ebceb63dd26490915133907e9bf719 refs/tags/v0.67
-2077d94edce24e7d524b94c81c417c763684ef5f refs/tags/v0.68
-c34d644c2abacd14b72a73174df0f74a2a98cf81 refs/tags/v0.69
-43800a5ed6490aa1bb519a84828cf03d47a674c9 refs/tags/v0.7
-fa6b8b44c1e13ac4dd9d1a3f56da2a9ec8360e0f refs/tags/v0.70
-33a101b4f751463b5ab04c9912104af3edb991a4 refs/tags/v0.71
-ae7c4c91e08ae559bbc4e87f5173359460517c97 refs/tags/v0.72
-b3c8071edbfbf6594295adbd98e08568ddd122aa refs/tags/v0.73
-8033ab23ed2d2c83ebd9404c5eefc620fc4ac447 refs/tags/v0.74
-5672d1aa7572f8a8cc277047a06f4b3185b7bcc1 refs/tags/v0.75
-c94117ae1e1c5bd87176a924e8b7ffdc9b59f412 refs/tags/v0.76
-07ecc5b0a036b7b8eec724cd226c9e1348f1cabc refs/tags/v0.77
-05246706f007d0f9f9ef9bd9b4c58c48f55b6688 refs/tags/v0.78
-c751e4ff086afb4c146e151e1eacc5b580537acd refs/tags/v0.79
-609fa89d099047b8c47d3c0d9bbeab773bb565e6 refs/tags/v0.8
-76ba25607bb6654034cf466272ed6ea87153fa25 refs/tags/v0.80
-fcd70c3166d5b7151030f7ec2c58cf0aa7057245 refs/tags/v0.81
-d76c5da4ded5a1ac62f3e9aef4f42e68656e3f6c refs/tags/v0.9
-6e307b1ef4b35c051a195e83358062ff63ae846a refs/tags/v1.0
-16d5c81c2249d0e335fa4e55bff34352053ed94c refs/tags/v1.1
-cc00d0fea39649a6b47ce1373147c915e43671a6 refs/tags/v1.10
-e3e2c5ceadb27b7711c29f046f12791f3c254974 refs/tags/v1.11
-60ca92d367b364760818f6dba0612dce86809fd6 refs/tags/v1.12
-e393be4c63b5620524fe62a5304cdd5aed825678 refs/tags/v1.13
-dcc90341c9dc58dc29a663f24722a50fdfad4787 refs/tags/v1.14
-6c2353ce2cd1b003c898f7be86350280c28d3893 refs/tags/v1.15
-06f4017a5b7cc12ef07ba8caca17430b40d313d7 refs/tags/v1.16
-97403cbb75ee4141212f06715113743df5121fea refs/tags/v1.17
-85cf08acdb413ba597b81bfef8151b1191f17136 refs/tags/v1.18
-^d5aebc123152579887795d013da356f3fe8caf76
-1ba23ebc0a94e8ac47411613a8e2488604db69f6 refs/tags/v1.19
-^8637ff5c09cd6be8431eeea66e91420db009f3c6
-afe5b91f63e48edf09cf564f7853ca2ba6e15319 refs/tags/v1.2
-cb1ff6a41e02ff502e2a5bacc94933375a2703c8 refs/tags/v1.20
-^96c806071d8a27d87c2d1a1def7314159418e598
-30d65086220e6e54604221fd1bd5c459ac75dcdd refs/tags/v1.21
-^c3c386ea5b607846fc643fd7b7b50b7c0da70d18
-9418d3b245cb6eaaab36062a9a2c292c38850bb4 refs/tags/v1.22
-^53feba12480dbcb28140e0f72bb7fb46735d444a
-d78639833856d88ce0c96a4399261efff4e51107 refs/tags/v1.23
-^ac9761beb27a1044b89253e509340109c8591d3e
-575add3b00e0caac17d9a3c52af37fa45deeb8b0 refs/tags/v1.24
-^0ac9f77619cef54d55e632c334893b55ad861289
-b89c8735fa2dc68454b351eab99a61caa5424aa5 refs/tags/v1.25
-^2ad8871a54199561d38f894e45a6b65a82542507
-96f852d64039b8fa70848447395e8ce4d6973cae refs/tags/v1.26
-^fc8aba0a12f06071cd9506c72382ca0bf21b12fd
-dd5a5a079a1ae61bf7de96e8e9f08a6970b9ec40 refs/tags/v1.3
-b02b0f910c33a4847f7dddf3a819945a0c52f921 refs/tags/v1.4
-57132c46acb64e1856f505aa2c70a197660a0dd4 refs/tags/v1.5
-6bc26b734e2dec3ed3bc51c113e5b0ddeb031260 refs/tags/v1.6
-2b338cea905f2f36f0ed4574c0b7ec307f03f16b refs/tags/v1.7
-03dd5dfebb833359b3c26e92e54c4131cd0e6344 refs/tags/v1.8
-a6304959f412a4b2346d41fcccac8acd10b0d6c7 refs/tags/v1.9
-af3044e2d149af9eca6240030f304cddb695fe83 refs/tags/v2.0
-^37179184aee505095ef15a0fbe999dcb3e7e9d4b
-c317ac12478b07eb9238c992ba8095d41fbf3809 refs/tags/v2.1
-^d9b91a1d5f9f7cad8aaf031e6ef5cda59c52a431
-8f7742f327a4ccbf2de62d97c3c4c75c8015b09b refs/tags/v2.2
-^3bc4afca9d1f7ce8197222abd2e8710d9da6aba5
-e7224182fba1cf1c3b230eb0fe46638fbc5bc526 refs/tags/v3.0
-^d0a524658028253143374d1d57121d935b9df3c8
-323327820f9e358ce44cb28c41c0eb9a06491ab6 refs/tags/v3.1
-^4a156a692a2bcc72b46f81cee14cf274b71d9640
-d82829b7d8b02164842527c24cffb137eeebe0c5 refs/tags/v3.10
-^77b8386de70a909ced418d4a13b362714f9cdbdc
-ce179fe86c19c7b93ec66e8a6e05e3eebd5c5153 refs/tags/v3.11
-^eb1a2e3695fb8f53c193e8a57cd9263e42d930c7
-447d1b539e279b5ab4855e7b1db33f7b43fba883 refs/tags/v3.12
-^7236e538136e3725f6dfa44e64f67c0cd4bc13ec
-b3c6321d71db1e6b745df5ddc85bec4fafac00fa refs/tags/v3.13
-^28076785519dd1b5f40686445c82e0fc34620618
-0f91c0c3f931b119f1a464ee5b29bad7ef368614 refs/tags/v3.14
-^5cfb3b1e6012f942b761e250dcd4227dde0f49c9
-03ae1f3dbf0d6ad95c987a673e8fb61edf19b6fb refs/tags/v3.15
-^171bcb315a362a4d5b3d9611b9bd87b181009119
-c351a28a57915be19b6cfd744504afe2076d5e3b refs/tags/v3.16
-^fb07444b70c353a00c8effda82241dbe0945da7b
-bf1a1f9020c4cd9f1724d7fd82118d8157c7c7d5 refs/tags/v3.17
-^1b4bcd09fe3eaac5a78ad88e4646c14a70e8b789
-002c273f19f6ba434d933ad0fdb266402123ebc6 refs/tags/v3.18
-^bad05a6827cf74546b2ce83bd981b2aa7e9e10dd
-1097541068f8f7d7d11082fe116a6dd0d78aad4e refs/tags/v3.19
-^91ff97f72197746c508cb967d9faa3ccb37ff835
-12194bca5a0414f1f8e788bfd75a7b95c056e038 refs/tags/v3.2
-^d4e99482208a01aed9946c8289db05ee3e397d7f
-99c177cd29c0cb51a583deea95539f6636a58473 refs/tags/v3.20
-^f3a350148eb6bded13f7ff82ff57c5adc6292bce
-7cd225fc4127be37dd7f16a46709c3c3d6830fca refs/tags/v3.21
-^37216250b89df2f0aab9bd4cf99716d9fc9925e2
-b887d4b12ca793c9eacc405ff8892d63a84c2726 refs/tags/v3.22
-^3b7cbc62c4755f3712487f9a66bd92d242a5090a
-f0146b8c702f3339506049fd5f4189aa4adad981 refs/tags/v3.23
-^74bf710bb69c18506553b2d71d32607de3785702
-1ffdece8621488f4ec57de59e4a54243863cec68 refs/tags/v3.24
-^8ddf77a3d324f339ef18df63ba243a206a53ab78
-11e757cf6809b61677d6ccd0394a379adbf21470 refs/tags/v3.25
-^b329dfed1f1fe066511ef6a195b995e70a0c0f35
-fab20580ff37e0991c27d2d8b181f7adfb2bf2a9 refs/tags/v3.26
-^a97f08eac8aa1defdb2565f6f14301f23ab71c6f
-c6623791647c63475a56878b097309f05e34eb81 refs/tags/v3.27
-^47b735c51f2889ae2f8670d2c941e430ff11325d
-adfc65ef9ebe5c9f886164b32242ae683ca4280f refs/tags/v3.3
-^2f1afb6044addee543b85eedca0be309bff7a0b3
-30e712be76420d15289ed4c1e77dc964eb7a7799 refs/tags/v3.4
-^b746bc307c2c399d15adc42ba751f3aa3c40780a
-6f71b517f48aeca149d81c2555fe9fadc6c6ecd0 refs/tags/v3.5
-^66e0bb0a2c43ce563c00e5167246102c5cbc5e81
-f409f0f160d56fdc7c00c1979c067508ddc649a9 refs/tags/v3.6
-^eec8e41b2b7c799a30f836073f533924891ad2fa
-37a16401570c6f185bfcbc6e13781cf5fa062e2b refs/tags/v3.7
-^40abe733919a6019ac07188d97bf3b13e1288501
-641e2bce9c6ae5b9c403501cb509bec6766419c5 refs/tags/v3.8
-^1b08857534d4297ee4e3519c670f5c038e2f597e
-0fe1932cd84bed5bb11a222b30b403bc52c512ac refs/tags/v3.9
-^202b907430cdf194a388a40e3edc55ea2aae77c5
-04f397ed14999db07f812beec0bfb07c65bc07a7 refs/tags/v4.0
-^0a08ca657dbad82b7d38958945cfcd02d393ce95
-e00896c696b440fb4121ffb3ffd735443a7a2ed8 refs/tags/v4.1
-^767d8ac2407343505ac4a911f3a78a62a494e3ec
-0788ac3e4e5fa01d8d68936a7de8113203292cd8 refs/tags/v4.10
-^421f4a1f2e34850554fe9f83610a60a833a1ff98
-8f54576ca128c1cb3e238f1081c8d733f8d9faf4 refs/tags/v4.11
-^496c9300fc3dcb8ed5aec0da0c5c8eb78c0bc386
-91a9fb386b0a5c4013ef9a48d2c0d3694011f9c4 refs/tags/v4.12
-^fec76dc9ebee1156470b76612be4e69c98cd64a9
-967a5b5b105aba052bfd0b2d33e74f5d7c677eeb refs/tags/v4.13
-^61ab2a81a50c2347685b9993ddf84d0833ca7cfa
-e54f418e439915cf78334fb36df53b0a6cfbf6d0 refs/tags/v4.2
-^484ff0f32be577bc58ed268a4c891aca3023eb8d
-aa436ea9372ba733a406668e775ecfddae0dc0e9 refs/tags/v4.3
-^c20754e62c70f9d37909af8880c2459ad1b09893
-4fff7fb9d5dd3ed3c28238615658e956780e17e2 refs/tags/v4.4
-^6293d542968b17db2ce05f61100cdece99e34d70
-fcf51c67634dc0148d39d773321553714c5e106d refs/tags/v4.5
-^79d6c760849c173d128e8154dd52ed19f365134f
-863960f07bcb37176b64acc1cca3e46965b6d7f1 refs/tags/v4.6
-^690d29181801569b9e6e5c33d8f4206e89923789
-4a8ff89942e4ba3097b11eeb48a0187bdaf637d5 refs/tags/v4.7
-^2d82adb2ba6fcf68530f00f1bcee89302d2a3731
-c3388b2270c2ee268ae7b9928448d6568e3fe79b refs/tags/v4.8
-^349f655cd9088d550a2d61cf1c9a6867beaeaf5a
-4c7fac97802f5df97671b1108d5a55166d5c8c89 refs/tags/v4.9
-^030077fb47c80d10218b663e7d77befb0df4719f
-2e387e3d580fe727c7512ed9b7f181b80bd34f04 refs/tags/v5.0
-^fdc955a7131dd83bf92df2008a4f89768789c7cd
-b9c75f0375d089fc02426289f3188d6da5876148 refs/tags/v5.1
-^967574a78af4c5b13789a59039ff8fd71abcdd8c
-fc4ec9b871c4c9705365fd79982fd8ed68a5ea66 refs/tags/v5.10
-^aa6fc7fe04d8ada954cb3e66946928107f6c50b9
-77a15429824f7a33e9eed06866fda3e696758119 refs/tags/v5.11
-^d29ce42f0891616d37b2c8b55179309fd6c92110
-94dfb90d150fdb9091e9bd1fac4e743c9d6ff27c refs/tags/v5.12
-^fdf3340a7db8186635024aa111c2f6a9338a41c7
-41327e01064215d8f5e16caaebb3cf83d3e0ace7 refs/tags/v5.13
-^f11d390b2295aff904408f4b38a61bc37a1c4f35
-6ea512e57bf955397881f50edac26f8fa1063081 refs/tags/v5.14
-^9b46c2e5977494c617a525e6ba870789b0bdf04b
-11229eafacd77dd77e412b6f3d82731ab5a63cbb refs/tags/v5.15
-^2f86f818ccddacd0a3fe88f810017b0c24aad159
-d5d481c677f4717565f86664eddd7d0eb5ff9694 refs/tags/v5.16
-^e3293d688702057383d33a7f1e9e204414c668d0
-6d8b42d17c616836a1dea870f26e91420cbbcfcf refs/tags/v5.17
-^11f0b80228280c393bae2524cac25a54f84f6ff2
-3f52496d6f8946e78f266161ba2a59b89a43b90a refs/tags/v5.18
-^b5f814d71ecb45472b84d4b3e548f2caf36235c5
-9041f1cbba7740d4803a4abdd37fe905be7fd748 refs/tags/v5.19
-^5502758a7ebdfbc6c8960ea50b26bf808aec75cc
-f2462a95f53981b1ce0121148855e2c9b03a995c refs/tags/v5.2
-^31f47f2eacf8fd167a9645cb82c68a469463b1fd
-14965440805cbdae76c3fecad61357683d6447c4 refs/tags/v5.20
-^4ec02d46b93e818efec8d443cb0bc4ddb2bb60e1
-49d07d5e55db19bf0bb2906fab0ff10ec3d4ab8a refs/tags/v5.21
-^fb50eea526d8cd3180f686c75863c1756b79eb57
-06e3db4ed5cde0b991166e377151f667f1883361 refs/tags/v5.22
-^69cc45a2a0f347a572893b4247ce1dae6390f3ac
-c433475ef92274a685213ce6a0f101072ff98945 refs/tags/v5.23
-^90f09b197ea7611f92ec66cd176e8eeb7ff6bfa8
-622f552badb99eeb02f5cb9401d01c15ef0b1c16 refs/tags/v5.24
-^bfa1516491479e54b7175180b2b01b78d9dcd59e
-2b0efd8bd8569eb8d812c934e8133860edac03b0 refs/tags/v5.25
-^40be0c20e2562df2495210dd0b8e6b85da07d396
-40eaed7c6b87b4937fd0efb93a52d301f9609ab2 refs/tags/v5.26
-^f83ff439c47de08a6a0e7b415d454693debe0e77
-0b35fa25316e039b9617b9d222eca0f8c3bbd336 refs/tags/v5.27
-^8b233a4c713597087922b94315860dadc6c25c54
-cbb8c3ca1bca508063050d5b1a7c142b4477ac39 refs/tags/v5.28
-^c8600e62c2f84378b145bb8b771aefc7ce338884
-0192a3db4df4b62103917d9368970ce05d6d9cb1 refs/tags/v5.29
-^95fcc3c58eb3aeb2d424292ade3a6e531c25e4ec
-8210f65089c2645ea22f30a7221435e52f253827 refs/tags/v5.3
-^7ceb8a3da5a2aab92de9a5bebe294a122f01bb34
-8fd70307f0f55b86bf7f0d9dc11e7b7c31745c37 refs/tags/v5.30
-^3d2f254f40901bd78a97e759d887bf3f1c19ae52
-8559097c42c7ba6b8ab2692ae65ba88e1b4a7e4b refs/tags/v5.31
-^c8712297409edbbe100e2f53322c2cf2c7d25520
-7bd3007ec00d5501bedd0d643b1208ff0f2980b9 refs/tags/v5.32
-^86fef470188425cd4cd8d1c73475500c017d4dec
-6199c2e77e1dc3f77fe503c85be50a945b27c9e1 refs/tags/v5.33
-^5b33246b6bfa2aa8dc496ca9aa72121d6fcee6fa
-5669f966cc75cf0960eea7462215ccbb4a2118a3 refs/tags/v5.34
-^bf78d8f56296226d69094e2a58edf21d9539a524
-e590f88411082f575e9f68c5931174190bca0343 refs/tags/v5.35
-^6174edcf0dca43448517be7abe8534def8d25436
-4d1a34b8f53e6da8fd969ac54773e3edddfdd6b5 refs/tags/v5.36
-^31219358c511ea912f98ff40c06e3f8e188284d4
-778a7799c41d702a6df4fb1651461df97c0a7aee refs/tags/v5.37
-^dde2190ac9b96795e58908a6b57b06b2842b1010
-573a426bca56deada806b158fb4025f3c4e0e343 refs/tags/v5.38
-^28c85991672b43b5a0e1c17329c000308293f5ba
-831a52a43ccf2c104d32a6d4eced0209cadfbc83 refs/tags/v5.39
-^aeb5930483390b995b6bd652dbb833b8626b23a3
-a775e8e47b75baa8e5d0c0b50494614caab89bc5 refs/tags/v5.4
-^3d4e9fbb1aada922330c3519f3633189210ed647
-651cf57b41f3574218d45f240316d4c7c92e5f48 refs/tags/v5.40
-^09359cb9572dbbce73acbe4f37375683ddcd2e86
-df7ee8cb89cc35c2522788420f9989f85f534a62 refs/tags/v5.41
-^548c261d9237598a280db1af9f018956015a391f
-7820056fd603f5a1a7afcf6a2911d8195a1aff81 refs/tags/v5.42
-^35ed415f4c1b86d1667fe05fc9e0db7fecb3f02f
-8f57378a37bb3d2f137385a0f48183759c0a9832 refs/tags/v5.43
-^a4b4dd3932e54e55c98d62d0c35d93818e10982d
-aedabeeda7f86e9e1b41acc458bdd66130642daf refs/tags/v5.44
-^79987da1bf95c59a5b987843062b051c54037b24
-5955b3d312f8adfcb102506ef4d69b595648005e refs/tags/v5.45
-^33fdf9bf43a66ccf68fa6f374f2b077aa0e1e15c
-b6e7304edaed957dd7efbe01eff93728a6bdc356 refs/tags/v5.46
-^f8ed7d7b3bf12d81b73d9c934e8b3d6b66cea24f
-3b521edfce731253446bd1fa5eb14ce575f8b644 refs/tags/v5.5
-^7175f8d569c36e2f8bc0132f7a00f6d09e368da7
-61083f075ea31754b7ed8e8b78fa111a8ac60df6 refs/tags/v5.6
-^1cff2545b10837ae94ffae96983b449fe2512336
-c87b6f379d7273740c6f9807d07bbeeba13b5170 refs/tags/v5.7
-^a360f1901ecfacf9066f2545df5c2089ddd93c29
-98d20f97b3f6d9487ae12d9dd848ffeaea286c1a refs/tags/v5.8
-^92a090dec334de6cc25bd34f35c149f3ae611495
-387e9a1a482d67895d82a134ffaba7a7a90b2f11 refs/tags/v5.9
-^3de7e26a3612b1f9a72127ce121fdcc65cdf2e7f
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/refs/heads/master /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/refs/heads/master
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/refs/heads/master	2023-12-15 01:51:35.170398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/refs/heads/master	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-61ab2a81a50c2347685b9993ddf84d0833ca7cfa
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/refs/remotes/origin/HEAD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/refs/remotes/origin/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.git/refs/remotes/origin/HEAD	2023-12-15 01:51:35.002398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.git/refs/remotes/origin/HEAD	1969-12-31 19:00:00.000000000 -0500
@@ -1 +0,0 @@
-ref: refs/remotes/origin/master
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.gitattributes /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.gitattributes
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.gitattributes	2023-12-15 01:51:35.026398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.gitattributes	1969-12-31 19:00:00.000000000 -0500
@@ -1,5 +0,0 @@
-/.github/ export-ignore
-/.bumpversion.cfg export-ignore
-/.dockerignore export-ignore
-/.gitattributes export-ignore
-/.gitignore export-ignore
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.github/FUNDING.yml /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.github/FUNDING.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.github/FUNDING.yml	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.github/FUNDING.yml	1969-12-31 19:00:00.000000000 -0500
@@ -1,4 +0,0 @@
-# These are supported funding model platforms
-
-patreon: pikvm
-custom: https://www.paypal.me/mdevaev
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.github/workflows/dockerimage.yml /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.github/workflows/dockerimage.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.github/workflows/dockerimage.yml	2023-12-15 01:51:35.026398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.github/workflows/dockerimage.yml	1969-12-31 19:00:00.000000000 -0500
@@ -1,20 +0,0 @@
-name: CI
-
-on:
-    push:
-        branches: [master]
-    pull_request:
-        branches: [master]
-
-jobs:
-    build:
-        runs-on: ubuntu-latest
-
-        steps:
-          - uses: actions/checkout@v2
-
-          - name: Building linters image ...
-            run: make linters
-
-          - name: Running linters ...
-            run: make tox
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.gitignore /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.gitignore
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/.gitignore	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/.gitignore	1969-12-31 19:00:00.000000000 -0500
@@ -1,17 +0,0 @@
-/linters/.tox/
-/linters/.mypy_cache/
-/pkg/arch/pkg/
-/pkg/arch/src/
-/src/build/
-/python/build/
-/janus/build/
-/ustreamer
-/ustreamer-dump
-/config.mk
-vgcore.*
-*.sock
-*.so
-*.bin
-*.pkg.tar.xz
-*.pkg.tar.zst
-*.tar.gz
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/Makefile	2023-12-15 01:51:35.114398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,54 +0,0 @@
-DESTDIR ?=
-PREFIX ?= /usr/local
-
-CC ?= gcc
-CFLAGS ?= -O3
-LDFLAGS ?=
-
-
-# =====
-_PLUGIN = libjanus_ustreamer.so
-
-_CFLAGS = -fPIC -MD -c -std=c11 -Wall -Wextra -D_GNU_SOURCE $(shell pkg-config --cflags glib-2.0) $(CFLAGS)
-_LDFLAGS = -shared -lm -pthread -lrt -ljansson $(shell pkg-config --libs glib-2.0) $(LDFLAGS)
-
-_SRCS = $(shell ls src/*.c)
-
-_BUILD = build
-
-
-define optbool
-$(filter $(shell echo $(1) | tr A-Z a-z), yes on 1)
-endef
-
-
-WITH_PTHREAD_NP ?= 1
-ifneq ($(call optbool,$(WITH_PTHREAD_NP)),)
-override _CFLAGS += -DWITH_PTHREAD_NP
-endif
-
-
-# =====
-$(_PLUGIN): $(_SRCS:%.c=$(_BUILD)/%.o)
-	$(info == SO $@)
-	@ $(CC) $^ -o $@ $(_LDFLAGS)
-
-
-$(_BUILD)/%.o: %.c
-	$(info -- CC $<)
-	@ mkdir -p $(dir $@) || true
-	@ $(CC) $< -o $@ $(_CFLAGS)
-
-
-
-install: $(_PLUGIN)
-	mkdir -p $(DESTDIR)$(PREFIX)/lib/ustreamer/janus
-	install -m755 $(_PLUGIN) $(DESTDIR)$(PREFIX)/lib/ustreamer/janus/$(PLUGIN)
-
-
-clean:
-	rm -rf $(_PLUGIN) $(_BUILD)
-
-
-_OBJS = $(_SRCS:%.c=$(_BUILD)/%.o)
--include $(_OBJS:%.o=%.d)
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/base64.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/base64.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/base64.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/base64.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,72 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "base64.h"
-
-
-static const char _ENCODING_TABLE[] = {
-	'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',
-	'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',
-	'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',
-	'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',
-	'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',
-	'o', 'p', 'q', 'r', 's', 't', 'u', 'v',
-	'w', 'x', 'y', 'z', '0', '1', '2', '3',
-	'4', '5', '6', '7', '8', '9', '+', '/',
-};
-
-static const unsigned _MOD_TABLE[] = {0, 2, 1};
-
-
-void base64_encode(const uint8_t *data, size_t size, char **encoded, size_t *allocated) {
-	const size_t encoded_size = 4 * ((size + 2) / 3) + 1; // +1 for '\0'
-
-	if (*encoded == NULL || (allocated && *allocated < encoded_size)) {
-		A_REALLOC(*encoded, encoded_size);
-		if (allocated) {
-			*allocated = encoded_size;
-		}
-	}
-
-	for (unsigned data_index = 0, encoded_index = 0; data_index < size;) {
-#		define OCTET(_name) unsigned _name = (data_index < size ? (uint8_t)data[data_index++] : 0)
-		OCTET(octet_a);
-		OCTET(octet_b);
-		OCTET(octet_c);
-#		undef OCTET
-
-		unsigned triple = (octet_a << 0x10) + (octet_b << 0x08) + octet_c;
-
-#		define ENCODE(_offset) (*encoded)[encoded_index++] = _ENCODING_TABLE[(triple >> _offset * 6) & 0x3F]
-		ENCODE(3);
-		ENCODE(2);
-		ENCODE(1);
-		ENCODE(0);
-#		undef ENCODE
-	}
-
-	for (unsigned index = 0; index < _MOD_TABLE[size % 3]; index++) {
-		(*encoded)[encoded_size - 2 - index] = '=';
-	}
-
-	(*encoded)[encoded_size - 1] = '\0';
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/base64.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/base64.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/base64.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/base64.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,34 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdint.h>
-#include <string.h>
-
-#include <sys/types.h>
-
-#include "tools.h"
-
-
-void base64_encode(const uint8_t *data, size_t size, char **encoded, size_t *allocated);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/config.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/config.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/config.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/config.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,32 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#define VERSION_MAJOR 4
-#define VERSION_MINOR 13
-
-#define MAKE_VERSION2(_major, _minor) #_major "." #_minor
-#define MAKE_VERSION1(_major, _minor) MAKE_VERSION2(_major, _minor)
-#define VERSION MAKE_VERSION1(VERSION_MAJOR, VERSION_MINOR)
-
-#define VERSION_U ((unsigned)(VERSION_MAJOR * 1000 + VERSION_MINOR))
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/frame.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/frame.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/frame.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/frame.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,106 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "frame.h"
-
-
-frame_s *frame_init(void) {
-	frame_s *frame;
-	A_CALLOC(frame, 1);
-	frame_realloc_data(frame, 512 * 1024);
-	return frame;
-}
-
-void frame_destroy(frame_s *frame) {
-	if (frame->data) {
-		free(frame->data);
-	}
-	free(frame);
-}
-
-void frame_realloc_data(frame_s *frame, size_t size) {
-	if (frame->allocated < size) {
-		A_REALLOC(frame->data, size);
-		frame->allocated = size;
-	}
-}
-
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size) {
-	frame_realloc_data(frame, size);
-	memcpy(frame->data, data, size);
-	frame->used = size;
-}
-
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size) {
-	size_t new_used = frame->used + size;
-	frame_realloc_data(frame, new_used);
-	memcpy(frame->data + frame->used, data, size);
-	frame->used = new_used;
-}
-
-void frame_copy(const frame_s *src, frame_s *dest) {
-	frame_set_data(dest, src->data, src->used);
-	FRAME_COPY_META(src, dest);
-}
-
-bool frame_compare(const frame_s *a, const frame_s *b) {
-	return (
-		a->allocated && b->allocated
-		&& FRAME_COMPARE_META_USED_NOTS(a, b)
-		&& !memcmp(a->data, b->data, b->used)
-	);
-}
-
-unsigned frame_get_padding(const frame_s *frame) {
-	unsigned bytes_per_pixel = 0;
-	switch (frame->format) {
-		case V4L2_PIX_FMT_YUYV:
-		case V4L2_PIX_FMT_UYVY:
-		case V4L2_PIX_FMT_RGB565: bytes_per_pixel = 2; break;
-		case V4L2_PIX_FMT_RGB24: bytes_per_pixel = 3; break;
-		// case V4L2_PIX_FMT_H264:
-		case V4L2_PIX_FMT_MJPEG:
-		case V4L2_PIX_FMT_JPEG: bytes_per_pixel = 0; break;
-		default: assert(0 && "Unknown pixelformat");
-	}
-	if (bytes_per_pixel > 0 && frame->stride > frame->width) {
-		return (frame->stride - frame->width * bytes_per_pixel);
-	}
-	return 0;
-}
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size) {
-	assert(size >= 8);
-	buf[0] = format & 0x7F;
-	buf[1] = (format >> 8) & 0x7F;
-	buf[2] = (format >> 16) & 0x7F;
-	buf[3] = (format >> 24) & 0x7F;
-	if (format & ((unsigned)1 << 31)) {
-		buf[4] = '-';
-		buf[5] = 'B';
-		buf[6] = 'E';
-		buf[7] = '\0';
-	} else {
-		buf[4] = '\0';
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/frame.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/frame.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/frame.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/frame.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,102 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stddef.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdlib.h>
-#include <string.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include "tools.h"
-
-
-typedef struct {
-	uint8_t	*data;
-	size_t	used;
-	size_t	allocated;
-
-	unsigned width;
-	unsigned height;
-	unsigned format;
-	unsigned stride;
-	// Stride is a bytesperline in V4L2
-	// https://www.kernel.org/doc/html/v4.14/media/uapi/v4l/pixfmt-v4l2.html
-	// https://medium.com/@oleg.shipitko/what-does-stride-mean-in-image-processing-bba158a72bcd
-
-	bool online;
-	bool key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-} frame_s;
-
-
-#define FRAME_COPY_META(_src, _dest) { \
-		_dest->width = _src->width; \
-		_dest->height = _src->height; \
-		_dest->format = _src->format; \
-		_dest->stride = _src->stride; \
-		_dest->online = _src->online; \
-		_dest->key = _src->key; \
-		_dest->grab_ts = _src->grab_ts; \
-		_dest->encode_begin_ts = _src->encode_begin_ts; \
-		_dest->encode_end_ts = _src->encode_end_ts; \
-	}
-
-static inline void frame_copy_meta(const frame_s *src, frame_s *dest) {
-	FRAME_COPY_META(src, dest);
-}
-
-#define FRAME_COMPARE_META_USED_NOTS(_a, _b) ( \
-		_a->used == _b->used \
-		&& _a->width == _b->width \
-		&& _a->height == _b->height \
-		&& _a->format == _b->format \
-		&& _a->stride == _b->stride \
-		&& _a->online == _b->online \
-		&& _a->key == _b->key \
-	)
-
-
-frame_s *frame_init(void);
-void frame_destroy(frame_s *frame);
-
-void frame_realloc_data(frame_s *frame, size_t size);
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size);
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size);
-
-void frame_copy(const frame_s *src, frame_s *dest);
-bool frame_compare(const frame_s *a, const frame_s *b);
-
-unsigned frame_get_padding(const frame_s *frame);
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size);
-
-static inline bool is_jpeg(unsigned format) {
-	return (format == V4L2_PIX_FMT_JPEG || format == V4L2_PIX_FMT_MJPEG);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/list.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/list.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/list.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/list.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,71 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <assert.h>
-
-
-#define LIST_STRUCT(...) \
-	__VA_ARGS__ *prev; \
-	__VA_ARGS__ *next;
-
-#define LIST_ITERATE(_first, _item, ...) { \
-		for (__typeof__(_first) _item = _first; _item;) { \
-			__typeof__(_first) _next = _item->next; \
-			__VA_ARGS__ \
-			_item = _next; \
-		} \
-	}
-
-#define LIST_APPEND(_first, _item) { \
-		if (_first == NULL) { \
-			_first = _item; \
-		} else { \
-			__typeof__(_first) _last = _first; \
-			for (; _last->next; _last = _last->next); \
-			_item->prev = _last; \
-			_last->next = _item; \
-		} \
-	}
-
-#define LIST_APPEND_C(_first, _item, _count) { \
-		LIST_APPEND(_first, _item); \
-		++(_count); \
-	}
-
-#define LIST_REMOVE(_first, _item) { \
-		if (_item->prev == NULL) { \
-			_first = _item->next; \
-		} else { \
-			_item->prev->next = _item->next; \
-		} \
-		if (_item->next != NULL) { \
-			_item->next->prev = _item->prev; \
-		} \
-	}
-
-#define LIST_REMOVE_C(_first, _item, _count) { \
-		LIST_REMOVE(_first, _item); \
-		assert((_count) >= 1); \
-		--(_count); \
-	}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/memsinksh.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/memsinksh.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/memsinksh.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/memsinksh.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,84 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-#include <stdbool.h>
-
-#include <sys/types.h>
-#include <sys/mman.h>
-
-
-#define MEMSINK_MAGIC	((uint64_t)0xCAFEBABECAFEBABE)
-#define MEMSINK_VERSION	((uint32_t)2)
-
-#ifndef CFG_MEMSINK_MAX_DATA
-#	define CFG_MEMSINK_MAX_DATA 33554432
-#endif
-#define MEMSINK_MAX_DATA ((size_t)(CFG_MEMSINK_MAX_DATA))
-
-
-typedef struct {
-	uint64_t	magic;
-	uint32_t	version;
-
-	uint64_t	id;
-
-	size_t		used;
-	unsigned	width;
-	unsigned	height;
-	unsigned	format;
-	unsigned	stride;
-	bool		online;
-	bool		key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-
-	long double	last_client_ts;
-
-	uint8_t		data[MEMSINK_MAX_DATA];
-} memsink_shared_s;
-
-
-INLINE memsink_shared_s *memsink_shared_map(int fd) {
-	memsink_shared_s *mem = mmap(
-		NULL,
-		sizeof(memsink_shared_s),
-		PROT_READ | PROT_WRITE,
-		MAP_SHARED,
-		fd,
-		0
-	);
-	if (mem == MAP_FAILED) {
-		return NULL;
-	}
-	assert(mem != NULL);
-	return mem;
-}
-
-INLINE int memsink_shared_unmap(memsink_shared_s *mem) {
-	assert(mem != NULL);
-	return munmap(mem, sizeof(memsink_shared_s));
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/plugin.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/plugin.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/plugin.c	2023-12-15 01:51:35.114398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/plugin.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,522 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdatomic.h>
-#include <stdlib.h>
-#include <unistd.h>
-#include <fcntl.h>
-#include <assert.h>
-
-#include <sys/mman.h>
-#include <sys/stat.h>
-#include <linux/videodev2.h>
-
-#include <pthread.h>
-#include <jansson.h>
-#include <janus/config.h>
-#include <janus/plugins/plugin.h>
-
-#include "config.h"
-#include "tools.h"
-#include "threading.h"
-#include "list.h"
-#include "memsinksh.h"
-
-#include "rtp.h"
-
-
-static int _plugin_init(janus_callbacks *gw, const char *config_file_path);
-static void _plugin_destroy(void);
-
-static void _plugin_create_session(janus_plugin_session *session, int *error);
-static void _plugin_destroy_session(janus_plugin_session *session, int *error);
-static json_t *_plugin_query_session(janus_plugin_session *session);
-
-static void _plugin_setup_media(janus_plugin_session *session);
-static void _plugin_hangup_media(janus_plugin_session *session);
-
-static struct janus_plugin_result *_plugin_handle_message(
-	janus_plugin_session *session, char *transaction, json_t *msg, json_t *jsep);
-
-static int _plugin_get_api_compatibility(void);
-static int _plugin_get_version(void);
-static const char *_plugin_get_version_string(void);
-static const char *_plugin_get_description(void);
-static const char *_plugin_get_name(void);
-static const char *_plugin_get_author(void);
-static const char *_plugin_get_package(void);
-
-
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Woverride-init"
-static janus_plugin _plugin = JANUS_PLUGIN_INIT(
-	.init = _plugin_init,
-	.destroy = _plugin_destroy,
-
-	.create_session = _plugin_create_session,
-	.destroy_session = _plugin_destroy_session,
-	.query_session = _plugin_query_session,
-
-	.setup_media = _plugin_setup_media,
-	.hangup_media = _plugin_hangup_media,
-
-	.handle_message = _plugin_handle_message,
-
-	.get_api_compatibility = _plugin_get_api_compatibility,
-	.get_version = _plugin_get_version,
-	.get_version_string = _plugin_get_version_string,
-	.get_description = _plugin_get_description,
-	.get_name = _plugin_get_name,
-	.get_author = _plugin_get_author,
-	.get_package = _plugin_get_package,
-);
-#pragma GCC diagnostic pop
-
-janus_plugin *create(void) { // cppcheck-suppress unusedFunction
-	return &_plugin;
-}
-
-
-typedef struct _client_sx {
-	janus_plugin_session *session;
-	bool transmit;
-
-	LIST_STRUCT(struct _client_sx);
-} _client_s;
-
-
-static char				*_g_memsink_obj = NULL;
-const long double		_g_wait_timeout = 1;
-const long double		_g_lock_timeout = 1;
-const useconds_t		_g_lock_polling = 1000;
-const useconds_t		_g_watchers_polling = 100000;
-
-static _client_s		*_g_clients = NULL;
-static janus_callbacks	*_g_gw = NULL;
-static rtp_s			*_g_rtp = NULL;
-
-static pthread_t		_g_tid;
-static pthread_mutex_t	_g_lock = PTHREAD_MUTEX_INITIALIZER;
-static atomic_bool		_g_ready = ATOMIC_VAR_INIT(false);
-static atomic_bool		_g_stop = ATOMIC_VAR_INIT(false);
-static atomic_bool		_g_has_watchers = ATOMIC_VAR_INIT(false);
-
-
-#define JLOG_INFO(_msg, ...)	JANUS_LOG(LOG_INFO, "== %s -- " _msg "\n", _plugin_get_name(), ##__VA_ARGS__)
-#define JLOG_WARN(_msg, ...)	JANUS_LOG(LOG_WARN, "== %s -- " _msg "\n", _plugin_get_name(), ##__VA_ARGS__)
-#define JLOG_ERROR(_msg, ...)	JANUS_LOG(LOG_ERR, "== %s -- " _msg "\n", _plugin_get_name(), ##__VA_ARGS__)
-
-#define JLOG_PERROR(_msg, ...) { \
-		char _perror_buf[1024] = {0}; \
-		char *_perror_ptr = errno_to_string(errno, _perror_buf, 1023); \
-		JANUS_LOG(LOG_ERR, "[%s] " _msg ": %s\n", _plugin_get_name(), ##__VA_ARGS__, _perror_ptr); \
-	}
-
-#define LOCK			A_MUTEX_LOCK(&_g_lock)
-#define UNLOCK			A_MUTEX_UNLOCK(&_g_lock)
-#define READY			atomic_load(&_g_ready)
-#define STOP			atomic_load(&_g_stop)
-#define HAS_WATCHERS	atomic_load(&_g_has_watchers)
-
-
-static void _relay_rtp_clients(const uint8_t *datagram, size_t size) {
-	janus_plugin_rtp packet = {
-		.video = true,
-		.buffer = (char *)datagram,
-		.length = size,
-	};
-	janus_plugin_rtp_extensions_reset(&packet.extensions);
-	LIST_ITERATE(_g_clients, client, {
-		if (client->transmit) {
-			_g_gw->relay_rtp(client->session, &packet);
-		}
-	});
-}
-
-static int _wait_frame(int fd, memsink_shared_s* mem, uint64_t last_id) {
-	long double deadline_ts = get_now_monotonic() + _g_wait_timeout;
-	long double now;
-	do {
-		int retval = flock_timedwait_monotonic(fd, _g_lock_timeout);
-		now = get_now_monotonic();
-		if (retval < 0 && errno != EWOULDBLOCK) {
-			JLOG_PERROR("Can't lock memsink");
-			return -1;
-		} else if (retval == 0) {
-			if (mem->magic == MEMSINK_MAGIC && mem->version == MEMSINK_VERSION && mem->id != last_id) {
-				return 0;
-			}
-			if (flock(fd, LOCK_UN) < 0) {
-				JLOG_PERROR("Can't unlock memsink");
-				return -1;
-			}
-		}
-		usleep(_g_lock_polling);
-	} while (now < deadline_ts);
-	return -2;
-}
-
-static int _get_frame(int fd, memsink_shared_s *mem, frame_s *frame, uint64_t *frame_id) {
-	frame_set_data(frame, mem->data, mem->used);
-	FRAME_COPY_META(mem, frame);
-	*frame_id = mem->id;
-	mem->last_client_ts = get_now_monotonic();
-	int retval = 0;
-	if (frame->format != V4L2_PIX_FMT_H264) {
-		JLOG_ERROR("Got non-H264 frame from memsink");
-		retval = -1;
-	}
-	if (flock(fd, LOCK_UN) < 0) {
-		JLOG_PERROR("Can't unlock memsink");
-		retval = -1;
-	}
-	return retval;
-}
-
-static void *_clients_thread(UNUSED void *arg) {
-	A_THREAD_RENAME("us_clients");
-	atomic_store(&_g_ready, true);
-
-	frame_s *frame = frame_init();
-	uint64_t frame_id = 0;
-
-	unsigned error_reported = 0;
-
-#	define IF_NOT_REPORTED(_error, ...) { \
-			if (error_reported != _error) { __VA_ARGS__; error_reported = _error; } \
-		}
-
-	while (!STOP) {
-		if (!HAS_WATCHERS) {
-			IF_NOT_REPORTED(1, {
-				JLOG_INFO("No active watchers, memsink disconnected");
-			});
-			usleep(_g_watchers_polling);
-			continue;
-		}
-
-		int fd = -1;
-		memsink_shared_s *mem = NULL;
-
-		if ((fd = shm_open(_g_memsink_obj, O_RDWR, 0)) <= 0) {
-			IF_NOT_REPORTED(2, {
-				JLOG_PERROR("Can't open memsink");
-			});
-			goto close_memsink;
-		}
-
-		if ((mem = memsink_shared_map(fd)) == NULL) {
-			IF_NOT_REPORTED(3, {
-				JLOG_PERROR("Can't map memsink");
-			});
-			goto close_memsink;
-		}
-
-		error_reported = 0;
-
-		JLOG_INFO("Memsink opened; reading frames ...");
-		while (!STOP && HAS_WATCHERS) {
-			int result = _wait_frame(fd, mem, frame_id);
-			if (result == 0) {
-				if (_get_frame(fd, mem, frame, &frame_id) != 0) {
-					goto close_memsink;
-				}
-				LOCK;
-				rtp_wrap_h264(_g_rtp, frame, _relay_rtp_clients);
-				UNLOCK;
-			} else if (result == -1) {
-				goto close_memsink;
-			}
-		}
-
-		close_memsink:
-			if (mem != NULL) {
-				JLOG_INFO("Memsink closed");
-				memsink_shared_unmap(mem);
-				mem = NULL;
-			}
-			if (fd > 0) {
-				close(fd);
-				fd = -1;
-			}
-			sleep(1); // error_delay
-	}
-
-#	undef IF_NOT_REPORTED
-
-	frame_destroy(frame);
-	return NULL;
-}
-
-static int _read_config(const char *config_dir_path) {
-	char *config_file_path;
-	janus_config *config = NULL;
-
-	A_ASPRINTF(config_file_path, "%s/%s.jcfg", config_dir_path, _plugin_get_package());
-	JLOG_INFO("Reading config file '%s' ...", config_file_path);
-
-	config = janus_config_parse(config_file_path);
-	if (config == NULL) {
-		JLOG_ERROR("Can't read config");
-		goto error;
-	}
-	janus_config_print(config);
-
-	janus_config_category *config_memsink = janus_config_get_create(config, NULL, janus_config_type_category, "memsink");
-	janus_config_item *config_memsink_obj = janus_config_get(config, config_memsink, janus_config_type_item, "object");
-	if (config_memsink_obj == NULL || config_memsink_obj->value == NULL || config_memsink_obj->value[0] == '\0') {
-		JLOG_ERROR("Missing config value: memsink.object");
-		goto error;
-	}
-	_g_memsink_obj = strdup(config_memsink_obj->value);
-
-	int retval = 0;
-	goto ok;
-	error:
-		retval = -1;
-	ok:
-		if (config) {
-			janus_config_destroy(config);
-		}
-		free(config_file_path);
-		return retval;
-}
-
-static int _plugin_init(janus_callbacks *gw, const char *config_dir_path) {
-	// https://groups.google.com/g/meetecho-janus/c/xoWIQfaoJm8
-	// sysctl -w net.core.rmem_default=500000 
-	// sysctl -w net.core.wmem_default=500000 
-	// sysctl -w net.core.rmem_max=1000000 
-	// sysctl -w net.core.wmem_max=1000000
-
-	JLOG_INFO("Initializing plugin ...");
-	assert(!READY);
-	assert(!STOP);
-	if (gw == NULL || config_dir_path == NULL || _read_config(config_dir_path) < 0) {
-		return -1;
-	}
-	_g_gw = gw;
-	_g_rtp = rtp_init();
-	A_THREAD_CREATE(&_g_tid, _clients_thread, NULL);
-	return 0;
-}
-
-static void _plugin_destroy(void) {
-	JLOG_INFO("Destroying plugin ...");
-	atomic_store(&_g_stop, true);
-	if (READY) {
-		A_THREAD_JOIN(_g_tid);
-	}
-
-	LIST_ITERATE(_g_clients, client, {
-		LIST_REMOVE(_g_clients, client);
-		free(client);
-	});
-	_g_clients = NULL;
-
-	rtp_destroy(_g_rtp);
-	_g_rtp = NULL;
-
-	_g_gw = NULL;
-
-	if (_g_memsink_obj) {
-		free(_g_memsink_obj);
-		_g_memsink_obj = NULL;
-	}
-}
-
-#define IF_DISABLED(...) { if (!READY || STOP) { __VA_ARGS__ } }
-
-static void _plugin_create_session(janus_plugin_session *session, int *error) {
-	IF_DISABLED({ *error = -1; return; });
-	LOCK;
-	JLOG_INFO("Creating session %p ...", session);
-	_client_s *client;
-	A_CALLOC(client, 1);
-	client->session = session;
-	client->transmit = true;
-	LIST_APPEND(_g_clients, client);
-	atomic_store(&_g_has_watchers, true);
-	UNLOCK;
-}
-
-static void _plugin_destroy_session(janus_plugin_session* session, int *error) {
-	IF_DISABLED({ *error = -1; return; });
-	LOCK;
-	bool found = false;
-	bool has_watchers = false;
-	LIST_ITERATE(_g_clients, client, {
-		if (client->session == session) {
-			JLOG_INFO("Removing session %p ...", session);
-			LIST_REMOVE(_g_clients, client);
-			free(client);
-			found = true;
-		} else {
-			has_watchers = (has_watchers || client->transmit);
-		}
-	});
-	if (!found) {
-		JLOG_WARN("No session %p", session);
-		*error = -2;
-	}
-	atomic_store(&_g_has_watchers, has_watchers);
-	UNLOCK;
-}
-
-static json_t *_plugin_query_session(janus_plugin_session *session) {
-	IF_DISABLED({ return NULL; });
-	json_t *info = NULL;
-	LOCK;
-	LIST_ITERATE(_g_clients, client, {
-		if (client->session == session) {
-			info = json_string("session_found");
-			break;
-		}
-	});
-	UNLOCK;
-	return info;
-}
-
-static void _set_transmit(janus_plugin_session *session, UNUSED const char *msg, bool transmit) {
-	IF_DISABLED({ return; });
-	LOCK;
-	bool found = false;
-	bool has_watchers = false;
-	LIST_ITERATE(_g_clients, client, {
-		if (client->session == session) {
-			client->transmit = transmit;
-			//JLOG_INFO("%s session %p", msg, session);
-			found = true;
-		}
-		has_watchers = (has_watchers || client->transmit);
-	});
-	if (!found) {
-		JLOG_WARN("No session %p", session);
-	}
-	atomic_store(&_g_has_watchers, has_watchers);
-	UNLOCK;
-}
-
-#undef IF_DISABLED
-
-static void _plugin_setup_media(janus_plugin_session *session) { _set_transmit(session, "Unmuted", true); }
-static void _plugin_hangup_media(janus_plugin_session *session) { _set_transmit(session, "Muted", false); }
-
-static struct janus_plugin_result *_plugin_handle_message(
-	janus_plugin_session *session, char *transaction, json_t *msg, json_t *jsep) {
-
-	assert(transaction != NULL);
-
-#	define FREE_MSG_JSEP { \
-			if (msg) json_decref(msg); \
-			if (jsep) json_decref(jsep); \
-		}
-
-	if (session == NULL || msg == NULL) {
-		free(transaction);
-		FREE_MSG_JSEP;
-		return janus_plugin_result_new(JANUS_PLUGIN_ERROR, (msg ? "No session" : "No message"), NULL);
-	}
-
-#	define PUSH_ERROR(_error, _reason) { \
-			/*JLOG_ERROR("Message error in session %p: %s", session, _reason);*/ \
-			json_t *_event = json_object(); \
-			json_object_set_new(_event, "ustreamer", json_string("event")); \
-			json_object_set_new(_event, "error_code", json_integer(_error)); \
-			json_object_set_new(_event, "error", json_string(_reason)); \
-			_g_gw->push_event(session, &_plugin, transaction, _event, NULL); \
-			json_decref(_event); \
-		}
-
-	json_t *request_obj = json_object_get(msg, "request");
-	if (request_obj == NULL) {
-		PUSH_ERROR(400, "Request missing");
-		goto ok_wait;
-	}
-
-	const char *request_str = json_string_value(request_obj);
-	if (!request_str) {
-		PUSH_ERROR(400, "Request not a string");
-		goto ok_wait;
-	}
-	//JLOG_INFO("Message: %s", request_str);
-
-#	define PUSH_STATUS(_status, _jsep) { \
-			json_t *_event = json_object(); \
-			json_object_set_new(_event, "ustreamer", json_string("event")); \
-			json_t *_result = json_object(); \
-			json_object_set_new(_result, "status", json_string(_status)); \
-			json_object_set_new(_event, "result", _result); \
-			_g_gw->push_event(session, &_plugin, transaction, _event, _jsep); \
-			json_decref(_event); \
-		}
-
-	if (!strcmp(request_str, "start")) {
-		PUSH_STATUS("started", NULL);
-
-	} else if (!strcmp(request_str, "stop")) {
-		PUSH_STATUS("stopped", NULL);
-
-	} else if (!strcmp(request_str, "watch")) {
-		char *sdp = rtp_make_sdp(_g_rtp);
-		if (sdp == NULL) {
-			PUSH_ERROR(503, "Haven't received SPS/PPS from memsink yet");
-			goto ok_wait;
-		}
-		//JLOG_INFO("SDP generated:\n%s", sdp);
-		json_t *offer_jsep = json_pack("{ssss}", "type", "offer", "sdp", sdp);
-		free(sdp);
-		PUSH_STATUS("started", offer_jsep);
-		json_decref(offer_jsep);
-
-	} else {
-		PUSH_ERROR(405, "Not implemented");
-	}
-
-	ok_wait:
-		FREE_MSG_JSEP;
-		return janus_plugin_result_new(JANUS_PLUGIN_OK_WAIT, NULL, NULL);
-
-#	undef PUSH_ERROR
-#	undef FREE_MSG_JSEP
-}
-
-static int _plugin_get_api_compatibility(void)		{ return JANUS_PLUGIN_API_VERSION; }
-static int _plugin_get_version(void)				{ return VERSION_U; }
-static const char *_plugin_get_version_string(void)	{ return VERSION; }
-static const char *_plugin_get_description(void)	{ return "Pi-KVM uStreamer Janus plugin for H.264 video"; }
-static const char *_plugin_get_name(void)			{ return "ustreamer"; }
-static const char *_plugin_get_author(void)			{ return "Maxim Devaev <mdevaev@gmail.com>"; }
-static const char *_plugin_get_package(void)		{ return "janus.plugin.ustreamer"; }
-
-
-#undef STOP
-#undef READY
-#undef UNLOCK
-#undef LOCK
-
-#undef JLOG_PERROR
-#undef JLOG_ERROR
-#undef JLOG_WARN
-#undef JLOG_INFO
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/rtp.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/rtp.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/rtp.c	2023-12-15 01:51:35.114398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/rtp.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,228 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    This source file is partially based on this code:                       #
-#      - https://github.com/catid/kvm/blob/master/kvm_pipeline/src           #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "rtp.h"
-
-
-#define PAYLOAD 96 // Payload type
-#define PRE 3 // Annex B prefix length
-
-
-void _rtp_process_nalu(rtp_s *rtp, const uint8_t *data, size_t size, uint32_t pts, bool marked, rtp_callback_f callback);
-static void _rtp_write_header(rtp_s *rtp, uint32_t pts, bool marked);
-
-static ssize_t _find_annexb(const uint8_t *data, size_t size);
-
-
-rtp_s *rtp_init(void) {
-	rtp_s *rtp;
-	A_CALLOC(rtp, 1);
-	rtp->ssrc = triple_u32(get_now_monotonic_u64());
-	rtp->sps = frame_init();
-	rtp->pps = frame_init();
-	A_MUTEX_INIT(&rtp->mutex);
-	return rtp;
-}
-
-void rtp_destroy(rtp_s *rtp) {
-	A_MUTEX_DESTROY(&rtp->mutex);
-	frame_destroy(rtp->pps);
-	frame_destroy(rtp->sps);
-	free(rtp);
-}
-
-char *rtp_make_sdp(rtp_s *rtp) {
-	A_MUTEX_LOCK(&rtp->mutex);
-
-	if (rtp->sps->used == 0 || rtp->pps->used == 0) {
-		A_MUTEX_UNLOCK(&rtp->mutex);
-		return NULL;
-	}
-
-	char *sps = NULL;
-	char *pps = NULL;
-	base64_encode(rtp->sps->data, rtp->sps->used, &sps, NULL);
-	base64_encode(rtp->pps->data, rtp->pps->used, &pps, NULL);
-
-	A_MUTEX_UNLOCK(&rtp->mutex);
-
-	// https://tools.ietf.org/html/rfc6184
-	// https://github.com/meetecho/janus-gateway/issues/2443
-	char *sdp;
-	A_ASPRINTF(sdp,
-		"v=0" RN
-		"o=- %" PRIu64 " 1 IN IP4 127.0.0.1" RN
-		"s=Pi-KVM uStreamer" RN
-		"t=0 0" RN
-		"m=video 1 RTP/SAVPF %d" RN
-		"c=IN IP4 0.0.0.0" RN
-		"a=rtpmap:%d H264/90000" RN
-		"a=fmtp:%d profile-level-id=42E01F" RN
-		"a=fmtp:%d packetization-mode=1" RN
-		"a=fmtp:%d sprop-sps=%s" RN
-		"a=fmtp:%d sprop-pps=%s" RN
-		"a=rtcp-fb:%d nack" RN
-		"a=rtcp-fb:%d nack pli" RN
-		"a=rtcp-fb:%d goog-remb" RN
-		"a=sendonly" RN,
-		get_now_id() >> 1, PAYLOAD, PAYLOAD, PAYLOAD, PAYLOAD,
-		PAYLOAD, sps,
-		PAYLOAD, pps,
-		PAYLOAD, PAYLOAD, PAYLOAD
-	);
-
-	free(sps);
-	free(pps);
-	return sdp;
-}
-
-void rtp_wrap_h264(rtp_s *rtp, const frame_s *frame, rtp_callback_f callback) {
-	// There is a complicated logic here but everything works as it should:
-	//   - https://github.com/pikvm/ustreamer/issues/115#issuecomment-893071775
-
-	assert(frame->format == V4L2_PIX_FMT_H264);
-
-	const uint32_t pts = get_now_monotonic_u64() * 9 / 100; // PTS units are in 90 kHz
-	ssize_t last_offset = -PRE;
-
-	while (true) { // Find and iterate by nalus
-		const size_t next_start = last_offset + PRE;
-		ssize_t offset = _find_annexb(frame->data + next_start, frame->used - next_start);
-		if (offset < 0) {
-			break;
-		}
-		offset += next_start;
-
-		if (last_offset >= 0) {
-			const uint8_t *data = frame->data + last_offset + PRE;
-			size_t size = offset - last_offset - PRE;
-			if (data[size - 1] == 0) { // Check for extra 00
-				--size;
-			}
-			_rtp_process_nalu(rtp, data, size, pts, false, callback);
-		}
-
-		last_offset = offset;
-	}
-
-	if (last_offset >= 0) {
-		const uint8_t *data = frame->data + last_offset + PRE;
-		size_t size = frame->used - last_offset - PRE;
-		_rtp_process_nalu(rtp, data, size, pts, true, callback);
-	}
-}
-
-void _rtp_process_nalu(rtp_s *rtp, const uint8_t *data, size_t size, uint32_t pts, bool marked, rtp_callback_f callback) {
-	const unsigned ref_idc = (data[0] >> 5) & 3;
-	const unsigned type = data[0] & 0x1F;
-
-	frame_s *ps = NULL;
-	switch (type) {
-		case 7: ps = rtp->sps; break;
-		case 8: ps = rtp->pps; break;
-	}
-	if (ps) {
-		A_MUTEX_LOCK(&rtp->mutex);
-		frame_set_data(ps, data, size);
-		A_MUTEX_UNLOCK(&rtp->mutex);
-	}
-
-#	define HEADER_SIZE 12
-
-	if (size + HEADER_SIZE <= RTP_DATAGRAM_SIZE) {
-		_rtp_write_header(rtp, pts, marked);
-		memcpy(rtp->datagram + HEADER_SIZE, data, size);
-		callback(rtp->datagram, size + HEADER_SIZE);
-		return;
-	}
-
-	const size_t fu_overhead = HEADER_SIZE + 2; // FU-A overhead
-
-	const uint8_t *src = data + 1;
-	ssize_t remaining = size - 1;
-
-	bool first = true;
-	while (remaining > 0) {
-		ssize_t frag_size = RTP_DATAGRAM_SIZE - fu_overhead;
-		const bool last = (remaining <= frag_size);
-		if (last) {
-			frag_size = remaining;
-		}
-
-		_rtp_write_header(rtp, pts, (marked && last));
-
-		rtp->datagram[HEADER_SIZE] = 28 | (ref_idc << 5);
-
-		uint8_t fu = type;
-		if (first) {
-			fu |= 0x80;
-		}
-		if (last) {
-			fu |= 0x40;
-		}
-		rtp->datagram[HEADER_SIZE + 1] = fu;
-
-		memcpy(rtp->datagram + fu_overhead,	src, frag_size);
-
-		callback(rtp->datagram, fu_overhead + frag_size);
-
-		src += frag_size;
-		remaining -= frag_size;
-		first = false;
-	}
-
-#	undef HEADER_SIZE
-}
-
-static void _rtp_write_header(rtp_s *rtp, uint32_t pts, bool marked) {
-	uint32_t word0 = 0x80000000;
-	if (marked) {
-		word0 |= 1 << 23;
-	}
-	word0 |= (PAYLOAD & 0x7F) << 16;
-	word0 |= rtp->seq;
-	++rtp->seq;
-
-#	define WRITE_BE_U32(_offset, _value) *((uint32_t *)(rtp->datagram + _offset)) = __builtin_bswap32(_value)
-	WRITE_BE_U32(0, word0);
-	WRITE_BE_U32(4, pts);
-	WRITE_BE_U32(8, rtp->ssrc);
-#	undef WRITE_BE_U32
-}
-
-static ssize_t _find_annexb(const uint8_t *data, size_t size) {
-	// Parses buffer for 00 00 01 start codes
-	if (size >= PRE) {
-		for (size_t index = 0; index <= size - PRE; ++index) {
-			if (data[index] == 0 && data[index + 1] == 0 && data[index + 2] == 1) {
-				return index;
-			}
-		}
-	}
-	return -1;
-}
-
-#undef PRE
-#undef PAYLOAD
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/rtp.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/rtp.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/rtp.h	2023-12-15 01:51:35.114398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/rtp.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,69 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    This source file is partially based on this code:                       #
-#      - https://github.com/catid/kvm/blob/master/kvm_pipeline/src           #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <stdint.h>
-#include <inttypes.h>
-#include <string.h>
-#include <assert.h>
-
-#include <sys/types.h>
-#include <linux/videodev2.h>
-
-#include <pthread.h>
-
-#include "tools.h"
-#include "threading.h"
-#include "frame.h"
-#include "base64.h"
-
-
-// https://stackoverflow.com/questions/47635545/why-webrtc-chose-rtp-max-packet-size-to-1200-bytes
-#define RTP_DATAGRAM_SIZE 1200
-
-
-typedef struct {
-	uint32_t ssrc;
-	uint16_t seq;
-
-	uint8_t datagram[RTP_DATAGRAM_SIZE];
-
-	frame_s *sps; // Actually not a frame, just a bytes storage
-	frame_s *pps;
-
-	pthread_mutex_t mutex;
-} rtp_s;
-
-typedef void (*rtp_callback_f)(const uint8_t *datagram, size_t size);
-
-
-rtp_s *rtp_init(void);
-void rtp_destroy(rtp_s *rtp);
-
-char *rtp_make_sdp(rtp_s *rtp);
-void rtp_wrap_h264(rtp_s *rtp, const frame_s *frame, rtp_callback_f callback);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/threading.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/threading.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/threading.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/threading.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,125 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <unistd.h>
-#include <assert.h>
-
-#include <sys/types.h>
-#include <sys/syscall.h>
-
-#include <pthread.h>
-#ifdef WITH_PTHREAD_NP
-#	if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)
-#		include <pthread_np.h>
-#		include <sys/param.h>
-#	endif
-#endif
-
-#include "tools.h"
-
-
-#ifdef PTHREAD_MAX_NAMELEN_NP
-#	define MAX_THREAD_NAME ((size_t)(PTHREAD_MAX_NAMELEN_NP))
-#else
-#	define MAX_THREAD_NAME ((size_t)16)
-#endif
-
-#define A_THREAD_CREATE(_tid, _func, _arg)	assert(!pthread_create(_tid, NULL, _func, _arg))
-#define A_THREAD_JOIN(_tid)					assert(!pthread_join(_tid, NULL))
-
-#ifdef WITH_PTHREAD_NP
-#	define A_THREAD_RENAME(_fmt, ...) { \
-			char _new_tname_buf[MAX_THREAD_NAME] = {0}; \
-			assert(snprintf(_new_tname_buf, MAX_THREAD_NAME, _fmt, ##__VA_ARGS__) > 0); \
-			thread_set_name(_new_tname_buf); \
-		}
-#else
-#	define A_THREAD_RENAME(_fmt, ...)
-#endif
-
-#define A_MUTEX_INIT(_mutex)	assert(!pthread_mutex_init(_mutex, NULL))
-#define A_MUTEX_DESTROY(_mutex)	assert(!pthread_mutex_destroy(_mutex))
-#define A_MUTEX_LOCK(_mutex)	assert(!pthread_mutex_lock(_mutex))
-#define A_MUTEX_UNLOCK(_mutex)	assert(!pthread_mutex_unlock(_mutex))
-
-#define A_COND_INIT(_cond)		assert(!pthread_cond_init(_cond, NULL))
-#define A_COND_DESTROY(_cond)	assert(!pthread_cond_destroy(_cond))
-#define A_COND_SIGNAL(...)		assert(!pthread_cond_signal(__VA_ARGS__))
-#define A_COND_WAIT_TRUE(_var, _cond, _mutex) { while(!_var) assert(!pthread_cond_wait(_cond, _mutex)); }
-
-
-#ifdef WITH_PTHREAD_NP
-INLINE void thread_set_name(const char *name) {
-#	if defined(__linux__)
-	pthread_setname_np(pthread_self(), name);
-#	elif defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)
-	pthread_set_name_np(pthread_self(), name);
-#	elif defined(__NetBSD__)
-	pthread_setname_np(pthread_self(), "%s", (void *)name);
-#	else
-#		error thread_set_name() not implemented, you can disable it using WITH_PTHREAD_NP=0
-#	endif
-}
-#endif
-
-INLINE void thread_get_name(char *name) { // Always required for logging
-#ifdef WITH_PTHREAD_NP
-	int retval = -1;
-#	if defined(__linux__) || defined (__NetBSD__)
-	retval = pthread_getname_np(pthread_self(), name, MAX_THREAD_NAME);
-#	elif \
-		(defined(__FreeBSD__) && defined(__FreeBSD_version) && __FreeBSD_version >= 1103500) \
-		|| (defined(__OpenBSD__) && defined(OpenBSD) && OpenBSD >= 201905) \
-		|| defined(__DragonFly__)
-	pthread_get_name_np(pthread_self(), name, MAX_THREAD_NAME);
-	if (name[0] != '\0') {
-		retval = 0;
-	}
-#	else
-#		error thread_get_name() not implemented, you can disable it using WITH_PTHREAD_NP=0
-#	endif
-	if (retval < 0) {
-#endif
-
-#if defined(__linux__)
-		pid_t tid = syscall(SYS_gettid);
-#elif defined(__FreeBSD__)
-		pid_t tid = syscall(SYS_thr_self);
-#elif defined(__OpenBSD__)
-		pid_t tid = syscall(SYS_getthrid);
-#elif defined(__NetBSD__)
-		pid_t tid = syscall(SYS__lwp_self);
-#elif defined(__DragonFly__)
-		pid_t tid = syscall(SYS_lwp_gettid);
-#else
-		pid_t tid = 0; // Makes cppcheck happy
-#	warning gettid() not implemented
-#endif
-		assert(snprintf(name, MAX_THREAD_NAME, "tid=%d", tid) > 0);
-
-#ifdef WITH_PTHREAD_NP
-	}
-#endif
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/tools.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/tools.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/janus/src/tools.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/janus/src/tools.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,166 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdint.h>
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <unistd.h>
-#include <locale.h>
-#include <errno.h>
-#include <math.h>
-#include <time.h>
-#include <assert.h>
-
-#include <sys/file.h>
-
-
-#define RN "\r\n"
-
-#define INLINE inline __attribute__((always_inline))
-#define UNUSED __attribute__((unused))
-
-#define A_CALLOC(_dest, _nmemb)		assert((_dest = calloc(_nmemb, sizeof(*(_dest)))))
-#define A_REALLOC(_dest, _nmemb)	assert((_dest = realloc(_dest, _nmemb * sizeof(*(_dest)))))
-#define MEMSET_ZERO(_obj)			memset(&(_obj), 0, sizeof(_obj))
-
-#define A_ASPRINTF(_dest, _fmt, ...) assert(asprintf(&(_dest), _fmt, ##__VA_ARGS__) >= 0)
-
-#define ARRAY_LEN(_array) (sizeof(_array) / sizeof(_array[0]))
-
-
-INLINE const char *bool_to_string(bool flag) {
-	return (flag ? "true" : "false");
-}
-
-INLINE size_t align_size(size_t size, size_t to) {
-	return ((size + (to - 1)) & ~(to - 1));
-}
-
-INLINE unsigned min_u(unsigned a, unsigned b) {
-	return (a < b ? a : b);
-}
-
-INLINE unsigned max_u(unsigned a, unsigned b) {
-	return (a > b ? a : b);
-}
-
-INLINE long long floor_ms(long double now) {
-	return (long long)now - (now < (long long)now); // floor()
-}
-
-INLINE uint32_t triple_u32(uint32_t x) {
-	// https://nullprogram.com/blog/2018/07/31/
-	x ^= x >> 17;
-	x *= UINT32_C(0xED5AD4BB);
-	x ^= x >> 11;
-	x *= UINT32_C(0xAC4C1B51);
-	x ^= x >> 15;
-	x *= UINT32_C(0x31848BAB);
-	x ^= x >> 14;
-	return x;
-}
-
-INLINE void get_now(clockid_t clk_id, time_t *sec, long *msec) {
-	struct timespec ts;
-	assert(!clock_gettime(clk_id, &ts));
-	*sec = ts.tv_sec;
-	*msec = round(ts.tv_nsec / 1.0e6);
-
-	if (*msec > 999) {
-		*sec += 1;
-		*msec = 0;
-	}
-}
-
-#if defined(CLOCK_MONOTONIC_RAW)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_RAW
-#elif defined(CLOCK_MONOTONIC_FAST)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_FAST
-#else
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC
-#endif
-
-INLINE long double get_now_monotonic(void) {
-	time_t sec;
-	long msec;
-	get_now(X_CLOCK_MONOTONIC, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE uint64_t get_now_monotonic_u64(void) {
-	struct timespec ts;
-	assert(!clock_gettime(X_CLOCK_MONOTONIC, &ts));
-	return (uint64_t)(ts.tv_nsec / 1000) + (uint64_t)ts.tv_sec * 1000000;
-}
-
-INLINE uint64_t get_now_id(void) {
-	uint64_t now = get_now_monotonic_u64();
-	return (uint64_t)triple_u32(now) | ((uint64_t)triple_u32(now + 12345) << 32);
-}
-
-#undef X_CLOCK_MONOTONIC
-
-INLINE long double get_now_real(void) {
-	time_t sec;
-	long msec;
-	get_now(CLOCK_REALTIME, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE unsigned get_cores_available(void) {
-	long cores_sysconf = sysconf(_SC_NPROCESSORS_ONLN);
-	cores_sysconf = (cores_sysconf < 0 ? 0 : cores_sysconf);
-	return max_u(min_u(cores_sysconf, 4), 1);
-}
-
-INLINE int flock_timedwait_monotonic(int fd, long double timeout) {
-	long double deadline_ts = get_now_monotonic() + timeout;
-	int retval = -1;
-
-	while (true) {
-		retval = flock(fd, LOCK_EX | LOCK_NB);
-		if (retval == 0 || errno != EWOULDBLOCK || get_now_monotonic() > deadline_ts) {
-			break;
-		}
-		if (usleep(1000) < 0) {
-			break;
-		}
-	}
-	return retval;
-}
-
-INLINE char *errno_to_string(int error, char *buf, size_t size) {
-	assert(buf);
-	assert(size > 0);
-	locale_t locale = newlocale(LC_MESSAGES_MASK, "C", NULL);
-	char *str = "!!! newlocale() error !!!";
-	strncpy(buf, (locale ? strerror_l(error, locale) : str), size - 1);
-	buf[size - 1] = '\0';
-	if (locale) {
-		freelocale(locale);
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/LICENSE /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/LICENSE
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/LICENSE	2023-12-15 01:51:35.026398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/LICENSE	1969-12-31 19:00:00.000000000 -0500
@@ -1,674 +0,0 @@
-                    GNU GENERAL PUBLIC LICENSE
-                       Version 3, 29 June 2007
-
- Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-                            Preamble
-
-  The GNU General Public License is a free, copyleft license for
-software and other kinds of works.
-
-  The licenses for most software and other practical works are designed
-to take away your freedom to share and change the works.  By contrast,
-the GNU General Public License is intended to guarantee your freedom to
-share and change all versions of a program--to make sure it remains free
-software for all its users.  We, the Free Software Foundation, use the
-GNU General Public License for most of our software; it applies also to
-any other work released this way by its authors.  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-them if you wish), that you receive source code or can get it if you
-want it, that you can change the software or use pieces of it in new
-free programs, and that you know you can do these things.
-
-  To protect your rights, we need to prevent others from denying you
-these rights or asking you to surrender the rights.  Therefore, you have
-certain responsibilities if you distribute copies of the software, or if
-you modify it: responsibilities to respect the freedom of others.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must pass on to the recipients the same
-freedoms that you received.  You must make sure that they, too, receive
-or can get the source code.  And you must show them these terms so they
-know their rights.
-
-  Developers that use the GNU GPL protect your rights with two steps:
-(1) assert copyright on the software, and (2) offer you this License
-giving you legal permission to copy, distribute and/or modify it.
-
-  For the developers' and authors' protection, the GPL clearly explains
-that there is no warranty for this free software.  For both users' and
-authors' sake, the GPL requires that modified versions be marked as
-changed, so that their problems will not be attributed erroneously to
-authors of previous versions.
-
-  Some devices are designed to deny users access to install or run
-modified versions of the software inside them, although the manufacturer
-can do so.  This is fundamentally incompatible with the aim of
-protecting users' freedom to change the software.  The systematic
-pattern of such abuse occurs in the area of products for individuals to
-use, which is precisely where it is most unacceptable.  Therefore, we
-have designed this version of the GPL to prohibit the practice for those
-products.  If such problems arise substantially in other domains, we
-stand ready to extend this provision to those domains in future versions
-of the GPL, as needed to protect the freedom of users.
-
-  Finally, every program is threatened constantly by software patents.
-States should not allow patents to restrict development and use of
-software on general-purpose computers, but in those that do, we wish to
-avoid the special danger that patents applied to a free program could
-make it effectively proprietary.  To prevent this, the GPL assures that
-patents cannot be used to render the program non-free.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-                       TERMS AND CONDITIONS
-
-  0. Definitions.
-
-  "This License" refers to version 3 of the GNU General Public License.
-
-  "Copyright" also means copyright-like laws that apply to other kinds of
-works, such as semiconductor masks.
-
-  "The Program" refers to any copyrightable work licensed under this
-License.  Each licensee is addressed as "you".  "Licensees" and
-"recipients" may be individuals or organizations.
-
-  To "modify" a work means to copy from or adapt all or part of the work
-in a fashion requiring copyright permission, other than the making of an
-exact copy.  The resulting work is called a "modified version" of the
-earlier work or a work "based on" the earlier work.
-
-  A "covered work" means either the unmodified Program or a work based
-on the Program.
-
-  To "propagate" a work means to do anything with it that, without
-permission, would make you directly or secondarily liable for
-infringement under applicable copyright law, except executing it on a
-computer or modifying a private copy.  Propagation includes copying,
-distribution (with or without modification), making available to the
-public, and in some countries other activities as well.
-
-  To "convey" a work means any kind of propagation that enables other
-parties to make or receive copies.  Mere interaction with a user through
-a computer network, with no transfer of a copy, is not conveying.
-
-  An interactive user interface displays "Appropriate Legal Notices"
-to the extent that it includes a convenient and prominently visible
-feature that (1) displays an appropriate copyright notice, and (2)
-tells the user that there is no warranty for the work (except to the
-extent that warranties are provided), that licensees may convey the
-work under this License, and how to view a copy of this License.  If
-the interface presents a list of user commands or options, such as a
-menu, a prominent item in the list meets this criterion.
-
-  1. Source Code.
-
-  The "source code" for a work means the preferred form of the work
-for making modifications to it.  "Object code" means any non-source
-form of a work.
-
-  A "Standard Interface" means an interface that either is an official
-standard defined by a recognized standards body, or, in the case of
-interfaces specified for a particular programming language, one that
-is widely used among developers working in that language.
-
-  The "System Libraries" of an executable work include anything, other
-than the work as a whole, that (a) is included in the normal form of
-packaging a Major Component, but which is not part of that Major
-Component, and (b) serves only to enable use of the work with that
-Major Component, or to implement a Standard Interface for which an
-implementation is available to the public in source code form.  A
-"Major Component", in this context, means a major essential component
-(kernel, window system, and so on) of the specific operating system
-(if any) on which the executable work runs, or a compiler used to
-produce the work, or an object code interpreter used to run it.
-
-  The "Corresponding Source" for a work in object code form means all
-the source code needed to generate, install, and (for an executable
-work) run the object code and to modify the work, including scripts to
-control those activities.  However, it does not include the work's
-System Libraries, or general-purpose tools or generally available free
-programs which are used unmodified in performing those activities but
-which are not part of the work.  For example, Corresponding Source
-includes interface definition files associated with source files for
-the work, and the source code for shared libraries and dynamically
-linked subprograms that the work is specifically designed to require,
-such as by intimate data communication or control flow between those
-subprograms and other parts of the work.
-
-  The Corresponding Source need not include anything that users
-can regenerate automatically from other parts of the Corresponding
-Source.
-
-  The Corresponding Source for a work in source code form is that
-same work.
-
-  2. Basic Permissions.
-
-  All rights granted under this License are granted for the term of
-copyright on the Program, and are irrevocable provided the stated
-conditions are met.  This License explicitly affirms your unlimited
-permission to run the unmodified Program.  The output from running a
-covered work is covered by this License only if the output, given its
-content, constitutes a covered work.  This License acknowledges your
-rights of fair use or other equivalent, as provided by copyright law.
-
-  You may make, run and propagate covered works that you do not
-convey, without conditions so long as your license otherwise remains
-in force.  You may convey covered works to others for the sole purpose
-of having them make modifications exclusively for you, or provide you
-with facilities for running those works, provided that you comply with
-the terms of this License in conveying all material for which you do
-not control copyright.  Those thus making or running the covered works
-for you must do so exclusively on your behalf, under your direction
-and control, on terms that prohibit them from making any copies of
-your copyrighted material outside their relationship with you.
-
-  Conveying under any other circumstances is permitted solely under
-the conditions stated below.  Sublicensing is not allowed; section 10
-makes it unnecessary.
-
-  3. Protecting Users' Legal Rights From Anti-Circumvention Law.
-
-  No covered work shall be deemed part of an effective technological
-measure under any applicable law fulfilling obligations under article
-11 of the WIPO copyright treaty adopted on 20 December 1996, or
-similar laws prohibiting or restricting circumvention of such
-measures.
-
-  When you convey a covered work, you waive any legal power to forbid
-circumvention of technological measures to the extent such circumvention
-is effected by exercising rights under this License with respect to
-the covered work, and you disclaim any intention to limit operation or
-modification of the work as a means of enforcing, against the work's
-users, your or third parties' legal rights to forbid circumvention of
-technological measures.
-
-  4. Conveying Verbatim Copies.
-
-  You may convey verbatim copies of the Program's source code as you
-receive it, in any medium, provided that you conspicuously and
-appropriately publish on each copy an appropriate copyright notice;
-keep intact all notices stating that this License and any
-non-permissive terms added in accord with section 7 apply to the code;
-keep intact all notices of the absence of any warranty; and give all
-recipients a copy of this License along with the Program.
-
-  You may charge any price or no price for each copy that you convey,
-and you may offer support or warranty protection for a fee.
-
-  5. Conveying Modified Source Versions.
-
-  You may convey a work based on the Program, or the modifications to
-produce it from the Program, in the form of source code under the
-terms of section 4, provided that you also meet all of these conditions:
-
-    a) The work must carry prominent notices stating that you modified
-    it, and giving a relevant date.
-
-    b) The work must carry prominent notices stating that it is
-    released under this License and any conditions added under section
-    7.  This requirement modifies the requirement in section 4 to
-    "keep intact all notices".
-
-    c) You must license the entire work, as a whole, under this
-    License to anyone who comes into possession of a copy.  This
-    License will therefore apply, along with any applicable section 7
-    additional terms, to the whole of the work, and all its parts,
-    regardless of how they are packaged.  This License gives no
-    permission to license the work in any other way, but it does not
-    invalidate such permission if you have separately received it.
-
-    d) If the work has interactive user interfaces, each must display
-    Appropriate Legal Notices; however, if the Program has interactive
-    interfaces that do not display Appropriate Legal Notices, your
-    work need not make them do so.
-
-  A compilation of a covered work with other separate and independent
-works, which are not by their nature extensions of the covered work,
-and which are not combined with it such as to form a larger program,
-in or on a volume of a storage or distribution medium, is called an
-"aggregate" if the compilation and its resulting copyright are not
-used to limit the access or legal rights of the compilation's users
-beyond what the individual works permit.  Inclusion of a covered work
-in an aggregate does not cause this License to apply to the other
-parts of the aggregate.
-
-  6. Conveying Non-Source Forms.
-
-  You may convey a covered work in object code form under the terms
-of sections 4 and 5, provided that you also convey the
-machine-readable Corresponding Source under the terms of this License,
-in one of these ways:
-
-    a) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by the
-    Corresponding Source fixed on a durable physical medium
-    customarily used for software interchange.
-
-    b) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by a
-    written offer, valid for at least three years and valid for as
-    long as you offer spare parts or customer support for that product
-    model, to give anyone who possesses the object code either (1) a
-    copy of the Corresponding Source for all the software in the
-    product that is covered by this License, on a durable physical
-    medium customarily used for software interchange, for a price no
-    more than your reasonable cost of physically performing this
-    conveying of source, or (2) access to copy the
-    Corresponding Source from a network server at no charge.
-
-    c) Convey individual copies of the object code with a copy of the
-    written offer to provide the Corresponding Source.  This
-    alternative is allowed only occasionally and noncommercially, and
-    only if you received the object code with such an offer, in accord
-    with subsection 6b.
-
-    d) Convey the object code by offering access from a designated
-    place (gratis or for a charge), and offer equivalent access to the
-    Corresponding Source in the same way through the same place at no
-    further charge.  You need not require recipients to copy the
-    Corresponding Source along with the object code.  If the place to
-    copy the object code is a network server, the Corresponding Source
-    may be on a different server (operated by you or a third party)
-    that supports equivalent copying facilities, provided you maintain
-    clear directions next to the object code saying where to find the
-    Corresponding Source.  Regardless of what server hosts the
-    Corresponding Source, you remain obligated to ensure that it is
-    available for as long as needed to satisfy these requirements.
-
-    e) Convey the object code using peer-to-peer transmission, provided
-    you inform other peers where the object code and Corresponding
-    Source of the work are being offered to the general public at no
-    charge under subsection 6d.
-
-  A separable portion of the object code, whose source code is excluded
-from the Corresponding Source as a System Library, need not be
-included in conveying the object code work.
-
-  A "User Product" is either (1) a "consumer product", which means any
-tangible personal property which is normally used for personal, family,
-or household purposes, or (2) anything designed or sold for incorporation
-into a dwelling.  In determining whether a product is a consumer product,
-doubtful cases shall be resolved in favor of coverage.  For a particular
-product received by a particular user, "normally used" refers to a
-typical or common use of that class of product, regardless of the status
-of the particular user or of the way in which the particular user
-actually uses, or expects or is expected to use, the product.  A product
-is a consumer product regardless of whether the product has substantial
-commercial, industrial or non-consumer uses, unless such uses represent
-the only significant mode of use of the product.
-
-  "Installation Information" for a User Product means any methods,
-procedures, authorization keys, or other information required to install
-and execute modified versions of a covered work in that User Product from
-a modified version of its Corresponding Source.  The information must
-suffice to ensure that the continued functioning of the modified object
-code is in no case prevented or interfered with solely because
-modification has been made.
-
-  If you convey an object code work under this section in, or with, or
-specifically for use in, a User Product, and the conveying occurs as
-part of a transaction in which the right of possession and use of the
-User Product is transferred to the recipient in perpetuity or for a
-fixed term (regardless of how the transaction is characterized), the
-Corresponding Source conveyed under this section must be accompanied
-by the Installation Information.  But this requirement does not apply
-if neither you nor any third party retains the ability to install
-modified object code on the User Product (for example, the work has
-been installed in ROM).
-
-  The requirement to provide Installation Information does not include a
-requirement to continue to provide support service, warranty, or updates
-for a work that has been modified or installed by the recipient, or for
-the User Product in which it has been modified or installed.  Access to a
-network may be denied when the modification itself materially and
-adversely affects the operation of the network or violates the rules and
-protocols for communication across the network.
-
-  Corresponding Source conveyed, and Installation Information provided,
-in accord with this section must be in a format that is publicly
-documented (and with an implementation available to the public in
-source code form), and must require no special password or key for
-unpacking, reading or copying.
-
-  7. Additional Terms.
-
-  "Additional permissions" are terms that supplement the terms of this
-License by making exceptions from one or more of its conditions.
-Additional permissions that are applicable to the entire Program shall
-be treated as though they were included in this License, to the extent
-that they are valid under applicable law.  If additional permissions
-apply only to part of the Program, that part may be used separately
-under those permissions, but the entire Program remains governed by
-this License without regard to the additional permissions.
-
-  When you convey a copy of a covered work, you may at your option
-remove any additional permissions from that copy, or from any part of
-it.  (Additional permissions may be written to require their own
-removal in certain cases when you modify the work.)  You may place
-additional permissions on material, added by you to a covered work,
-for which you have or can give appropriate copyright permission.
-
-  Notwithstanding any other provision of this License, for material you
-add to a covered work, you may (if authorized by the copyright holders of
-that material) supplement the terms of this License with terms:
-
-    a) Disclaiming warranty or limiting liability differently from the
-    terms of sections 15 and 16 of this License; or
-
-    b) Requiring preservation of specified reasonable legal notices or
-    author attributions in that material or in the Appropriate Legal
-    Notices displayed by works containing it; or
-
-    c) Prohibiting misrepresentation of the origin of that material, or
-    requiring that modified versions of such material be marked in
-    reasonable ways as different from the original version; or
-
-    d) Limiting the use for publicity purposes of names of licensors or
-    authors of the material; or
-
-    e) Declining to grant rights under trademark law for use of some
-    trade names, trademarks, or service marks; or
-
-    f) Requiring indemnification of licensors and authors of that
-    material by anyone who conveys the material (or modified versions of
-    it) with contractual assumptions of liability to the recipient, for
-    any liability that these contractual assumptions directly impose on
-    those licensors and authors.
-
-  All other non-permissive additional terms are considered "further
-restrictions" within the meaning of section 10.  If the Program as you
-received it, or any part of it, contains a notice stating that it is
-governed by this License along with a term that is a further
-restriction, you may remove that term.  If a license document contains
-a further restriction but permits relicensing or conveying under this
-License, you may add to a covered work material governed by the terms
-of that license document, provided that the further restriction does
-not survive such relicensing or conveying.
-
-  If you add terms to a covered work in accord with this section, you
-must place, in the relevant source files, a statement of the
-additional terms that apply to those files, or a notice indicating
-where to find the applicable terms.
-
-  Additional terms, permissive or non-permissive, may be stated in the
-form of a separately written license, or stated as exceptions;
-the above requirements apply either way.
-
-  8. Termination.
-
-  You may not propagate or modify a covered work except as expressly
-provided under this License.  Any attempt otherwise to propagate or
-modify it is void, and will automatically terminate your rights under
-this License (including any patent licenses granted under the third
-paragraph of section 11).
-
-  However, if you cease all violation of this License, then your
-license from a particular copyright holder is reinstated (a)
-provisionally, unless and until the copyright holder explicitly and
-finally terminates your license, and (b) permanently, if the copyright
-holder fails to notify you of the violation by some reasonable means
-prior to 60 days after the cessation.
-
-  Moreover, your license from a particular copyright holder is
-reinstated permanently if the copyright holder notifies you of the
-violation by some reasonable means, this is the first time you have
-received notice of violation of this License (for any work) from that
-copyright holder, and you cure the violation prior to 30 days after
-your receipt of the notice.
-
-  Termination of your rights under this section does not terminate the
-licenses of parties who have received copies or rights from you under
-this License.  If your rights have been terminated and not permanently
-reinstated, you do not qualify to receive new licenses for the same
-material under section 10.
-
-  9. Acceptance Not Required for Having Copies.
-
-  You are not required to accept this License in order to receive or
-run a copy of the Program.  Ancillary propagation of a covered work
-occurring solely as a consequence of using peer-to-peer transmission
-to receive a copy likewise does not require acceptance.  However,
-nothing other than this License grants you permission to propagate or
-modify any covered work.  These actions infringe copyright if you do
-not accept this License.  Therefore, by modifying or propagating a
-covered work, you indicate your acceptance of this License to do so.
-
-  10. Automatic Licensing of Downstream Recipients.
-
-  Each time you convey a covered work, the recipient automatically
-receives a license from the original licensors, to run, modify and
-propagate that work, subject to this License.  You are not responsible
-for enforcing compliance by third parties with this License.
-
-  An "entity transaction" is a transaction transferring control of an
-organization, or substantially all assets of one, or subdividing an
-organization, or merging organizations.  If propagation of a covered
-work results from an entity transaction, each party to that
-transaction who receives a copy of the work also receives whatever
-licenses to the work the party's predecessor in interest had or could
-give under the previous paragraph, plus a right to possession of the
-Corresponding Source of the work from the predecessor in interest, if
-the predecessor has it or can get it with reasonable efforts.
-
-  You may not impose any further restrictions on the exercise of the
-rights granted or affirmed under this License.  For example, you may
-not impose a license fee, royalty, or other charge for exercise of
-rights granted under this License, and you may not initiate litigation
-(including a cross-claim or counterclaim in a lawsuit) alleging that
-any patent claim is infringed by making, using, selling, offering for
-sale, or importing the Program or any portion of it.
-
-  11. Patents.
-
-  A "contributor" is a copyright holder who authorizes use under this
-License of the Program or a work on which the Program is based.  The
-work thus licensed is called the contributor's "contributor version".
-
-  A contributor's "essential patent claims" are all patent claims
-owned or controlled by the contributor, whether already acquired or
-hereafter acquired, that would be infringed by some manner, permitted
-by this License, of making, using, or selling its contributor version,
-but do not include claims that would be infringed only as a
-consequence of further modification of the contributor version.  For
-purposes of this definition, "control" includes the right to grant
-patent sublicenses in a manner consistent with the requirements of
-this License.
-
-  Each contributor grants you a non-exclusive, worldwide, royalty-free
-patent license under the contributor's essential patent claims, to
-make, use, sell, offer for sale, import and otherwise run, modify and
-propagate the contents of its contributor version.
-
-  In the following three paragraphs, a "patent license" is any express
-agreement or commitment, however denominated, not to enforce a patent
-(such as an express permission to practice a patent or covenant not to
-sue for patent infringement).  To "grant" such a patent license to a
-party means to make such an agreement or commitment not to enforce a
-patent against the party.
-
-  If you convey a covered work, knowingly relying on a patent license,
-and the Corresponding Source of the work is not available for anyone
-to copy, free of charge and under the terms of this License, through a
-publicly available network server or other readily accessible means,
-then you must either (1) cause the Corresponding Source to be so
-available, or (2) arrange to deprive yourself of the benefit of the
-patent license for this particular work, or (3) arrange, in a manner
-consistent with the requirements of this License, to extend the patent
-license to downstream recipients.  "Knowingly relying" means you have
-actual knowledge that, but for the patent license, your conveying the
-covered work in a country, or your recipient's use of the covered work
-in a country, would infringe one or more identifiable patents in that
-country that you have reason to believe are valid.
-
-  If, pursuant to or in connection with a single transaction or
-arrangement, you convey, or propagate by procuring conveyance of, a
-covered work, and grant a patent license to some of the parties
-receiving the covered work authorizing them to use, propagate, modify
-or convey a specific copy of the covered work, then the patent license
-you grant is automatically extended to all recipients of the covered
-work and works based on it.
-
-  A patent license is "discriminatory" if it does not include within
-the scope of its coverage, prohibits the exercise of, or is
-conditioned on the non-exercise of one or more of the rights that are
-specifically granted under this License.  You may not convey a covered
-work if you are a party to an arrangement with a third party that is
-in the business of distributing software, under which you make payment
-to the third party based on the extent of your activity of conveying
-the work, and under which the third party grants, to any of the
-parties who would receive the covered work from you, a discriminatory
-patent license (a) in connection with copies of the covered work
-conveyed by you (or copies made from those copies), or (b) primarily
-for and in connection with specific products or compilations that
-contain the covered work, unless you entered into that arrangement,
-or that patent license was granted, prior to 28 March 2007.
-
-  Nothing in this License shall be construed as excluding or limiting
-any implied license or other defenses to infringement that may
-otherwise be available to you under applicable patent law.
-
-  12. No Surrender of Others' Freedom.
-
-  If conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot convey a
-covered work so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you may
-not convey it at all.  For example, if you agree to terms that obligate you
-to collect a royalty for further conveying from those to whom you convey
-the Program, the only way you could satisfy both those terms and this
-License would be to refrain entirely from conveying the Program.
-
-  13. Use with the GNU Affero General Public License.
-
-  Notwithstanding any other provision of this License, you have
-permission to link or combine any covered work with a work licensed
-under version 3 of the GNU Affero General Public License into a single
-combined work, and to convey the resulting work.  The terms of this
-License will continue to apply to the part which is the covered work,
-but the special requirements of the GNU Affero General Public License,
-section 13, concerning interaction through a network will apply to the
-combination as such.
-
-  14. Revised Versions of this License.
-
-  The Free Software Foundation may publish revised and/or new versions of
-the GNU General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-  Each version is given a distinguishing version number.  If the
-Program specifies that a certain numbered version of the GNU General
-Public License "or any later version" applies to it, you have the
-option of following the terms and conditions either of that numbered
-version or of any later version published by the Free Software
-Foundation.  If the Program does not specify a version number of the
-GNU General Public License, you may choose any version ever published
-by the Free Software Foundation.
-
-  If the Program specifies that a proxy can decide which future
-versions of the GNU General Public License can be used, that proxy's
-public statement of acceptance of a version permanently authorizes you
-to choose that version for the Program.
-
-  Later license versions may give you additional or different
-permissions.  However, no additional obligations are imposed on any
-author or copyright holder as a result of your choosing to follow a
-later version.
-
-  15. Disclaimer of Warranty.
-
-  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
-APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
-HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
-OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
-THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
-PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
-IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
-ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
-
-  16. Limitation of Liability.
-
-  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
-THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
-GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
-USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
-DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
-PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
-EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
-SUCH DAMAGES.
-
-  17. Interpretation of Sections 15 and 16.
-
-  If the disclaimer of warranty and limitation of liability provided
-above cannot be given local legal effect according to their terms,
-reviewing courts shall apply local law that most closely approximates
-an absolute waiver of all civil liability in connection with the
-Program, unless a warranty or assumption of liability accompanies a
-copy of the Program in return for a fee.
-
-                     END OF TERMS AND CONDITIONS
-
-            How to Apply These Terms to Your New Programs
-
-  If you develop a new program, and you want it to be of the greatest
-possible use to the public, the best way to achieve this is to make it
-free software which everyone can redistribute and change under these terms.
-
-  To do so, attach the following notices to the program.  It is safest
-to attach them to the start of each source file to most effectively
-state the exclusion of warranty; and each file should have at least
-the "copyright" line and a pointer to where the full notice is found.
-
-    <one line to give the program's name and a brief idea of what it does.>
-    Copyright (C) <year>  <name of author>
-
-    This program is free software: you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License
-    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-
-Also add information on how to contact you by electronic and paper mail.
-
-  If the program does terminal interaction, make it output a short
-notice like this when it starts in an interactive mode:
-
-    <program>  Copyright (C) <year>  <name of author>
-    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
-    This is free software, and you are welcome to redistribute it
-    under certain conditions; type `show c' for details.
-
-The hypothetical commands `show w' and `show c' should show the appropriate
-parts of the General Public License.  Of course, your program's commands
-might be different; for a GUI interface, you would use an "about box".
-
-  You should also get your employer (if you work as a programmer) or school,
-if any, to sign a "copyright disclaimer" for the program, if necessary.
-For more information on this, and how to apply and follow the GNU GPL, see
-<http://www.gnu.org/licenses/>.
-
-  The GNU General Public License does not permit incorporating your program
-into proprietary programs.  If your program is a subroutine library, you
-may consider it more useful to permit linking proprietary applications with
-the library.  If this is what you want to do, use the GNU Lesser General
-Public License instead of this License.  But first, please read
-<http://www.gnu.org/philosophy/why-not-lgpl.html>.
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/cppcheck.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/cppcheck.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/cppcheck.h	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/cppcheck.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,4 +0,0 @@
-#define CHAR_BIT 8
-#define WITH_OMX
-#define WITH_GPIO
-#define JANUS_PLUGIN_INIT(...) { __VA_ARGS__ }
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/Dockerfile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/Dockerfile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/Dockerfile	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/Dockerfile	1969-12-31 19:00:00.000000000 -0500
@@ -1,26 +0,0 @@
-FROM archlinux/archlinux:base-devel
-
-RUN mkdir -p /etc/pacman.d/hooks \
-	&& ln -s /dev/null /etc/pacman.d/hooks/30-systemd-tmpfiles.hook
-
-RUN echo "Server = http://mirror.yandex.ru/archlinux/\$repo/os/\$arch" > /etc/pacman.d/mirrorlist
-
-RUN pacman -Syu --noconfirm \
-	&& pacman -S --needed --noconfirm \
-		vim \
-		git \
-		libjpeg \
-		libevent \
-		libutil-linux \
-		libbsd \
-		python \
-		python-pip \
-		python-tox \
-		cppcheck \
-		npm \
-	&& (pacman -Sc --noconfirm || true) \
-	&& rm -rf /var/cache/pacman/pkg/*
-
-RUN npm install htmlhint -g
-
-CMD /bin/bash
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/.dockerignore /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/.dockerignore
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/.dockerignore	2023-12-15 01:51:35.038398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/.dockerignore	1969-12-31 19:00:00.000000000 -0500
@@ -1,2 +0,0 @@
-/.tox/
-/.mypy_cache/
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/flake8.ini /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/flake8.ini
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/flake8.ini	2023-12-15 01:51:35.042398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/flake8.ini	1969-12-31 19:00:00.000000000 -0500
@@ -1,9 +0,0 @@
-[flake8]
-inline-quotes = double
-max-line-length = 160
-ignore = W503, E227, E241, E252, Q003
-# W503 line break before binary operator
-# E227 missing whitespace around bitwise or shift operator
-# E241 multiple spaces after
-# E252 missing whitespace around parameter equals
-# Q003 Change outer quotes to avoid escaping inner quotes
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/mypy.ini /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/mypy.ini
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/mypy.ini	2023-12-15 01:51:35.042398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/mypy.ini	1969-12-31 19:00:00.000000000 -0500
@@ -1,5 +0,0 @@
-[mypy]
-python_version = 3.9
-ignore_missing_imports = true
-disallow_untyped_defs = true
-strict_optional = true
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/pylint.ini /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/pylint.ini
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/pylint.ini	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/pylint.ini	1969-12-31 19:00:00.000000000 -0500
@@ -1,64 +0,0 @@
-[MASTER]
-ignore = .git
-
-[DESIGN]
-min-public-methods = 0
-max-args = 10
-
-[TYPECHECK]
-ignored-classes=
-	AioQueue,
-
-[MESSAGES CONTROL]
-disable =
-	file-ignored,
-	locally-disabled,
-	fixme,
-	missing-docstring,
-	no-init,
-	no-self-use,
-	superfluous-parens,
-	abstract-class-not-used,
-	abstract-class-little-used,
-	duplicate-code,
-	bad-continuation,
-	bad-whitespace,
-	star-args,
-	broad-except,
-	redundant-keyword-arg,
-	wrong-import-order,
-	too-many-ancestors,
-	no-else-return,
-	len-as-condition,
-	unspecified-encoding,
-
-[REPORTS]
-msg-template = {symbol} -- {path}:{line}({obj}): {msg}
-
-[FORMAT]
-max-line-length = 160
-
-[BASIC]
-# List of builtins function names that should not be used, separated by a comma
-bad-functions =
-
-# Good variable names which should always be accepted, separated by a comma
-good-names = _, __, x, y, ws, make-html-h, make-jpeg-h
-
-# Regular expression matching correct method names
-method-rgx = [a-z_][a-z0-9_]{2,50}$
-
-# Regular expression matching correct function names
-function-rgx = [a-z_][a-z0-9_]{2,50}$
-
-# Regular expression which should only match correct module level names
-const-rgx = ([a-zA-Z_][a-zA-Z0-9_]*)$
-
-# Regular expression which should only match correct argument names
-argument-rgx = [a-z_][a-z0-9_]{1,30}$
-
-# Regular expression which should only match correct variable names
-variable-rgx = [a-z_][a-z0-9_]{1,30}$
-
-# Regular expression which should only match correct instance attribute names
-attr-rgx = [a-z_][a-z0-9_]{1,30}$
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/tox.ini /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/tox.ini
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/linters/tox.ini	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/linters/tox.ini	1969-12-31 19:00:00.000000000 -0500
@@ -1,51 +0,0 @@
-[tox]
-envlist = cppcheck, flake8, pylint, mypy, vulture, htmlhint
-skipsdist = true
-
-[testenv]
-basepython = python3.10
-changedir = /src
-
-[testenv:cppcheck]
-whitelist_externals = cppcheck
-commands = cppcheck \
-			--force \
-			--std=c11 \
-			--error-exitcode=1 \
-			--quiet \
-			--enable=warning,unusedFunction,portability,performance,style \
-			--suppress=assignmentInAssert \
-			--suppress=variableScope \
-			--inline-suppr \
-			--library=python \
-			--include=linters/cppcheck.h \
-		src python/ustreamer.c janus/rtp.h janus/rtp.c janus/plugin.c
-
-[testenv:flake8]
-whitelist_externals = bash
-commands = bash -c 'flake8 --config=linters/flake8.ini tools/*.py' python/*.py
-deps =
-	flake8
-	flake8-quotes
-
-[testenv:pylint]
-whitelist_externals = bash
-commands = bash -c 'pylint --rcfile=linters/pylint.ini --output-format=colorized --reports=no tools/*.py python/*.py'
-deps =
-	pylint
-
-[testenv:mypy]
-whitelist_externals = bash
-commands = bash -c 'mypy --config-file=linters/mypy.ini tools/*.py python/*.py'
-deps =
-	mypy
-
-[testenv:vulture]
-whitelist_externals = bash
-commands = bash -c 'vulture tools/*.py python/*.py'
-deps =
-	vulture
-
-[testenv:htmlhint]
-whitelist_externals = htmlhint
-commands = htmlhint src/ustreamer/http/data/*.html
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/Makefile	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,127 +0,0 @@
--include config.mk
-
-DESTDIR ?=
-PREFIX ?= /usr/local
-MANPREFIX ?= $(PREFIX)/share/man
-
-CC ?= gcc
-PY ?= python3
-CFLAGS ?= -O3
-LDFLAGS ?=
-
-RPI_VC_HEADERS ?= /opt/vc/include
-RPI_VC_LIBS ?= /opt/vc/lib
-
-export
-
-_LINTERS_IMAGE ?= ustreamer-linters
-
-
-# =====
-define optbool
-$(filter $(shell echo $(1) | tr A-Z a-z), yes on 1)
-endef
-
-
-# =====
-all:
-	+ $(MAKE) apps
-ifneq ($(call optbool,$(WITH_PYTHON)),)
-	+ $(MAKE) python
-endif
-ifneq ($(call optbool,$(WITH_JANUS)),)
-	+ $(MAKE) janus
-endif
-
-
-apps:
-	$(MAKE) -C src
-	@ ln -sf src/ustreamer.bin ustreamer
-	@ ln -sf src/ustreamer-dump.bin ustreamer-dump
-
-
-python:
-	$(MAKE) -C python
-	@ ln -sf python/build/lib.*/*.so .
-
-
-janus:
-	$(MAKE) -C janus
-	@ ln -sf janus/*.so .
-
-
-install: all
-	$(MAKE) -C src install
-ifneq ($(call optbool,$(WITH_PYTHON)),)
-	$(MAKE) -C python install
-endif
-ifneq ($(call optbool,$(WITH_JANUS)),)
-	$(MAKE) -C janus install
-endif
-	mkdir -p $(DESTDIR)$(MANPREFIX)/man1
-	for man in $(shell ls man); do \
-		install -m644 man/$$man $(DESTDIR)$(MANPREFIX)/man1/$$man; \
-		gzip -f $(DESTDIR)$(MANPREFIX)/man1/$$man; \
-	done
-
-
-install-strip: install
-	$(MAKE) -C src install-strip
-
-
-regen:
-	tools/$(MAKE)-jpeg-h.py src/ustreamer/data/blank.jpeg src/ustreamer/data/blank_jpeg.c BLANK
-	tools/$(MAKE)-html-h.py src/ustreamer/data/index.html src/ustreamer/data/index_html.c INDEX
-
-
-release:
-	$(MAKE) clean
-	$(MAKE) tox
-	$(MAKE) push
-	$(MAKE) bump V=$(V)
-	$(MAKE) push
-	$(MAKE) clean
-
-
-tox: linters
-	time docker run --rm \
-			--volume `pwd`:/src:ro \
-			--volume `pwd`/linters:/src/linters:rw \
-		-t $(_LINTERS_IMAGE) bash -c " \
-			cd /src \
-			&& tox -q -c linters/tox.ini $(if $(E),-e $(E),-p auto) \
-		"
-
-
-linters:
-	docker build \
-			$(if $(call optbool,$(NC)),--no-cache,) \
-			--rm \
-			--tag $(_LINTERS_IMAGE) \
-		-f linters/Dockerfile linters
-
-
-bump:
-	bumpversion $(if $(V),$(V),minor)
-
-
-push:
-	git push
-	git push --tags
-
-
-clean-all: linters clean
-	- docker run --rm \
-			--volume `pwd`:/src \
-		-it $(_LINTERS_IMAGE) bash -c "cd src && rm -rf linters/{.tox,.mypy_cache}"
-
-
-clean:
-	rm -rf pkg/arch/pkg pkg/arch/src pkg/arch/v*.tar.gz pkg/arch/ustreamer-*.pkg.tar.{xz,zst}
-	rm -f ustreamer ustreamer-dump *.so
-	$(MAKE) -C src clean
-	$(MAKE) -C python clean
-	$(MAKE) -C janus clean
-
-
-.PHONY: python janus linters
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/man/ustreamer.1 /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/man/ustreamer.1
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/man/ustreamer.1	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/man/ustreamer.1	1969-12-31 19:00:00.000000000 -0500
@@ -1,326 +0,0 @@
-.\" Manpage for ustreamer.
-.\" Open an issue or pull request to https://github.com/pikvm/ustreamer to correct errors or typos
-.TH USTREAMER 1 "version 4.13" "November 2020"
-
-.SH NAME
-ustreamer \- stream MJPG video from any V4L2 device to the network
-
-.SH SYNOPSIS
-.B ustreamer
-.RI [OPTIONS]
-
-.SH DESCRIPTION
-µStreamer (\fBustreamer\fP) is a lightweight and very quick server to stream MJPG video from any V4L2 device to the network. All new browsers have native support of this video format, as well as most video players such as mplayer, VLC etc. µStreamer is a part of the Pi-KVM project designed to stream VGA and HDMI screencast hardware data with the highest resolution and FPS possible.
-
-.SH USAGE
-Without arguments, \fBustreamer\fR will try to open \fB/dev/video0\fR with 640x480 resolution and start streaming on \fBhttp://127\.0\.0\.1:8080\fR\. You can override this behavior using parameters \fB\-\-device\fR, \fB\-\-host\fR and \fB\-\-port\fR\. For example, to stream to the world, run: \fBustreamer --device=/dev/video1 --host=0.0.0.0 --port=80\fR
-
-Please note that since µStreamer v2\.0 cross\-domain requests were disabled by default for security reasons\. To enable the old behavior, use the option \fB\-\-allow\-origin=\e*\fR\.
-
-For example, the recommended way of running µStreamer with Auvidea B101 on a Raspberry Pi is:
-
-\fBustreamer \e\fR
-.RS
-\fB\-\-format=uyvy \e\fR # Device input format
-.nf
-\fB\-\-encoder=omx \e\fR # Hardware encoding with OpenMAX
-.nf
-\fB\-\-workers=3 \e\fR # Maximum workers for OpenMAX
-.nf
-\fB\-\-persistent \e\fR # Don\'t re\-initialize device on timeout (for example when HDMI cable was disconnected)
-.nf
-\fB\-\-dv\-timings \e\fR # Use DV\-timings
-.nf
-\fB\-\-drop\-same\-frames=30\fR # Save the traffic\fR
-.RE
-.P
-Please note that to use \fB\-\-drop\-same\-frames\fR for different browsers you need to use some specific URL \fB/stream\fR parameters (see URL \fB/\fR for details)\.
-.P
-You can always view the full list of options with \fBustreamer \-\-help\fR\. Some features may not be available on your platform. To find out which features are enabled, use \fBustreamer \-\-features\fR.
-
-.SH OPTIONS
-.SS "Capturing options"
-.TP
-.BR \-d\ \fI/dev/path ", " \-\-device\ \fI/dev/path
-Path to V4L2 device. Default: /dev/video0.
-.TP
-.BR \-i\ \fIN ", " \-\-input\ \fIN
-Input channel. Default: 0.
-.TP
-.BR \-r\ \fIWxH ", " \-\-resolution\ \fIWxH
-Initial image resolution. Default: 640x480.
-.TP
-.BR \-m\ \fIfmt ", " \-\-format\ \fIfmt
-Image format.
-Available: YUYV, UYVY, RGB565, RGB24, JPEG; default: YUYV.
-.TP
-.BR \-a\ \fIstd ", " \-\-tv\-standard\ \fIstd
-Force TV standard.
-Available: PAL, NTSC, SECAM; default: disabled.
-.TP
-.BR \-I\ \fImethod ", " \-\-io\-method\ \fImethod
-Set V4L2 IO method (see kernel documentation). Changing of this parameter may increase the performance. Or not.
-Available: MMAP, USERPTR; default: MMAP.
-.TP
-.BR \-f\ \fIN ", " \-\-desired\-fps\ \fIN
-Desired FPS. Default: maximum possible.
-.TP
-.BR \-z\ \fIN ", " \-\-min\-frame\-size\ \fIN
-Drop frames smaller then this limit. Useful if the device produces small\-sized garbage frames. Default: 128 bytes.
-.TP
-.BR \-n ", " \-\-persistent
-Don't re\-initialize device on timeout. Default: disabled.
-.TP
-.BR \-t ", " \-\-dv\-timings
-Enable DV timings querying and events processing to automatic resolution change. Default: disabled.
-.TP
-.BR \-b\ \fIN ", " \-\-buffers\ \fIN
-The number of buffers to receive data from the device. Each buffer may processed using an independent thread.
-Default: 2 (the number of CPU cores (but not more than 4) + 1).
-.TP
-.BR \-w\ \fIN ", " \-\-workers\ \fIN
-The number of worker threads but not more than buffers.
-Default: 1 (the number of CPU cores (but not more than 4)).
-.TP
-.BR \-q\ \fIN ", " \-\-quality\ \fIN
-Set quality of JPEG encoding from 1 to 100 (best). Default: 80.
-Note: If HW encoding is used (JPEG source format selected), this parameter attempts to configure the camera or capture device hardware's internal encoder. It does not re\-encode MJPG to MJPG to change the quality level for sources that already output MJPG.
-.TP
-.BR \-c\ \fItype ", " \-\-encoder\ \fItype
-Use specified encoder. It may affect the number of workers.
-
-CPU ─ Software MJPG encoding (default).
-
-OMX ─ GPU hardware accelerated MJPG encoding with OpenMax (required \fBWITH_OMX\fR feature).
-
-HW ─ Use pre-encoded MJPG frames directly from camera hardware.
-
-NOOP ─ Don't compress MJPG stream (do nothing).
-.TP
-.BR \-g\ \fIWxH,... ", " \-\-glitched\-resolutions\ \fIWxH,...
-It doesn't do anything. Still here for compatibility. Required \fBWITH_OMX\fR feature.
-.TP
-.BR \-k\ \fIpath ", " \-\-blank\ \fIpath
-Path to JPEG file that will be shown when the device is disconnected during the streaming. Default: black screen 640x480 with 'NO SIGNAL'.
-.TP
-.BR \-K\ \fIsec ", " \-\-last\-as\-blank\ \fIsec
-Show the last frame received from the camera after it was disconnected, but no more than specified time (or endlessly if 0 is specified). If the device has not yet been online, display 'NO SIGNAL' or the image specified by option \-\-blank. Note: currently this option has no effect on memory sinks. Default: disabled.
-.TP
-.BR \-l ", " \-\-slowdown
-Slowdown capturing to 1 FPS or less when no stream or sink clients are connected. Useful to reduce CPU consumption. Default: disabled.
-.TP
-.BR \-\-device\-timeout\ \fIsec
-Timeout for device querying. Default: 1.
-.TP
-.BR \-\-device\-error\-delay\ \fIsec
-Delay before trying to connect to the device again after an error (timeout for example). Default: 1.
-
-.SS "Image control options"
-.TP
-.BR \-\-image\-default
-Reset all image settings below to default. Default: no change.
-.TP
-.BR \-\-brightness\ \fIN ", " \fIauto ", " \fIdefault
-Set brightness. Default: no change.
-.TP
-.BR \-\-contrast\ \fIN ", " \fIdefault
-Set contrast. Default: no change.
-.TP
-.BR \-\-saturation\ \fIN ", " \fIdefault
-Set saturation. Default: no change.
-.TP
-.BR \-\-hue\ \fIN ", " \fIauto ", " \fIdefault
-Set hue. Default: no change.
-.TP
-.BR \-\-gamma\ \fIN ", " \fIdefault
-Set gamma. Default: no change.
-.TP
-.BR \-\-sharpness\ \fIN ", " \fIdefault
-Set sharpness. Default: no change.
-.TP
-.BR \-\-backlight\-compensation\ \fIN ", " \fIdefault
-Set backlight compensation. Default: no change.
-.TP
-.BR \-\-white\-balance\ \fIN ", " \fIauto ", " \fIdefault
-Set white balance. Default: no change.
-.TP
-.BR \-\-gain\ \fIN ", " \fIauto ", " \fIdefault
-Set gain. Default: no change.
-.TP
-.BR \-\-color\-effect\ \fIN ", " \fIdefault
-Set color effect. Default: no change.
-.TP
-.BR \-\-flip\-vertical\ \fI1 ", " \fI0 ", " \fIdefault
-Set vertical flip. Default: no change.
-.TP
-.BR \-\-flip\-horizontal\ \fI1 ", " \fI0 ", " \fIdefault
-Set horizontal flip. Default: no change.
-
-.SS "HTTP server options"
-.TP
-.BR \-s\ \fIaddress ", " \-\-host\ \fIaddress
-Listen on Hostname or IP. Default: 127.0.0.1.
-.TP
-.BR \-p\ \fIN ", " \-\-port\ \fIN
-Bind to this TCP port. Default: 8080.
-.TP
-.BR \-U\ \fIpath ", " \-\-unix\ \fIpath
-Bind to UNIX domain socket. Default: disabled.
-.TP
-.BR \-D ", " \-\-unix\-rm
-Try to remove old unix socket file before binding. default: disabled.
-.TP
-.BR \-M\ \fImode ", " \-\-unix\-mode\ \fImode
-Set UNIX socket file permissions (like 777). Default: disabled.
-.TP
-.BR \-S ", " \-\-systemd
-Bind to systemd socket for socket activation. Required \fBWITH_SYSTEMD\fR feature. Default: disabled.
-.TP
-.BR \-\-user\ \fIname
-HTTP basic auth user. Default: disabled.
-.TP
-.BR \-\-passwd\ \fIstr
-HTTP basic auth passwd. Default: empty.
-.TP
-.BR \-\-static\ \fIpath
-Path to dir with static files instead of embedded root index page. Symlinks are not supported for security reasons. Default: disabled.
-.TP
-.BR \-e\ \fIN ", " \-\-drop\-same\-frames\ \fIN
-Don't send identical frames to clients, but no more than specified number. It can significantly reduce the outgoing traffic, but will increase the CPU loading. Don't use this option with analog signal sources or webcams, it's useless. Default: disabled.
-.TP
-.BR \-R\ \fIWxH ", " \-\-fake\-resolution\ \fIWxH
-Override image resolution for the /state. Default: disabled.
-.TP
-.BR \-\-tcp\-nodelay
-Set TCP_NODELAY flag to the client /stream socket. Only for TCP socket.
-Default: disabled.
-.TP
-.BR \-\-allow\-origin\ \fIstr
-Set Access\-Control\-Allow\-Origin header. Default: disabled.
-.TP
-.BR \-\-server\-timeout\ \fIsec
-Timeout for client connections. Default: 10.
-
-.SS "JPEG sink options"
-With shared memory sink you can write a stream to a file. See \fBustreamer-dump\fR(1) for more info.
-.TP
-.BR \-\-sink\ \fIname
-Use the specified shared memory object to sink JPEG frames. Default: disabled.
-.TP
-.BR \-\-sink\-mode\ \fImode
-Set JPEG sink permissions (like 777). Default: 660.
-.TP
-.BR \-\-sink\-rm
-Remove shared memory on stop. Default: disabled.
-.TP
-.BR \-\-sink\-client\-ttl\ \fIsec
-Client TTL. Default: 10.
-.TP
-.BR \-\-sink\-timeout\ \fIsec
-Timeout for lock. Default: 1.
-
-.SS "H264 sink options"
-.TP
-Available only if \fBWITH_OMX\fR feature enabled.
-.TP
-.BR \-\-h264\-sink\ \fIname
-Use the specified shared memory object to sink H264 frames encoded by MMAL. Default: disabled.
-.TP
-.BR \-\-h264\-sink\-mode\ \fImode
-Set H264 sink permissions (like 777). Default: 660.
-.TP
-.BR \-\-h264\-sink\-rm
-Remove shared memory on stop. Default: disabled.
-.TP
-.BR \-\-h264\-sink\-client\-ttl\ \fIsec
-Client TTL. Default: 10.
-.TP
-.BR \-\-h264\-sink\-timeout\ \fIsec
-Timeout for lock. Default: 1.
-.TP
-.BR \-\-h264\-bitrate\ \fIkbps
-H264 bitrate in Kbps. Default: 5000.
-.TP
-.BR \-\-h264\-gop\ \fIN
-Intarval between keyframes. Default: 30.
-
-.SS "Process options"
-.TP
-.BR \-\-exit\-on\-parent\-death
-Exit the program if the parent process is dead. Required \fBHAS_PDEATHSIG\fR feature. Default: disabled.
-.TP
-.BR \-\-exit\-on\-no\-clients \fIsec
-Exit the program if there have been no stream or sink clients or any HTTP requests in the last N seconds. Default: 0 (disabled).
-.TP
-.BR \-\-process\-name\-prefix\ \fIstr
-Set process name prefix which will be displayed in the process list like '\fIstr: ustreamer \-\-blah\-blah\-blah'\fR. Required \fBWITH_SETPROCTITLE\fR feature. Default: disabled.
-.TP
-.BR \-\-notify\-parent
-Send SIGUSR2 to the parent process when the stream parameters are changed. Checking changes is performed for the online flag and image resolution. Required \fBWITH_SETPROCTITLE\fR feature.
-
-.SS "GPIO options"
-Available only if \fBWITH_GPIO\fR feature enabled.
-.TP
-.BR \-\-gpio\-device\ \fI/dev/path
-Path to GPIO character device. Default: /dev/gpiochip0.
-.TP
-.BR \-\-gpio\-consumer\-prefix\ \fIstr
-Consumer prefix for GPIO outputs. Default: ustreamer.
-.TP
-.BR \-\-gpio\-prog\-running\ \fIpin
-Set 1 on GPIO pin while µStreamer is running. Default: disabled.
-.TP
-.BR \-\-gpio\-stream\-online\ \fIpin
-Set 1 while streaming. Default: disabled.
-.TP
-.BR \-\-gpio\-has\-http\-clients\ \fIpin
-Set 1 while stream has at least one client. Default: disabled.
-
-.SS "Logging options"
-.TP
-.BR \-\-log\-level\ \fIN
-Verbosity level of messages from 0 (info) to 3 (debug). Enabling debugging messages can slow down the program.
-Available levels: 0 (info), 1 (performance), 2 (verbose), 3 (debug).
-Default: 0.
-.TP
-.BR \-\-perf
-Enable performance messages (same as \-\-log\-level=1). Default: disabled.
-.TP
-.BR \-\-verbose
-Enable verbose messages and lower (same as \-\-log\-level=2). Default: disabled.
-.TP
-.BR \-\-debug
-Enable debug messages and lower (same as \-\-log\-level=3). Default: disabled.
-.TP
-.BR \-\-force\-log\-colors
-Force color logging. Default: colored if stderr is a TTY.
-.TP
-.BR \-\-no\-log\-colors
-Disable color logging. Default: ditto.
-
-.SS "Help options"
-.TP
-.BR \-h ", " \-\-help
-Print this text and exit.
-.TP
-.BR \-v ", " \-\-version
-Print version and exit.
-.TP
-.BR \-\-features
-Print list of supported features.
-
-.SH "SEE ALSO"
-.BR ustreamer-dump (1)
-
-.SH BUGS
-Please file any bugs and issues at \fIhttps://github.com/pikvm/ustreamer/issues\fR
-
-.SH AUTHOR
-Maxim Devaev <mdevaev@gmail.com>
-
-.SH HOMEPAGE
-\fIhttps://pikvm.org/\fR
-
-.SH COPYRIGHT
-GNU General Public License v3.0
-
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/man/ustreamer-dump.1 /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/man/ustreamer-dump.1
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/man/ustreamer-dump.1	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/man/ustreamer-dump.1	1969-12-31 19:00:00.000000000 -0500
@@ -1,91 +0,0 @@
-.\" Manpage for ustreamer-dump.
-.\" Open an issue or pull request to https://github.com/pikvm/ustreamer to correct errors or typos
-.TH USTREAMER-DUMP 1 "version 4.13" "January 2021"
-
-.SH NAME
-ustreamer-dump \- Dump uStreamer's memory sink to file
-
-.SH SYNOPSIS
-.B ustreamer-dump
-.RI [OPTIONS]
-
-.SH DESCRIPTION
-µStreamer-dump (\fBustreamer-dump\fP) writes a local stream from ustreamer to a file or redirect it to other utilities (such as \fBffmpeg\fR).
-
-.SH USAGE
-\fBustreamer\fR requires at least the \fB\-\-sink\fR option to operate.
-
-To output ustreamers sink "test" to ffmpeg, and into a file called test.mp4:
-
-\fBustreamer-dump \e\fR
-.RS
-\fB\-\-sink=test \e\fR # Use ustreamer sink "test"
-.nf
-\fB\-\-output\ \- \e\fR # Output to stdout
-\fB|\ ffmpeg\ \-use_wallclock_as_timestamps\ 1\ \-i\ pipe:\ \-c:v\ libx264\ test\.mp4\fR
-
-.SH OPTIONS
-.SS "Sink options"
-.TP
-.BR \-s ", " \-\-sink\ \fIname
-Memory sink ID. No default.
-.TP
-.BR \-t ", " \-\-sink\-timeout\ \fIsec
-Timeout for the upcoming frame. Default: 1.
-.TP
-.BR \-o ", " \-\-output\ \fIfilename
-Filename to dump output to. Use '-' for stdout. Default: just consume the sink.
-.TP
-.BR \-j ", " \-\-output-json
-Format output as JSON. Required option --output. Default: disabled.
-.TP
-.BR \-c ", " \-\-count\ \fIN
-Limit the number of frames. Default: 0 (infinite).
-.TP
-.BR \-i ", "\-\-interval\ \fIsec
-Delay between reading frames (float). Default: 0.
-
-.SS "Logging options"
-.TP
-.BR \-\-log\-level\ \fIN
-Verbosity level of messages from 0 (info) to 3 (debug). Enabling debugging messages can slow down the program.
-Available levels: 0 (info), 1 (performance), 2 (verbose), 3 (debug).
-Default: 0.
-.TP
-.BR \-\-perf
-Enable performance messages (same as \-\-log\-level=1). Default: disabled.
-.TP
-.BR \-\-verbose
-Enable verbose messages and lower (same as \-\-log\-level=2). Default: disabled.
-.TP
-.BR \-\-debug
-Enable debug messages and lower (same as \-\-log\-level=3). Default: disabled.
-.TP
-.BR \-\-force\-log\-colors
-Force color logging. Default: colored if stderr is a TTY.
-.TP
-.BR \-\-no\-log\-colors
-Disable color logging. Default: ditto.
-
-.SS "Help options"
-.TP
-.BR \-h ", " \-\-help
-Print this text and exit.
-.TP
-.BR \-v ", " \-\-version
-Print version and exit.
-
-.SH "SEE ALSO"
-.BR ustreamer (1)
-
-.SH BUGS
-Please file any bugs and issues at \fIhttps://github.com/pikvm/ustreamer/issues\fR
-
-.SH AUTHOR
-Maxim Devaev <mdevaev@gmail.com>
-
-.SH HOMEPAGE
-\fIhttps://pikvm.org/\fR
-
-.SH COPYRIGHT
-GNU General Public License v3.0
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/arch/PKGBUILD /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/arch/PKGBUILD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/arch/PKGBUILD	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/arch/PKGBUILD	1969-12-31 19:00:00.000000000 -0500
@@ -1,58 +0,0 @@
-# Contributor: Maxim Devaev <mdevaev@gmail.com>
-# Author: Maxim Devaev <mdevaev@gmail.com>
-
-
-pkgname=ustreamer
-pkgver=4.13
-pkgrel=1
-pkgdesc="Lightweight and fast MJPG-HTTP streamer"
-url="https://github.com/pikvm/ustreamer"
-license=(GPL)
-arch=(i686 x86_64 armv6h armv7h aarch64)
-depends=(libjpeg libevent libbsd libgpiod)
-makedepends=(gcc make)
-source=(${pkgname}::"git+https://github.com/pikvm/ustreamer#commit=v${pkgver}")
-md5sums=(SKIP)
-
-
-_options="WITH_GPIO=1"
-if [ -e /usr/bin/python3 ]; then
-	_options="$_options WITH_PYTHON=1"
-	depends+=(python)
-	makedepends+=(python-setuptools)
-fi
-if [ -e /opt/vc/include/IL/OMX_Core.h ]; then
-	depends+=(raspberrypi-firmware)
-	makedepends+=(raspberrypi-firmware)
-	_options="$_options WITH_OMX=1"
-fi
-if [ -e /usr/include/janus/plugins/plugin.h ];then
-	depends+=(janus-gateway-pikvm)
-	makedepends+=(janus-gateway-pikvm)
-	_options="$_options WITH_JANUS=1"
-fi
-if [ -e /usr/include/systemd/sd-daemon.h ];then
-	depends+=(systemd)
-	makedepends+=(systemd)
-	_options="$_options WITH_SYSTEMD=1"
-fi
-
-
-# LD does not link mmal with this option
-# This DOESN'T affect setup.py
-LDFLAGS="${LDFLAGS//--as-needed/}"
-export LDFLAGS="${LDFLAGS//,,/,}"
-
-
-build() {
-	cd "$srcdir"
-	rm -rf $pkgname-build
-	cp -r $pkgname $pkgname-build
-	cd $pkgname-build
-	make $_options CFLAGS="$CFLAGS" LDFLAGS="$LDFLAGS" $MAKEFLAGS
-}
-
-package() {
-	cd "$srcdir/$pkgname-build"
-	make $_options CFLAGS="$CFLAGS" LDFLAGS="$LDFLAGS" DESTDIR="$pkgdir" PREFIX=/usr install
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.cross /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.cross
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.cross	2023-12-15 01:51:35.118398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.cross	1969-12-31 19:00:00.000000000 -0500
@@ -1,40 +0,0 @@
-FROM balenalib/raspberrypi3-debian:build as build
-
-RUN ["cross-build-start"]
-
-RUN apt-get update \
-	&& apt-get install -y --no-install-recommends \
-		gcc \
-		libjpeg8-dev \
-		libbsd-dev \
-		libraspberrypi-dev \
-		libgpiod-dev \
-	&& rm -rf /var/lib/apt/lists/*
-
-WORKDIR /build/ustreamer/
-COPY . .
-RUN make -j5 WITH_OMX=1 WITH_GPIO=1
-RUN ["cross-build-end"]
-
-FROM balenalib/raspberrypi3-debian:run as RUN
-
-RUN ["cross-build-start"]
-
-RUN apt-get update \
-	&& apt-get install -y --no-install-recommends \
-		libevent-2.1 \
-		libevent-pthreads-2.1-6 \
-		libjpeg8 \
-		libbsd0 \
-		libgpiod2 \
-	&& rm -rf /var/lib/apt/lists/*
-
-RUN ["cross-build-end"]
-
-WORKDIR /ustreamer
-COPY --from=build /build/ustreamer/ustreamer .
-
-EXPOSE 8080
-ENTRYPOINT ["./ustreamer", "--host=::"]
-
-# vim: syntax=dockerfile
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.native /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.native
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.native	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.arm.native	1969-12-31 19:00:00.000000000 -0500
@@ -1,33 +0,0 @@
-FROM balenalib/raspberrypi3-debian:build as build
-
-RUN apt-get update \
-	&& apt-get install -y --no-install-recommends \
-		gcc \
-		libjpeg8-dev \
-		libbsd-dev \
-		libraspberrypi-dev \
-		libgpiod-dev \
-	&& rm -rf /var/lib/apt/lists/*
-
-WORKDIR /build/ustreamer/
-COPY . .
-RUN make -j5 WITH_OMX=1 WITH_GPIO=1
-
-FROM balenalib/raspberrypi3-debian:run as RUN
-
-RUN apt-get update \
-	&& apt-get install -y --no-install-recommends \
-		libevent-2.1 \
-		libevent-pthreads-2.1-6 \
-		libjpeg8 \
-		libbsd0 \
-		libgpiod2 \
-	&& rm -rf /var/lib/apt/lists/*
-
-WORKDIR /ustreamer
-COPY --from=build /build/ustreamer/ustreamer .
-
-EXPOSE 8080
-ENTRYPOINT ["./ustreamer", "--host=::"]
-
-# vim: syntax=dockerfile
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.x64.native /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.x64.native
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.x64.native	2023-12-15 01:51:35.046398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/docker/Dockerfile.x64.native	1969-12-31 19:00:00.000000000 -0500
@@ -1,38 +0,0 @@
-FROM debian:buster-slim as build
-
-RUN apt-get update \
-	&& apt-get install -y \
-		ca-certificates \
-		make \
-		gcc \
-		git \
-		libevent-dev \
-		libjpeg62-turbo-dev \
-		libbsd-dev \
-		libgpiod-dev \
-	&& rm -rf /var/lib/apt/lists/*
-
-WORKDIR /build/ustreamer/
-COPY . .
-RUN make -j5 WITH_GPIO=1
-
-FROM debian:buster-slim as run
-
-RUN apt-get update \
-	&& apt-get install -y \
-		ca-certificates \
-		libevent-2.1 \
-		libevent-pthreads-2.1-6 \
-		libjpeg62-turbo \
-		libbsd0 \
-		libgpiod2 \
-	&& rm -rf /var/lib/apt/lists/*
-
-WORKDIR /ustreamer
-COPY --from=build /build/ustreamer/ustreamer .
-
-#ENV LD_LIBRARY_PATH=/opt/vc/lib
-EXPOSE 8080
-ENTRYPOINT ["./ustreamer", "--host=0.0.0.0"]
-
-# vim: syntax=dockerfile
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/gentoo/ustreamer-9999.ebuild /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/gentoo/ustreamer-9999.ebuild
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/gentoo/ustreamer-9999.ebuild	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/gentoo/ustreamer-9999.ebuild	1969-12-31 19:00:00.000000000 -0500
@@ -1,30 +0,0 @@
-# Copyright 2019 Gentoo Authors
-# Distributed under the terms of the GNU General Public License v2
-
-EAPI=7
-
-inherit git-r3
-
-DESCRIPTION="uStreamer - Lightweight and fast MJPG-HTTP streamer"
-HOMEPAGE="https://github.com/pikvm/ustreamer"
-EGIT_REPO_URI="https://github.com/pikvm/ustreamer.git"
-
-LICENSE="GPL-3"
-SLOT="0"
-KEYWORDS="~amd64"
-IUSE=""
-
-DEPEND="
-	>=dev-libs/libevent-2.1.8
-	>=media-libs/libjpeg-turbo-1.5.3
-	>=dev-libs/libbsd-0.9.1
-"
-RDEPEND="${DEPEND}"
-BDEPEND=""
-
-src_install() {
-	dobin ustreamer
-	dobin ustreamer-dump
-	doman man/ustreamer.1
-	doman man/ustreamer-dump.1
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.config /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.config
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.config	2023-12-15 01:51:35.046398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.config	1969-12-31 19:00:00.000000000 -0500
@@ -1,19 +0,0 @@
-
-config ustreamer
-	option enabled '0'
-
-	option device '/dev/video0'
-	option device_timeout '5'
-	option input '0'
-
-	option resolution '640x480'
-	option format 'YUYV'
-	option quality '80'
-	option desired_fps '0'
-	option encoder 'CPU'
-
-	option host '::'
-	option port '8080'
-	option static ''
-	option user ''
-	option password ''
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.init /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.init
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.init	2023-12-15 01:51:35.046398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/files/ustreamer.init	1969-12-31 19:00:00.000000000 -0500
@@ -1,54 +0,0 @@
-#!/bin/sh /etc/rc.common
-# Copyright (C) 2009-2019 OpenWrt.org
-
-START=90
-STOP=10
-
-USE_PROCD=1
-PROG=/usr/bin/ustreamer
-
-getcfg() {
-	config_get value ustreamer $1 $2
-	return "$value"
-}
-
-start_instance() {
-	config_get_bool enabled ustreamer enabled 0
-	[ "$enabled" -eq 0 ] && return
-
-	local options=""
-
-	options="$options --device='`getcfg device /dev/video0`'"
-	options="$options --device-timeout='`getcfg device_timeout 5`'"
-	options="$options --input='`getcfg input 0`'"
-
-	options="$options --resolution='`getcfg resolution 640x480`'"
-	options="$options --format='`getcfg format YUYV`'"
-	options="$options --quality='`getcfg quality 80`'"
-	options="$options --desired-fps='`getcfg desired_fps 0`'"
-	options="$options --encoder='`getcfg encoder CPU`'"
-
-	options="$options --host='`getcfg host '::'`'"
-	local port=`getcfg port 8080`
-	options="$options --port='$port'"
-	options="$options --static='`getcfg static ''`'"
-	options="$options --user='`getcfg user ''`'"
-	options="$options --passwd='`getcfg password ''`'"
-
-	config-get-bool opt_slowdown ustreamer slowdown 1
-	[ "$slowdown" -eq 1 ] && options="$options --slowdown"
-
-	procd_open_instance
-	procd_set_param command "$PROG" $options
-	procd_add_mdns http tcp "$port" daemon=ustreamer
-	procd_close_instance
-}
-
-start_service() {
-	config_load ustreamer
-	config_foreach start_instance ustreamer
-}
-
-service_triggers() {
-	procd_add_reload_trigger ustreamer
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/pkg/openwrt/Makefile	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/pkg/openwrt/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,46 +0,0 @@
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=ustreamer
-PKG_VERSION:=4.13
-PKG_RELEASE:=1
-PKG_MAINTAINER:=Maxim Devaev <mdevaev@gmail.com>
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://github.com/pikvm/ustreamer.git
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
-PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-
-PKG_LICENSE:=GPL-3.0
-PKG_LICENSE_FILES:=LICENSE
-
-include $(INCLUDE_DIR)/package.mk
-
-define Package/ustreamer
-  SECTION:=multimedia
-  CATEGORY:=Multimedia
-  TITLE:=uStreamer
-  DEPENDS:=+libpthread +libjpeg +libv4l +libbsd +libevent2 +libevent2-core +libevent2-extra +libevent2-pthreads
-  URL:=https://github.com/pikvm/ustreamer
-endef
-
-define Package/ustreamer/description
- µStreamer - Lightweight and fast MJPG-HTTP streamer
-endef
-
-define Package/ustreamer/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/ustreamer $(1)/usr/bin/
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/ustreamer-dump $(1)/usr/bin/
-	$(INSTALL_DIR) $(1)/etc/config
-	$(CP) ./files/ustreamer.config $(1)/etc/config/ustreamer
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/ustreamer.init $(1)/etc/init.d/ustreamer
-endef
-
-$(eval $(call BuildPackage,ustreamer))
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/Makefile	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,20 +0,0 @@
--include ../config.mk
-
-DESTDIR ?=
-PREFIX ?= /usr/local
-
-PY ?= python3
-
-
-# =====
-all:
-	$(info == PY_BUILD ustreamer-*.so)
-	@ $(PY) setup.py build
-
-
-install:
-	$(PY) setup.py install --prefix=$(PREFIX) --root=$(if $(DESTDIR),$(DESTDIR),/)
-
-
-clean:
-	rm -rf build
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/setup.py /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/setup.py
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/setup.py	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/setup.py	1969-12-31 19:00:00.000000000 -0500
@@ -1,25 +0,0 @@
-import os
-
-from distutils.core import Extension
-from distutils.core import setup
-
-
-# =====
-if __name__ == "__main__":
-    setup(
-        name="ustreamer",
-        version="4.13",
-        description="uStreamer tools",
-        author="Maxim Devaev",
-        author_email="mdevaev@gmail.com",
-        url="https://github.com/pikvm/ustreamer",
-        ext_modules=[
-            Extension(
-                "ustreamer",
-                libraries=["rt", "m", "pthread"],
-                undef_macros=["NDEBUG"],
-                sources=["src/" + name for name in os.listdir("src") if name.endswith(".c")],
-                depends=["src/" + name for name in os.listdir("src") if name.endswith(".h")],
-            ),
-        ],
-    )
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/frame.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/frame.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/frame.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/frame.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,106 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "frame.h"
-
-
-frame_s *frame_init(void) {
-	frame_s *frame;
-	A_CALLOC(frame, 1);
-	frame_realloc_data(frame, 512 * 1024);
-	return frame;
-}
-
-void frame_destroy(frame_s *frame) {
-	if (frame->data) {
-		free(frame->data);
-	}
-	free(frame);
-}
-
-void frame_realloc_data(frame_s *frame, size_t size) {
-	if (frame->allocated < size) {
-		A_REALLOC(frame->data, size);
-		frame->allocated = size;
-	}
-}
-
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size) {
-	frame_realloc_data(frame, size);
-	memcpy(frame->data, data, size);
-	frame->used = size;
-}
-
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size) {
-	size_t new_used = frame->used + size;
-	frame_realloc_data(frame, new_used);
-	memcpy(frame->data + frame->used, data, size);
-	frame->used = new_used;
-}
-
-void frame_copy(const frame_s *src, frame_s *dest) {
-	frame_set_data(dest, src->data, src->used);
-	FRAME_COPY_META(src, dest);
-}
-
-bool frame_compare(const frame_s *a, const frame_s *b) {
-	return (
-		a->allocated && b->allocated
-		&& FRAME_COMPARE_META_USED_NOTS(a, b)
-		&& !memcmp(a->data, b->data, b->used)
-	);
-}
-
-unsigned frame_get_padding(const frame_s *frame) {
-	unsigned bytes_per_pixel = 0;
-	switch (frame->format) {
-		case V4L2_PIX_FMT_YUYV:
-		case V4L2_PIX_FMT_UYVY:
-		case V4L2_PIX_FMT_RGB565: bytes_per_pixel = 2; break;
-		case V4L2_PIX_FMT_RGB24: bytes_per_pixel = 3; break;
-		// case V4L2_PIX_FMT_H264:
-		case V4L2_PIX_FMT_MJPEG:
-		case V4L2_PIX_FMT_JPEG: bytes_per_pixel = 0; break;
-		default: assert(0 && "Unknown pixelformat");
-	}
-	if (bytes_per_pixel > 0 && frame->stride > frame->width) {
-		return (frame->stride - frame->width * bytes_per_pixel);
-	}
-	return 0;
-}
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size) {
-	assert(size >= 8);
-	buf[0] = format & 0x7F;
-	buf[1] = (format >> 8) & 0x7F;
-	buf[2] = (format >> 16) & 0x7F;
-	buf[3] = (format >> 24) & 0x7F;
-	if (format & ((unsigned)1 << 31)) {
-		buf[4] = '-';
-		buf[5] = 'B';
-		buf[6] = 'E';
-		buf[7] = '\0';
-	} else {
-		buf[4] = '\0';
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/frame.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/frame.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/frame.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/frame.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,102 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stddef.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdlib.h>
-#include <string.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include "tools.h"
-
-
-typedef struct {
-	uint8_t	*data;
-	size_t	used;
-	size_t	allocated;
-
-	unsigned width;
-	unsigned height;
-	unsigned format;
-	unsigned stride;
-	// Stride is a bytesperline in V4L2
-	// https://www.kernel.org/doc/html/v4.14/media/uapi/v4l/pixfmt-v4l2.html
-	// https://medium.com/@oleg.shipitko/what-does-stride-mean-in-image-processing-bba158a72bcd
-
-	bool online;
-	bool key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-} frame_s;
-
-
-#define FRAME_COPY_META(_src, _dest) { \
-		_dest->width = _src->width; \
-		_dest->height = _src->height; \
-		_dest->format = _src->format; \
-		_dest->stride = _src->stride; \
-		_dest->online = _src->online; \
-		_dest->key = _src->key; \
-		_dest->grab_ts = _src->grab_ts; \
-		_dest->encode_begin_ts = _src->encode_begin_ts; \
-		_dest->encode_end_ts = _src->encode_end_ts; \
-	}
-
-static inline void frame_copy_meta(const frame_s *src, frame_s *dest) {
-	FRAME_COPY_META(src, dest);
-}
-
-#define FRAME_COMPARE_META_USED_NOTS(_a, _b) ( \
-		_a->used == _b->used \
-		&& _a->width == _b->width \
-		&& _a->height == _b->height \
-		&& _a->format == _b->format \
-		&& _a->stride == _b->stride \
-		&& _a->online == _b->online \
-		&& _a->key == _b->key \
-	)
-
-
-frame_s *frame_init(void);
-void frame_destroy(frame_s *frame);
-
-void frame_realloc_data(frame_s *frame, size_t size);
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size);
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size);
-
-void frame_copy(const frame_s *src, frame_s *dest);
-bool frame_compare(const frame_s *a, const frame_s *b);
-
-unsigned frame_get_padding(const frame_s *frame);
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size);
-
-static inline bool is_jpeg(unsigned format) {
-	return (format == V4L2_PIX_FMT_JPEG || format == V4L2_PIX_FMT_MJPEG);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/memsinksh.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/memsinksh.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/memsinksh.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/memsinksh.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,84 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-#include <stdbool.h>
-
-#include <sys/types.h>
-#include <sys/mman.h>
-
-
-#define MEMSINK_MAGIC	((uint64_t)0xCAFEBABECAFEBABE)
-#define MEMSINK_VERSION	((uint32_t)2)
-
-#ifndef CFG_MEMSINK_MAX_DATA
-#	define CFG_MEMSINK_MAX_DATA 33554432
-#endif
-#define MEMSINK_MAX_DATA ((size_t)(CFG_MEMSINK_MAX_DATA))
-
-
-typedef struct {
-	uint64_t	magic;
-	uint32_t	version;
-
-	uint64_t	id;
-
-	size_t		used;
-	unsigned	width;
-	unsigned	height;
-	unsigned	format;
-	unsigned	stride;
-	bool		online;
-	bool		key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-
-	long double	last_client_ts;
-
-	uint8_t		data[MEMSINK_MAX_DATA];
-} memsink_shared_s;
-
-
-INLINE memsink_shared_s *memsink_shared_map(int fd) {
-	memsink_shared_s *mem = mmap(
-		NULL,
-		sizeof(memsink_shared_s),
-		PROT_READ | PROT_WRITE,
-		MAP_SHARED,
-		fd,
-		0
-	);
-	if (mem == MAP_FAILED) {
-		return NULL;
-	}
-	assert(mem != NULL);
-	return mem;
-}
-
-INLINE int memsink_shared_unmap(memsink_shared_s *mem) {
-	assert(mem != NULL);
-	return munmap(mem, sizeof(memsink_shared_s));
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/tools.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/tools.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/tools.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/tools.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,166 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdint.h>
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <unistd.h>
-#include <locale.h>
-#include <errno.h>
-#include <math.h>
-#include <time.h>
-#include <assert.h>
-
-#include <sys/file.h>
-
-
-#define RN "\r\n"
-
-#define INLINE inline __attribute__((always_inline))
-#define UNUSED __attribute__((unused))
-
-#define A_CALLOC(_dest, _nmemb)		assert((_dest = calloc(_nmemb, sizeof(*(_dest)))))
-#define A_REALLOC(_dest, _nmemb)	assert((_dest = realloc(_dest, _nmemb * sizeof(*(_dest)))))
-#define MEMSET_ZERO(_obj)			memset(&(_obj), 0, sizeof(_obj))
-
-#define A_ASPRINTF(_dest, _fmt, ...) assert(asprintf(&(_dest), _fmt, ##__VA_ARGS__) >= 0)
-
-#define ARRAY_LEN(_array) (sizeof(_array) / sizeof(_array[0]))
-
-
-INLINE const char *bool_to_string(bool flag) {
-	return (flag ? "true" : "false");
-}
-
-INLINE size_t align_size(size_t size, size_t to) {
-	return ((size + (to - 1)) & ~(to - 1));
-}
-
-INLINE unsigned min_u(unsigned a, unsigned b) {
-	return (a < b ? a : b);
-}
-
-INLINE unsigned max_u(unsigned a, unsigned b) {
-	return (a > b ? a : b);
-}
-
-INLINE long long floor_ms(long double now) {
-	return (long long)now - (now < (long long)now); // floor()
-}
-
-INLINE uint32_t triple_u32(uint32_t x) {
-	// https://nullprogram.com/blog/2018/07/31/
-	x ^= x >> 17;
-	x *= UINT32_C(0xED5AD4BB);
-	x ^= x >> 11;
-	x *= UINT32_C(0xAC4C1B51);
-	x ^= x >> 15;
-	x *= UINT32_C(0x31848BAB);
-	x ^= x >> 14;
-	return x;
-}
-
-INLINE void get_now(clockid_t clk_id, time_t *sec, long *msec) {
-	struct timespec ts;
-	assert(!clock_gettime(clk_id, &ts));
-	*sec = ts.tv_sec;
-	*msec = round(ts.tv_nsec / 1.0e6);
-
-	if (*msec > 999) {
-		*sec += 1;
-		*msec = 0;
-	}
-}
-
-#if defined(CLOCK_MONOTONIC_RAW)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_RAW
-#elif defined(CLOCK_MONOTONIC_FAST)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_FAST
-#else
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC
-#endif
-
-INLINE long double get_now_monotonic(void) {
-	time_t sec;
-	long msec;
-	get_now(X_CLOCK_MONOTONIC, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE uint64_t get_now_monotonic_u64(void) {
-	struct timespec ts;
-	assert(!clock_gettime(X_CLOCK_MONOTONIC, &ts));
-	return (uint64_t)(ts.tv_nsec / 1000) + (uint64_t)ts.tv_sec * 1000000;
-}
-
-INLINE uint64_t get_now_id(void) {
-	uint64_t now = get_now_monotonic_u64();
-	return (uint64_t)triple_u32(now) | ((uint64_t)triple_u32(now + 12345) << 32);
-}
-
-#undef X_CLOCK_MONOTONIC
-
-INLINE long double get_now_real(void) {
-	time_t sec;
-	long msec;
-	get_now(CLOCK_REALTIME, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE unsigned get_cores_available(void) {
-	long cores_sysconf = sysconf(_SC_NPROCESSORS_ONLN);
-	cores_sysconf = (cores_sysconf < 0 ? 0 : cores_sysconf);
-	return max_u(min_u(cores_sysconf, 4), 1);
-}
-
-INLINE int flock_timedwait_monotonic(int fd, long double timeout) {
-	long double deadline_ts = get_now_monotonic() + timeout;
-	int retval = -1;
-
-	while (true) {
-		retval = flock(fd, LOCK_EX | LOCK_NB);
-		if (retval == 0 || errno != EWOULDBLOCK || get_now_monotonic() > deadline_ts) {
-			break;
-		}
-		if (usleep(1000) < 0) {
-			break;
-		}
-	}
-	return retval;
-}
-
-INLINE char *errno_to_string(int error, char *buf, size_t size) {
-	assert(buf);
-	assert(size > 0);
-	locale_t locale = newlocale(LC_MESSAGES_MASK, "C", NULL);
-	char *str = "!!! newlocale() error !!!";
-	strncpy(buf, (locale ? strerror_l(error, locale) : str), size - 1);
-	buf[size - 1] = '\0';
-	if (locale) {
-		freelocale(locale);
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/ustreamer.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/ustreamer.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/python/src/ustreamer.c	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/python/src/ustreamer.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,318 +0,0 @@
-#include <stdio.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdlib.h>
-#include <string.h>
-#include <fcntl.h>
-#include <errno.h>
-
-#include <sys/types.h>
-#include <sys/file.h>
-#include <sys/stat.h>
-#include <sys/mman.h>
-
-#include <Python.h>
-
-#include "tools.h"
-#include "frame.h"
-#include "memsinksh.h"
-
-
-typedef struct {
-	PyObject_HEAD
-
-	char	*obj;
-	double	lock_timeout;
-	double	wait_timeout;
-	double	drop_same_frames;
-
-	int					fd;
-	memsink_shared_s	*mem;
-
-	uint64_t	frame_id;
-	long double	frame_ts;
-	frame_s		*frame;
-} MemsinkObject;
-
-
-#define MEM(_next)		self->mem->_next
-#define FRAME(_next)	self->frame->_next
-
-
-static void MemsinkObject_destroy_internals(MemsinkObject *self) {
-	if (self->mem != NULL) {
-		memsink_shared_unmap(self->mem);
-		self->mem = NULL;
-	}
-	if (self->fd > 0) {
-		close(self->fd);
-		self->fd = -1;
-	}
-	if (self->frame) {
-		frame_destroy(self->frame);
-		self->frame = NULL;
-	}
-}
-
-static int MemsinkObject_init(MemsinkObject *self, PyObject *args, PyObject *kwargs) {
-	self->lock_timeout = 1;
-	self->wait_timeout = 1;
-
-	static char *kws[] = {"obj", "lock_timeout", "wait_timeout", "drop_same_frames", NULL};
-	if (!PyArg_ParseTupleAndKeywords(
-		args, kwargs, "s|ddd", kws,
-		&self->obj, &self->lock_timeout, &self->wait_timeout, &self->drop_same_frames)) {
-		return -1;
-	}
-
-#	define SET_DOUBLE(_field, _cond) { \
-			if (!(self->_field _cond)) { \
-				PyErr_SetString(PyExc_ValueError, #_field " must be " #_cond); \
-				return -1; \
-			} \
-		}
-
-	SET_DOUBLE(lock_timeout, > 0);
-	SET_DOUBLE(wait_timeout, > 0);
-	SET_DOUBLE(drop_same_frames, >= 0);
-
-#	undef SET_DOUBLE
-
-	self->frame = frame_init();
-
-	if ((self->fd = shm_open(self->obj, O_RDWR, 0)) == -1) {
-		PyErr_SetFromErrno(PyExc_OSError);
-		goto error;
-	}
-
-	if ((self->mem = memsink_shared_map(self->fd)) == NULL) {
-		PyErr_SetFromErrno(PyExc_OSError);
-		goto error;
-	}
-
-	return 0;
-
-	error:
-		MemsinkObject_destroy_internals(self);
-		return -1;
-}
-
-static PyObject *MemsinkObject_repr(MemsinkObject *self) {
-	char repr[1024];
-	snprintf(repr, 1023, "<Memsink(%s)>", self->obj);
-	return Py_BuildValue("s", repr);
-}
-
-static void MemsinkObject_dealloc(MemsinkObject *self) {
-	MemsinkObject_destroy_internals(self);
-	PyObject_Del(self);
-}
-
-static PyObject *MemsinkObject_close(MemsinkObject *self, PyObject *Py_UNUSED(ignored)) {
-	MemsinkObject_destroy_internals(self);
-	Py_RETURN_NONE;
-}
-
-static PyObject *MemsinkObject_enter(MemsinkObject *self, PyObject *Py_UNUSED(ignored)) {
-	Py_INCREF(self);
-	return (PyObject *)self;
-}
-
-static PyObject *MemsinkObject_exit(MemsinkObject *self, PyObject *Py_UNUSED(ignored)) {
-	return PyObject_CallMethod((PyObject *)self, "close", "");
-}
-
-static int wait_frame(MemsinkObject *self) {
-	long double deadline_ts = get_now_monotonic() + self->wait_timeout;
-
-#	define RETURN_OS_ERROR { \
-			Py_BLOCK_THREADS \
-			PyErr_SetFromErrno(PyExc_OSError); \
-			return -1; \
-		}
-
-	long double now;
-	do {
-		Py_BEGIN_ALLOW_THREADS
-
-		int retval = flock_timedwait_monotonic(self->fd, self->lock_timeout);
-		now = get_now_monotonic();
-
-		if (retval < 0 && errno != EWOULDBLOCK) {
-			RETURN_OS_ERROR;
-
-		} else if (retval == 0) {
-			if (MEM(magic) == MEMSINK_MAGIC && MEM(version) == MEMSINK_VERSION && MEM(id) != self->frame_id) {
-				if (self->drop_same_frames > 0) {
-					if (
-						FRAME_COMPARE_META_USED_NOTS(self->mem, self->frame)
-						&& (self->frame_ts + self->drop_same_frames > now)
-						&& !memcmp(FRAME(data), MEM(data), MEM(used))
-					) {
-						self->frame_id = MEM(id);
-						goto drop;
-					}
-				}
-
-				Py_BLOCK_THREADS
-				return 0;
-			}
-
-			if (flock(self->fd, LOCK_UN) < 0) {
-				RETURN_OS_ERROR;
-			}
-		}
-
-		drop:
-
-		if (usleep(1000) < 0) {
-			RETURN_OS_ERROR;
-		}
-
-		Py_END_ALLOW_THREADS
-
-		if (PyErr_CheckSignals() < 0) {
-			return -1;
-		}
-	} while (now < deadline_ts);
-
-#	undef RETURN_OS_ERROR
-
-	return -2;
-}
-
-static PyObject *MemsinkObject_wait_frame(MemsinkObject *self, PyObject *Py_UNUSED(ignored)) {
-	if (self->mem == NULL || self->fd <= 0) {
-		PyErr_SetString(PyExc_RuntimeError, "Closed");
-		return NULL;
-	}
-
-	switch (wait_frame(self)) {
-		case 0: break;
-		case -2: Py_RETURN_NONE;
-		default: return NULL;
-	}
-
-	frame_set_data(self->frame, MEM(data), MEM(used));
-	FRAME_COPY_META(self->mem, self->frame);
-	self->frame_id = MEM(id);
-	self->frame_ts = get_now_monotonic();
-	MEM(last_client_ts) = self->frame_ts;
-
-	if (flock(self->fd, LOCK_UN) < 0) {
-		return PyErr_SetFromErrno(PyExc_OSError);
-	}
-
-	PyObject *dict_frame = PyDict_New();
-	if (dict_frame  == NULL) {
-		return NULL;
-	}
-
-#	define SET_VALUE(_key, _maker) { \
-			PyObject *_tmp = _maker; \
-			if (_tmp == NULL) { \
-				return NULL; \
-			} \
-			if (PyDict_SetItemString(dict_frame, _key, _tmp) < 0) { \
-				Py_DECREF(_tmp); \
-				return NULL; \
-			} \
-			Py_DECREF(_tmp); \
-		}
-#	define SET_NUMBER(_key, _from, _to) SET_VALUE(#_key, Py##_to##_From##_from(FRAME(_key)))
-
-	SET_NUMBER(width, Long, Long);
-	SET_NUMBER(height, Long, Long);
-	SET_NUMBER(format, Long, Long);
-	SET_NUMBER(stride, Long, Long);
-	SET_NUMBER(online, Long, Bool);
-	SET_NUMBER(key, Long, Bool);
-	SET_NUMBER(grab_ts, Double, Float);
-	SET_NUMBER(encode_begin_ts, Double, Float);
-	SET_NUMBER(encode_end_ts, Double, Float);
-	SET_VALUE("data", PyBytes_FromStringAndSize((const char *)FRAME(data), FRAME(used)));
-
-#	undef SET_NUMBER
-#	undef SET_VALUE
-
-	return dict_frame;
-}
-
-static PyObject *MemsinkObject_is_opened(MemsinkObject *self, PyObject *Py_UNUSED(ignored)) {
-	return PyBool_FromLong(self->mem != NULL && self->fd > 0);
-}
-
-#define FIELD_GETTER(_field, _from, _to) \
-	static PyObject *MemsinkObject_getter_##_field(MemsinkObject *self, void *Py_UNUSED(closure)) { \
-		return Py##_to##_From##_from(self->_field); \
-	}
-
-FIELD_GETTER(obj, String, Unicode)
-FIELD_GETTER(lock_timeout, Double, Float)
-FIELD_GETTER(wait_timeout, Double, Float)
-FIELD_GETTER(drop_same_frames, Double, Float)
-
-#undef FIELD_GETTER
-
-static PyMethodDef MemsinkObject_methods[] = {
-#	define ADD_METHOD(_name, _method, _flags) \
-		{.ml_name = _name, .ml_meth = (PyCFunction)MemsinkObject_##_method, .ml_flags = (_flags)}
-	ADD_METHOD("close", close, METH_NOARGS),
-	ADD_METHOD("__enter__", enter, METH_NOARGS),
-	ADD_METHOD("__exit__", exit, METH_VARARGS),
-	ADD_METHOD("wait_frame", wait_frame, METH_NOARGS),
-	ADD_METHOD("is_opened", is_opened, METH_NOARGS),
-	{},
-#	undef ADD_METHOD
-};
-
-static PyGetSetDef MemsinkObject_getsets[] = {
-#	define ADD_GETTER(_field) {.name = #_field, .get = (getter)MemsinkObject_getter_##_field}
-	ADD_GETTER(obj),
-	ADD_GETTER(lock_timeout),
-	ADD_GETTER(wait_timeout),
-	ADD_GETTER(drop_same_frames),
-	{},
-#	undef ADD_GETTER
-};
-
-static PyTypeObject MemsinkType = {
-	PyVarObject_HEAD_INIT(NULL, 0)
-	.tp_name		= "ustreamer.Memsink",
-	.tp_basicsize	= sizeof(MemsinkObject),
-	.tp_flags		= Py_TPFLAGS_DEFAULT,
-	.tp_new			= PyType_GenericNew,
-	.tp_init		= (initproc)MemsinkObject_init,
-	.tp_dealloc		= (destructor)MemsinkObject_dealloc,
-	.tp_repr		= (reprfunc)MemsinkObject_repr,
-	.tp_methods		= MemsinkObject_methods,
-	.tp_getset		= MemsinkObject_getsets,
-};
-
-static PyModuleDef ustreamer_Module = {
-	PyModuleDef_HEAD_INIT,
-	.m_name = "ustreamer",
-	.m_size = -1,
-};
-
-PyMODINIT_FUNC PyInit_ustreamer(void) { // cppcheck-suppress unusedFunction
-	PyObject *module = PyModule_Create(&ustreamer_Module);
-	if (module == NULL) {
-		return NULL;
-	}
-
-	if (PyType_Ready(&MemsinkType) < 0) {
-		return NULL;
-	}
-
-	Py_INCREF(&MemsinkType);
-
-	if (PyModule_AddObject(module, "Memsink", (PyObject *)&MemsinkType) < 0) {
-		return NULL;
-	}
-
-	return module;
-}
-
-#undef FRAME
-#undef MEM
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/README.md /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/README.md
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/README.md	2023-12-15 01:51:35.110398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/README.md	1969-12-31 19:00:00.000000000 -0500
@@ -1,143 +0,0 @@
-# µStreamer
-[![CI](https://github.com/pikvm/ustreamer/workflows/CI/badge.svg)](https://github.com/pikvm/ustreamer/actions?query=workflow%3ACI)
-[![Discord](https://img.shields.io/discord/580094191938437144?logo=discord)](https://discord.gg/bpmXfz5)
-
-[[Русская версия]](README.ru.md)
-
-µStreamer is a lightweight and very quick server to stream [MJPG](https://en.wikipedia.org/wiki/Motion_JPEG) video from any V4L2 device to the net. All new browsers have native support of this video format, as well as most video players such as mplayer, VLC etc.
-µStreamer is a part of the [Pi-KVM](https://github.com/pikvm/pikvm) project designed to stream [VGA](https://www.amazon.com/dp/B0126O0RDC) and [HDMI](https://auvidea.com/b101-hdmi-to-csi-2-bridge-15-pin-fpc/) screencast hardware data with the highest resolution and FPS possible.
-
-µStreamer is very similar to [mjpg-streamer](https://github.com/jacksonliam/mjpg-streamer) with ```input_uvc.so``` and ```output_http.so``` plugins, however, there are some major differences. The key ones are:
-
-| **Feature** | **µStreamer** | **mjpg-streamer** |
-|----------|---------------|-------------------|
-| Multithreaded JPEG encoding | ✔ | ✘ |
-| [OpenMAX IL](https://www.khronos.org/openmaxil) hardware acceleration<br>on Raspberry Pi | ✔ | ✘ |
-| Behavior when the device<br>is disconnected while streaming | ✔ Shows a black screen<br>with ```NO SIGNAL``` on it<br>until reconnected | ✘ Stops the streaming <sup>1</sup> |
-| [DV-timings](https://linuxtv.org/downloads/v4l-dvb-apis-new/userspace-api/v4l/dv-timings.html) support -<br>the ability to change resolution<br>on the fly by source signal | ✔ | ☹ Partially yes <sup>1</sup> |
-| Option to skip frames when streaming<br>static images by HTTP to save the traffic | ✔ <sup>2</sup> | ✘ |
-| Streaming via UNIX domain socket | ✔ | ✘ |
-| Systemd socket activation | ✔ | ✘ |
-| Debug logs without recompiling,<br>performance statistics log,<br>access to HTTP streaming parameters | ✔ | ✘ |
-| Option to serve files<br>with a built-in HTTP server | ✔ | ☹ Regular files only |
-| Signaling about the stream state<br>on GPIO using [libgpiod](https://git.kernel.org/pub/scm/libs/libgpiod/libgpiod.git/about) | ✔ | ✘ |
-| Access to webcam controls (focus, servos)<br>and settings such as brightness via HTTP | ✘ | ✔ |
-| Compatibility with mjpg-streamer's API | ✔ | :) |
-
-Footnotes:
-  * ```1``` Long before µStreamer, I made a [patch](https://github.com/jacksonliam/mjpg-streamer/pull/164) to add DV-timings support to mjpg-streamer and to keep it from hanging up no device disconnection. Alas, the patch is far from perfect and I can't guarantee it will work every time - mjpg-streamer's source code is very complicated and its structure is hard to understand. With this in mind, along with needing multithreading and JPEG hardware acceleration in the future, I decided to make my own stream server from scratch instead of supporting legacy code.
-
-  * ```2``` This feature allows to cut down outgoing traffic several-fold when streaming HDMI, but it increases CPU usage a little bit. The idea is that HDMI is a fully digital interface and each captured frame can be identical to the previous one byte-wise. There's no need to stream the same image over the net several times a second. With the `--drop-same-frames=20` option enabled, µStreamer will drop all the matching frames (with a limit of 20 in a row). Each new frame is matched with the previous one first by length, then using ```memcmp()```.
-
------
-# TL;DR
-If you're going to live-stream from your backyard webcam and need to control it, use mjpg-streamer. If you need a high-quality image with high FPS - µStreamer for the win.
-
------
-# Building
-You'll need  ```make```, ```gcc```, ```libevent``` with ```pthreads``` support, ```libjpeg8```/```libjpeg-turbo``` and ```libbsd``` (only for Linux).
-
-* Arch: `sudo pacman -S libevent libjpeg-turbo libutil-linux libbsd`.
-* Raspbian: `sudo apt install libevent-dev libjpeg8-dev libbsd-dev`. Add `libraspberrypi-dev` for `WITH_OMX=1`, `libgpiod-dev` for `WITH_GPIO=1` and `libsystemd-dev` for `WITH_SYSTEMD=1`.
-* Debian/Ubuntu: `sudo apt install build-essential libevent-dev libjpeg-dev libbsd-dev`.
-
-On Raspberry Pi you can build the program with OpenMAX IL. To do this pass option ```WITH_OMX=1``` to ```make```. To enable GPIO support install [libgpiod](https://git.kernel.org/pub/scm/libs/libgpiod/libgpiod.git/about) and pass option ```WITH_GPIO=1```. If the compiler reports about a missing function ```pthread_get_name_np()``` (or similar), add option ```WITH_PTHREAD_NP=0``` (it's enabled by default). For the similar error with ```setproctitle()``` add option ```WITH_SETPROCTITLE=0```.
-
-```
-$ git clone --depth=1 https://github.com/pikvm/ustreamer
-$ cd ustreamer
-$ make
-$ ./ustreamer --help
-```
-
-AUR has a package for Arch Linux: https://aur.archlinux.org/packages/ustreamer. It should compile automatically with OpenMAX IL on Raspberry Pi, if the corresponding headers are present in ```/opt/vc/include```.
-FreeBSD port: https://www.freshports.org/multimedia/ustreamer.
-
------
-# Usage
-Without arguments, ```ustreamer``` will try to open ```/dev/video0``` with 640x480 resolution and start streaming on  ```http://127.0.0.1:8080```. You can override this behavior using parameters ```--device```, ```--host``` and ```--port```. For example, to stream to the world, run:
-```
-# ./ustreamer --device=/dev/video1 --host=0.0.0.0 --port=80
-```
-
-:exclamation: Please note that since µStreamer v2.0 cross-domain requests were disabled by default for [security reasons](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS). To enable the old behavior, use the option `--allow-origin=\*`.
-
-The recommended way of running µStreamer with [Auvidea B101](https://www.raspberrypi.org/forums/viewtopic.php?f=38&t=120702&start=400#p1339178) on Raspberry Pi:
-```bash
-$ export LD_LIBRARY_PATH=/opt/vc/lib/ # on bullseye
-$ ./ustreamer \
-    --format=uyvy \ # Device input format
-    --encoder=omx \ # Hardware encoding with OpenMAX
-    --workers=3 \ # Maximum workers for OpenMAX
-    --persistent \ # Don't re-initialize device on timeout (for example when HDMI cable was disconnected)
-    --dv-timings \ # Use DV-timings
-    --drop-same-frames=30 # Save the traffic
-```
-
-:exclamation: Please note that to use `--drop-same-frames` for different browsers you need to use some specific URL `/stream` parameters (see URL `/` for details).
-
-You can always view the full list of options with ```ustreamer --help```.
-
------
-# Raspberry Pi Camera Example
-Example usage for the Raspberry Pi v1 camera:
-```bash
-$ sudo modprobe bcm2835-v4l2
-$ ./ustreamer --host :: -m jpeg --device-timeout=5 --buffers=3 -r 2592x1944
-```
-
-:exclamation: Please note that newer camera models have a different maximum resolution. You can see the supported resolutions at the [PiCamera documentation](https://picamera.readthedocs.io/en/release-1.13/fov.html#sensor-modes).
-
-:exclamation: If you get a poor framerate, it could be that the camera is switched to photo mode, which produces a low framerate (but a higher quality picture). This is because `bcm2835-v4l2` switches to photo mode at resolutions higher than `1280x720`. To work around this, pass the `max_video_width` and `max_video_height` module parameters like so:
-
-```bash
-$ modprobe bcm2835-v4l2 max_video_width=2592 max_video_height=1944
-```
-
------
-# Integrations
-
-## Nginx
-When uStreamer is behind an Nginx proxy, it's buffering behavior introduces latency into the video stream. It's possible to disable Nginx's buffering to eliminate the additional latency:
-
-```nginx
-location /stream {
-    postpone_output 0;
-    proxy_buffering off;
-    proxy_ignore_headers X-Accel-Buffering;
-    proxy_pass http://ustreamer;
-}
-```
-
------
-# Tips & tricks for v4l2
-v4l2 utilities provide the tools to manage USB webcam setting and information. Scripts can be use to make adjustments and run manually or with cron. Running in cron for example to change the exposure settings at certain times of day. The package is available in all Linux distributions and is usually called `v4l-utils`.
-
-* List of available video devices: `v4l2-ctl --list-devices`.
-* List available control settings: `v4l2-ctl -d /dev/video0 --list-ctrls`.
-* List available video formats: `v4l2-ctl -d /dev/video0 --list-formats-ext`.
-* Read the current setting: `v4l2-ctl -d /dev/video0 --get-ctrl=exposure_auto`.
-* Change the setting value: `v4l2-ctl -d /dev/video0 --set-ctrl=exposure_auto=1`.
-
-[Here](https://www.kurokesu.com/main/2016/01/16/manual-usb-camera-settings-in-linux/) you can find more examples. Documentation is available in [`man v4l2-ctl`](https://www.mankier.com/1/v4l2-ctl).
-
------
-# See also
-* [Running uStreamer via systemd service](https://github.com/pikvm/ustreamer/issues/16).
-
------
-# License
-Copyright (C) 2018-2021 by Maxim Devaev mdevaev@gmail.com
-
-This program is free software: you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation, either version 3 of the License, or
-(at your option) any later version.
-
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License
-along with this program.  If not, see https://www.gnu.org/licenses/.
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/README.ru.md /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/README.ru.md
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/README.ru.md	2023-12-15 01:51:35.114398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/README.ru.md	1969-12-31 19:00:00.000000000 -0500
@@ -1,142 +0,0 @@
-# µStreamer
-[![CI](https://github.com/pikvm/ustreamer/workflows/CI/badge.svg)](https://github.com/pikvm/ustreamer/actions?query=workflow%3ACI)
-[![Discord](https://img.shields.io/discord/580094191938437144?logo=discord)](https://discord.gg/bpmXfz5)
-
-[[English version]](README.md)
-
-
-µStreamer - это маленький и очень быстрый сервер, который позволяет организовать трансляцию видео в формате [MJPG](https://en.wikipedia.org/wiki/Motion_JPEG) с любого устройства V4L2 в сеть. Этот формат нативно поддерживается всеми современными браузерами и большинством приложений для просмотра видео (mplayer, VLC и так далее). µStreamer был разработан в рамках проекта [Pi-KVM](https://github.com/pikvm/pikvm) специально для стриминга с устройств видеозахвата [VGA](https://www.amazon.com/dp/B0126O0RDC) и [HDMI](https://auvidea.com/b101-hdmi-to-csi-2-bridge-15-pin-fpc/) с максимально возможным разрешением и FPS, которые только позволяет железо.
-
-Функционально µStreamer очень похож на [mjpg-streamer](https://github.com/jacksonliam/mjpg-streamer) при использовании им плагинов ```input_uvc.so``` и ```output_http.so```, однако имеет ряд серьезных отличий. Основные приведены в этой таблице:
-
-| **Фича** | **µStreamer** | **mjpg-streamer** |
-|----------|---------------|-------------------|
-| Многопоточное кодирование JPEG | ✔ | ✘ |
-| Аппаратное кодирование с помощью [OpenMAX IL](https://www.khronos.org/openmaxil) на Raspberry Pi | ✔ | ✘ |
-| Поведение при физическом отключении<br>устройства от сервера во время работы | ✔ Транслирует черный экран<br>с надписью ```NO SIGNAL```,<br>пока устройство не будет подключено снова | ✘ Прерывает трансляцию <sup>1</sup> |
-| Поддержка [DV-таймингов](https://linuxtv.org/downloads/v4l-dvb-apis-new/userspace-api/v4l/dv-timings.html) - возможности<br>изменения  параметров разрешения<br>трансляции на лету по сигналу<br>источника (устройства видеозахвата) | ✔ | ☹ Условно есть <sup>1</sup> |
-| Возможность пропуска фреймов при передаче<br>статического изображения по HTTP<br>для экономии трафика | ✔ <sup>2</sup> | ✘ |
-| Стрим через UNIX domain socket | ✔ | ✘ |
-| Systemd socket activation | ✔ | ✘ |
-| Дебаг-логи без перекомпиляции,<br>логгирование статистики производительности,<br>возможность получения параметров<br>трансляции по HTTP | ✔ | ✘ |
-| Возможность сервить файлы встроенным<br>HTTP-сервером  | ✔ | ☹ Нет каталогов |
-| Вывод сигналов о состоянии стрима на GPIO<br>с помощью [libgpiod](https://git.kernel.org/pub/scm/libs/libgpiod/libgpiod.git/about) | ✔ | ✘ |
-| Поддержка контролов веб-камер (фокус,<br> движение сервами) и всяких настроек,<br> типа яркости, через HTTP | ✘ | ✔ |
-| Совместимость с API mjpg-streamer'а | ✔ | :) |
-
-Сносочки:
-  * ```1``` Еще до написания µStreamer, я запилил [патч](https://github.com/jacksonliam/mjpg-streamer/pull/164), добавляющий в mjpg-streamer поддержку DV-таймингов и предотвращающий его зависание при отключении устройства. Однако патч, увы, далек от совершенства и я не гарантирую его стопроцентную работоспособность, поскольку код mjpg-streamer чрезвычайно запутан и очень плохо структурирован. Учитывая это, а также то, что в дальнейшем мне потребовались многопоточность и аппаратное кодирование JPEG, было принято решение написать свой стрим-сервер с нуля, чтобы не тратить силы на поддержку лишнего легаси.
-
-  * ```2``` Это фича позволяет в несколько раз снизить объем исходящего трафика при трансляции HDMI, однако немного увеличивает загрузку процессора. Суть в том, что HDMI - полностью цифровой интерфейс, и новый захваченный фрейм может быть идентичен предыдущему в точности до байта. В этом случае нет нужды передавать одну и ту же картинку по сети несколько раз в секунду. При использовании опции `--drop-same-frames=20`, µStreamer будет дропать все одинаковые фреймы, но не более 20 подряд. Новый фрейм сравнивается с предыдущим сначала по длине, а затем помощью ```memcmp()```.
-
------
-# TL;DR
-Если вам нужно вещать стрим с уличной камеры и управлять ее параметрами - возьмите mjpg-streamer. Если же вам нужно очень качественное изображение с высоким FPS - µStreamer ваш бро.
-
------
-# Сборка
-Для сборки вам понадобятся ```make```, ```gcc```, ```libevent``` с поддержкой ```pthreads```, ```libjpeg8```/```libjpeg-turbo``` и ```libbsd``` (только для Linux).
-
-* Arch: `sudo pacman -S libevent libjpeg-turbo libutil-linux libbsd`.
-* Raspbian: `sudo apt install libevent-dev libjpeg8-dev libbsd-dev`.  Добавьте `libraspberrypi-dev` для сборки с `WITH_OMX=1`, `libgpiod` для `WITH_GPIO=1` и `libsystemd-dev` для `WITH_SYSTEMD=1`.
-* Debian/Ubuntu: `sudo apt install build-essential libevent-dev libjpeg-dev libbsd-dev`.
-
-На Raspberry Pi программу можно собрать с поддержкой OpenMAX IL. Для этого передайте ```make``` параметр ```WITH_OMX=1```. Для включения сборки с поддержкой GPIO установите [libgpiod](https://git.kernel.org/pub/scm/libs/libgpiod/libgpiod.git/about) и добавьте параметр ```WITH_GPIO=1```. Если при сборке компилятор ругается на отсутствие функции ```pthread_get_name_np()``` или другой подобной, добавьте параметр ```WITH_PTHREAD_NP=0``` (по умолчанию он включен). При аналогичной ошибке с функцией ```setproctitle()``` добавьте параметр ```WITH_SETPROCTITLE=0```.
-
-```
-$ git clone --depth=1 https://github.com/pikvm/ustreamer
-$ cd ustreamer
-$ make
-$ ./ustreamer --help
-```
-
-Для Arch Linux в AUR есть готовый пакет: https://aur.archlinux.org/packages/ustreamer. На Raspberry Pi програма автоматически собирается с поддержкой OpenMAX IL, если обнаружит нужные хедеры в ```/opt/vc/include```.  
-Порт для FreeBSD: https://www.freshports.org/multimedia/ustreamer.
-
------
-# Использование
-Будучи запущенным без аргументов, ```ustreamer``` попробует открыть устройство ```/dev/video0``` с разрешением 640x480 и начать трансляцию на ```http://127.0.0.1:8080```. Это поведение может быть изменено с помощью опций ```--device```, ```--host``` и ```--port```. Пример вещания на всю сеть по 80-м порту:
-```
-# ./ustreamer --device=/dev/video1 --host=0.0.0.0 --port=80
-```
-
-:exclamation: Обратите внимание, что начиная с версии µStreamer v2.0 кросс-доменные запросы были выключены по умолчанию [по соображениям безопасности](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS). Чтобы включить старое поведение, используйте опцию `--allow-origin=\*`.
-
-Рекомендуемый способ запуска µStreamer для работы с [Auvidea B101](https://www.raspberrypi.org/forums/viewtopic.php?f=38&t=120702&start=400#p1339178) на Raspberry Pi:
-```bash
-$ ./ustreamer \
-    --format=uyvy \ # Настройка входного формата устройства
-    --encoder=omx \ # Использование аппаратного кодирования с помощью OpenMAX
-    --workers=3 \ # Максимум воркеров для OpenMAX
-    --persistent \ # Не переинициализировать устройство при таймауте (например, когда был отключен HDMI-кабель)
-    --dv-timings \ # Включение DV-таймингов
-    --drop-same-frames=30 # Экономим трафик
-```
-
-:exclamation: Обратите внимание, что для использования `--drop-same-frames` для разных браузеров нужно использовать ряд специальных параметров в `/stream` (за деталями обратитесь к урлу `/`).
-
-За полным списком опций обращайтесь ко встроенной справке: ```ustreamer --help```.
-
------
-# Камера Raspberry Pi
-Пример использования камеры Raspberry Pi v1:
-```bash
-$ sudo modprobe bcm2835-v4l2
-$ ./ustreamer --host :: -m jpeg --device-timeout=5 --buffers=3 -r 2592x1944
-```
-
-:exclamation: Обратите внимание что боле новые модели камеры имеют другое максимальное разрешение. Список поддерживаемых разрешений можно найти в [документации PiCamera](https://picamera.readthedocs.io/en/release-1.13/fov.html#sensor-modes).
-
-:exclamation: Если камера выдает низкий фреймрейт, возможно что она работает в фото-режиме, где производит более низкий фпс, но более качественную кратинку. Это происходит потому что `bcm2835-v4l2` переключает камеру в фото-режим на разрешениях выше `1280x720`. Чтобы обойти это, передайте параметры `max_video_width` и `max_video_height` при загрузке модуля, например:
-
-```bash
-$ modprobe bcm2835-v4l2 max_video_width=2592 max_video_height=1944
-```
-
------
-# Интеграция
-
-## Nginx
-Если uStreamer находится на Nginx, то последний будет буферизировать поток и создавать дополнительную задержку в стриме. Чтобы задержки не было, буферизацию можно отключить:
-
-```nginx
-location /stream {
-    postpone_output 0;
-    proxy_buffering off;
-    proxy_ignore_headers X-Accel-Buffering;
-    proxy_pass http://ustreamer;
-}
-```
-
------
-# Утилиты V4L2
-V4L2 предоставляет ряд официальных утилит для управления USB-вебкамерами и получения информации об устройствах. С их помощью можно писать всякие настроечные скрипты и запускать их по крону, если, например, вам требуется изменять настройки экспозиции в зависимости от времени суток. Пакет с этими утилитами доступен на всех дистрибутивах Linux и обычно называется `v4l-utils`.
-
-* Вывести список видеоустройств: `v4l2-ctl --list-devices`.
-* Вывести список доступных контролов устройства: `v4l2-ctl -d /dev/video0 --list-ctrls`.
-* Вывести список доступных форматов видео: `v4l2-ctl -d /dev/video0 --list-formats-ext`.
-* Показать текущее значение контрола: `v4l2-ctl -d /dev/video0 --get-ctrl=exposure_auto`.
-* Изменить значение контрола: `v4l2-ctl -d /dev/video0 --set-ctrl=exposure_auto=1`.
-
-Больше примеров вы можете найти [здесь](https://www.kurokesu.com/main/2016/01/16/manual-usb-camera-settings-in-linux/), а документацию в [`man v4l2-ctl`](https://www.mankier.com/1/v4l2-ctl).
-
------
-# Смотрите также
-* [Запуск с помощью systemd-сервиса](https://github.com/pikvm/ustreamer/issues/16).
-
------
-# Лицензия
-Copyright (C) 2018-2021 by Maxim Devaev mdevaev@gmail.com
-
-This program is free software: you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation, either version 3 of the License, or
-(at your option) any later version.
-
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License
-along with this program.  If not, see https://www.gnu.org/licenses/.
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/file.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/file.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/file.d	2023-12-15 01:51:49.942398166 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/file.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,104 +0,0 @@
-build/dump/file.o: dump/file.c /usr/include/stdc-predef.h dump/file.h \
- /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h dump/../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/fcntl.h /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- dump/../libs/logging.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h dump/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h dump/../libs/frame.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/linux/posix_types.h /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- dump/../libs/base64.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/file.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/file.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/main.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/main.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/main.d	2023-12-15 01:51:51.726398167 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/main.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,148 +0,0 @@
-build/dump/main.o: dump/main.c /usr/include/stdc-predef.h \
- /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/signal.h \
- /usr/include/aarch64-linux-gnu/bits/signum.h \
- /usr/include/aarch64-linux-gnu/bits/signum-generic.h \
- /usr/include/aarch64-linux-gnu/bits/types/sig_atomic_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/siginfo_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-arch.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts-arch.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/sigevent-consts.h \
- /usr/include/aarch64-linux-gnu/bits/sigaction.h \
- /usr/include/aarch64-linux-gnu/bits/sigcontext.h \
- /usr/include/aarch64-linux-gnu/asm/sigcontext.h \
- /usr/include/linux/types.h /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/sve_context.h \
- /usr/include/aarch64-linux-gnu/bits/types/stack_t.h \
- /usr/include/aarch64-linux-gnu/sys/ucontext.h \
- /usr/include/aarch64-linux-gnu/sys/procfs.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/sys/user.h \
- /usr/include/aarch64-linux-gnu/bits/sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/ss_flags.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/sigthread.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/limits.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/syslimits.h \
- /usr/include/limits.h /usr/include/aarch64-linux-gnu/bits/posix1_lim.h \
- /usr/include/aarch64-linux-gnu/bits/local_lim.h \
- /usr/include/linux/limits.h \
- /usr/include/aarch64-linux-gnu/bits/posix2_lim.h \
- /usr/include/aarch64-linux-gnu/bits/xopen_lim.h \
- /usr/include/aarch64-linux-gnu/bits/uio_lim.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/float.h /usr/include/getopt.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_ext.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h dump/../libs/config.h dump/../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- dump/../libs/logging.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h dump/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h dump/../libs/frame.h \
- /usr/include/linux/videodev2.h /usr/include/linux/ioctl.h \
- /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- dump/../libs/memsink.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- dump/../libs/memsinksh.h dump/../libs/options.h /usr/include/ctype.h \
- dump/file.h dump/../libs/base64.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/dump/main.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/dump/main.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/base64.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/base64.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/base64.d	2023-12-15 01:51:36.186398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/base64.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,83 +0,0 @@
-build/libs/base64.o: libs/base64.c /usr/include/stdc-predef.h \
- libs/base64.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/string.h \
- /usr/include/strings.h libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/fcntl.h /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/base64.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/base64.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/frame.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/frame.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/frame.d	2023-12-15 01:51:36.422398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/frame.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,94 +0,0 @@
-build/libs/frame.o: libs/frame.c /usr/include/stdc-predef.h libs/frame.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/assert.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/frame.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/frame.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/logging.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/logging.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/logging.d	2023-12-15 01:51:35.978398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/logging.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,94 +0,0 @@
-build/libs/logging.o: libs/logging.c /usr/include/stdc-predef.h \
- libs/logging.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- libs/threading.h /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/logging.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/logging.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/memsink.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/memsink.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/memsink.d	2023-12-15 01:51:39.334398161 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/memsink.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,112 +0,0 @@
-build/libs/memsink.o: libs/memsink.c /usr/include/stdc-predef.h \
- libs/memsink.h /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h \
- /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/string.h /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/stat.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/errno.h /usr/include/aarch64-linux-gnu/bits/errno.h \
- /usr/include/linux/errno.h /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h libs/tools.h \
- /usr/include/stdio.h /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- libs/logging.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h libs/frame.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/linux/posix_types.h /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- libs/memsinksh.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/memsink.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/memsink.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/options.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/options.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/options.d	2023-12-15 01:51:36.326398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/options.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,34 +0,0 @@
-build/libs/options.o: libs/options.c /usr/include/stdc-predef.h \
- libs/options.h /usr/include/string.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/ctype.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/getopt.h /usr/include/aarch64-linux-gnu/bits/getopt_core.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_ext.h /usr/include/assert.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/options.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/options.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/unjpeg.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/unjpeg.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/unjpeg.d	2023-12-15 01:51:37.026398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/unjpeg.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,106 +0,0 @@
-build/libs/unjpeg.o: libs/unjpeg.c /usr/include/stdc-predef.h \
- libs/unjpeg.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/setjmp.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/jpeglib.h /usr/include/aarch64-linux-gnu/jconfig.h \
- /usr/include/jmorecfg.h /usr/include/linux/videodev2.h \
- /usr/include/aarch64-linux-gnu/sys/time.h /usr/include/linux/ioctl.h \
- /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- libs/logging.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h libs/tools.h \
- /usr/include/locale.h /usr/include/aarch64-linux-gnu/bits/locale.h \
- /usr/include/math.h /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- libs/threading.h /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h libs/frame.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/libs/unjpeg.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/libs/unjpeg.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/blank.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/blank.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/blank.d	2023-12-15 01:51:37.714398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/blank.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,108 +0,0 @@
-build/ustreamer/blank.o: ustreamer/blank.c /usr/include/stdc-predef.h \
- ustreamer/blank.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/fcntl.h /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/logging.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h ustreamer/../libs/frame.h \
- ustreamer/../libs/unjpeg.h /usr/include/setjmp.h /usr/include/jpeglib.h \
- /usr/include/aarch64-linux-gnu/jconfig.h /usr/include/jmorecfg.h \
- ustreamer/data/blank_jpeg.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/blank.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/blank.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.d	2023-12-15 01:51:36.734398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,32 +0,0 @@
-build/ustreamer/data/blank_jpeg.o: ustreamer/data/blank_jpeg.c \
- /usr/include/stdc-predef.h ustreamer/data/blank_jpeg.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/blank_jpeg.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.d	2023-12-15 01:51:36.910398160 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,29 +0,0 @@
-build/ustreamer/data/index_html.o: ustreamer/data/index_html.c \
- /usr/include/stdc-predef.h ustreamer/data/index_html.h \
- /usr/include/aarch64-linux-gnu/sys/types.h /usr/include/features.h \
- /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- ustreamer/data/../../libs/config.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/data/index_html.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/device.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/device.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/device.d	2023-12-15 01:51:54.662398168 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/device.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,115 +0,0 @@
-build/ustreamer/device.o: ustreamer/device.c /usr/include/stdc-predef.h \
- ustreamer/device.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- /usr/include/errno.h /usr/include/aarch64-linux-gnu/bits/errno.h \
- /usr/include/linux/errno.h /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- /usr/include/aarch64-linux-gnu/sys/time.h /usr/include/pthread.h \
- /usr/include/sched.h /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- /usr/include/linux/videodev2.h /usr/include/linux/ioctl.h \
- /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h ustreamer/../libs/logging.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h ustreamer/../libs/frame.h \
- ustreamer/xioctl.h /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/device.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/device.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.d	2023-12-15 01:51:39.582398161 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,119 +0,0 @@
-build/ustreamer/encoder.o: ustreamer/encoder.c /usr/include/stdc-predef.h \
- ustreamer/encoder.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/include/strings.h /usr/include/assert.h /usr/include/pthread.h \
- /usr/include/sched.h /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/string.h \
- /usr/include/unistd.h /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h \
- ustreamer/../libs/logging.h ustreamer/../libs/frame.h ustreamer/device.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h ustreamer/xioctl.h \
- /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h ustreamer/workers.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- ustreamer/encoders/cpu/encoder.h /usr/include/jpeglib.h \
- /usr/include/aarch64-linux-gnu/jconfig.h /usr/include/jmorecfg.h \
- ustreamer/encoders/hw/encoder.h ustreamer/encoders/hw/huffman.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoder.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.d	2023-12-15 01:51:39.814398161 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,99 +0,0 @@
-build/ustreamer/encoders/cpu/encoder.o: ustreamer/encoders/cpu/encoder.c \
- /usr/include/stdc-predef.h ustreamer/encoders/cpu/encoder.h \
- /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/assert.h \
- /usr/include/jpeglib.h /usr/include/aarch64-linux-gnu/jconfig.h \
- /usr/include/jmorecfg.h /usr/include/linux/videodev2.h \
- /usr/include/aarch64-linux-gnu/sys/time.h /usr/include/linux/ioctl.h \
- /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/encoders/cpu/../../../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/encoders/cpu/../../../libs/frame.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/cpu/encoder.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.d	2023-12-15 01:51:40.086398161 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,97 +0,0 @@
-build/ustreamer/encoders/hw/encoder.o: ustreamer/encoders/hw/encoder.c \
- /usr/include/stdc-predef.h ustreamer/encoders/hw/encoder.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/string.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/assert.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/encoders/hw/../../../libs/frame.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- ustreamer/encoders/hw/../../../libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/encoders/hw/huffman.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/encoders/hw/encoder.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.d	2023-12-15 01:51:40.470398162 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,116 +0,0 @@
-build/ustreamer/http/bev.o: ustreamer/http/bev.c \
- /usr/include/stdc-predef.h ustreamer/http/bev.h /usr/include/string.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/event2/util.h /usr/include/event2/visibility.h \
- /usr/include/event2/event-config.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h /usr/include/netdb.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/aarch64-linux-gnu/bits/in.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/event2/bufferevent.h ustreamer/http/../../libs/tools.h \
- /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/assert.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/http/../../libs/logging.h /usr/include/pthread.h \
- /usr/include/sched.h /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- ustreamer/http/../../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/bev.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.d	2023-12-15 01:51:40.526398162 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,104 +0,0 @@
-build/ustreamer/http/mime.o: ustreamer/http/mime.c \
- /usr/include/stdc-predef.h ustreamer/http/mime.h /usr/include/string.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/event2/util.h \
- /usr/include/event2/visibility.h /usr/include/event2/event-config.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h /usr/include/netdb.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/aarch64-linux-gnu/bits/in.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- ustreamer/http/../../libs/tools.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/assert.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/mime.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.d	2023-12-15 01:51:40.634398162 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,83 +0,0 @@
-build/ustreamer/http/path.o: ustreamer/http/path.c \
- /usr/include/stdc-predef.h ustreamer/http/path.h /usr/include/string.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h ustreamer/http/../../libs/tools.h \
- /usr/include/stdio.h /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/endian.h /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/fcntl.h /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/path.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.d	2023-12-15 01:51:49.842398166 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,178 +0,0 @@
-build/ustreamer/http/server.o: ustreamer/http/server.c \
- /usr/include/stdc-predef.h ustreamer/http/server.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/string.h /usr/include/strings.h /usr/include/inttypes.h \
- /usr/include/unistd.h /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/time.h /usr/include/netinet/tcp.h \
- /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/bits/in.h \
- /usr/include/netinet/ip.h /usr/include/event2/util.h \
- /usr/include/event2/visibility.h /usr/include/event2/event-config.h \
- /usr/include/netdb.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/event2/event.h /usr/include/event2/thread.h \
- /usr/include/event2/http.h /usr/include/event2/buffer.h \
- /usr/include/aarch64-linux-gnu/sys/uio.h \
- /usr/include/aarch64-linux-gnu/bits/uio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/uio-ext.h \
- /usr/include/event2/bufferevent.h /usr/include/event2/keyvalq_struct.h \
- ustreamer/http/../../libs/tools.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h \
- ustreamer/http/../../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h /usr/include/pthread.h \
- /usr/include/sched.h /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- ustreamer/http/../../libs/logging.h ustreamer/http/../../libs/process.h \
- /usr/include/signal.h /usr/include/aarch64-linux-gnu/bits/signum.h \
- /usr/include/aarch64-linux-gnu/bits/signum-generic.h \
- /usr/include/aarch64-linux-gnu/bits/types/sig_atomic_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/siginfo_t.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-arch.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts-arch.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/sigevent-consts.h \
- /usr/include/aarch64-linux-gnu/bits/sigaction.h \
- /usr/include/aarch64-linux-gnu/bits/sigcontext.h \
- /usr/include/aarch64-linux-gnu/asm/sigcontext.h \
- /usr/include/linux/types.h /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/sve_context.h \
- /usr/include/aarch64-linux-gnu/bits/types/stack_t.h \
- /usr/include/aarch64-linux-gnu/sys/ucontext.h \
- /usr/include/aarch64-linux-gnu/sys/procfs.h \
- /usr/include/aarch64-linux-gnu/sys/user.h \
- /usr/include/aarch64-linux-gnu/bits/sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/ss_flags.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/sigthread.h \
- /usr/include/bsd/unistd.h /usr/include/bsd/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/sys/prctl.h /usr/include/linux/prctl.h \
- ustreamer/http/../../libs/frame.h /usr/include/linux/videodev2.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/http/../../libs/base64.h ustreamer/http/../../libs/list.h \
- ustreamer/http/../data/index_html.h \
- ustreamer/http/../data/../../libs/config.h ustreamer/http/../encoder.h \
- ustreamer/http/../device.h /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- ustreamer/http/../xioctl.h /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h \
- ustreamer/http/../workers.h ustreamer/http/../encoders/cpu/encoder.h \
- /usr/include/jpeglib.h /usr/include/aarch64-linux-gnu/jconfig.h \
- /usr/include/jmorecfg.h ustreamer/http/../encoders/hw/encoder.h \
- ustreamer/http/../encoders/hw/huffman.h ustreamer/http/../stream.h \
- ustreamer/http/../../libs/memsink.h \
- ustreamer/http/../../libs/memsinksh.h ustreamer/http/../blank.h \
- ustreamer/http/../../libs/unjpeg.h /usr/include/setjmp.h \
- ustreamer/http/../data/blank_jpeg.h ustreamer/http/bev.h \
- ustreamer/http/unix.h /usr/include/aarch64-linux-gnu/sys/un.h \
- ustreamer/http/uri.h ustreamer/http/mime.h ustreamer/http/static.h \
- ustreamer/http/path.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/server.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.d	2023-12-15 01:51:42.002398162 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,99 +0,0 @@
-build/ustreamer/http/static.o: ustreamer/http/static.c \
- /usr/include/stdc-predef.h ustreamer/http/static.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- ustreamer/http/../../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/file.h \
- /usr/include/fcntl.h /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h ustreamer/http/../../libs/logging.h \
- /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- ustreamer/http/../../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h ustreamer/http/path.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/static.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.d	2023-12-15 01:51:42.030398162 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,120 +0,0 @@
-build/ustreamer/http/unix.o: ustreamer/http/unix.c \
- /usr/include/stdc-predef.h ustreamer/http/unix.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/string.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/aarch64-linux-gnu/sys/un.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h /usr/include/event2/http.h \
- /usr/include/event2/util.h /usr/include/event2/visibility.h \
- /usr/include/event2/event-config.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h /usr/include/netdb.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/bits/in.h \
- /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- ustreamer/http/../../libs/tools.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/linux/falloc.h ustreamer/http/../../libs/logging.h \
- /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- ustreamer/http/../../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/unix.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.d	2023-12-15 01:51:42.310398163 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,67 +0,0 @@
-build/ustreamer/http/uri.o: ustreamer/http/uri.c \
- /usr/include/stdc-predef.h ustreamer/http/uri.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/include/event2/util.h /usr/include/event2/visibility.h \
- /usr/include/event2/event-config.h \
- /usr/include/aarch64-linux-gnu/sys/time.h /usr/include/features.h \
- /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h /usr/include/netdb.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/aarch64-linux-gnu/bits/in.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/event2/http.h /usr/include/event2/keyvalq_struct.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/http/uri.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/main.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/main.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/main.d	2023-12-15 01:51:44.518398164 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/main.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,187 +0,0 @@
-build/ustreamer/main.o: ustreamer/main.c /usr/include/stdc-predef.h \
- /usr/include/assert.h /usr/include/features.h \
- /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/limits.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/syslimits.h \
- /usr/include/limits.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/aarch64-linux-gnu/bits/posix1_lim.h \
- /usr/include/aarch64-linux-gnu/bits/local_lim.h \
- /usr/include/linux/limits.h \
- /usr/include/aarch64-linux-gnu/bits/posix2_lim.h \
- /usr/include/aarch64-linux-gnu/bits/xopen_lim.h \
- /usr/include/aarch64-linux-gnu/bits/uio_lim.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/signal.h \
- /usr/include/aarch64-linux-gnu/bits/signum.h \
- /usr/include/aarch64-linux-gnu/bits/signum-generic.h \
- /usr/include/aarch64-linux-gnu/bits/types/sig_atomic_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/types/siginfo_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-arch.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts-arch.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/sigevent-consts.h \
- /usr/include/aarch64-linux-gnu/bits/sigaction.h \
- /usr/include/aarch64-linux-gnu/bits/sigcontext.h \
- /usr/include/aarch64-linux-gnu/asm/sigcontext.h \
- /usr/include/linux/types.h /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/sve_context.h \
- /usr/include/aarch64-linux-gnu/bits/types/stack_t.h \
- /usr/include/aarch64-linux-gnu/sys/ucontext.h \
- /usr/include/aarch64-linux-gnu/sys/procfs.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/aarch64-linux-gnu/sys/user.h \
- /usr/include/aarch64-linux-gnu/bits/sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/ss_flags.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/sigthread.h /usr/include/pthread.h \
- /usr/include/sched.h /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h ustreamer/../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h \
- ustreamer/../libs/logging.h ustreamer/options.h /usr/include/getopt.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_ext.h \
- ustreamer/../libs/config.h ustreamer/../libs/process.h \
- /usr/include/bsd/unistd.h /usr/include/bsd/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/prctl.h /usr/include/linux/prctl.h \
- ustreamer/../libs/frame.h /usr/include/linux/videodev2.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/memsink.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- ustreamer/../libs/memsinksh.h ustreamer/../libs/options.h \
- /usr/include/ctype.h ustreamer/device.h ustreamer/xioctl.h \
- /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h ustreamer/encoder.h \
- ustreamer/workers.h ustreamer/encoders/cpu/encoder.h \
- /usr/include/jpeglib.h /usr/include/aarch64-linux-gnu/jconfig.h \
- /usr/include/jmorecfg.h ustreamer/encoders/hw/encoder.h \
- ustreamer/encoders/hw/huffman.h ustreamer/blank.h \
- ustreamer/../libs/unjpeg.h /usr/include/setjmp.h \
- ustreamer/data/blank_jpeg.h ustreamer/stream.h ustreamer/http/server.h \
- /usr/include/inttypes.h /usr/include/netinet/tcp.h \
- /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/bits/in.h \
- /usr/include/netinet/ip.h /usr/include/event2/util.h \
- /usr/include/event2/visibility.h /usr/include/event2/event-config.h \
- /usr/include/netdb.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/event2/event.h \
- /usr/include/event2/thread.h /usr/include/event2/http.h \
- /usr/include/event2/buffer.h /usr/include/aarch64-linux-gnu/sys/uio.h \
- /usr/include/aarch64-linux-gnu/bits/uio-ext.h \
- /usr/include/event2/bufferevent.h /usr/include/event2/keyvalq_struct.h \
- ustreamer/http/../../libs/base64.h ustreamer/http/../../libs/list.h \
- ustreamer/http/../data/index_html.h ustreamer/http/bev.h \
- ustreamer/http/unix.h /usr/include/aarch64-linux-gnu/sys/un.h \
- ustreamer/http/uri.h ustreamer/http/mime.h ustreamer/http/static.h \
- ustreamer/http/path.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/main.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/main.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/options.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/options.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/options.d	2023-12-15 01:51:46.818398165 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/options.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,188 +0,0 @@
-build/ustreamer/options.o: ustreamer/options.c /usr/include/stdc-predef.h \
- ustreamer/options.h /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h /usr/include/string.h \
- /usr/include/strings.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/limits.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include-fixed/syslimits.h \
- /usr/include/limits.h /usr/include/aarch64-linux-gnu/bits/posix1_lim.h \
- /usr/include/aarch64-linux-gnu/bits/local_lim.h \
- /usr/include/linux/limits.h \
- /usr/include/aarch64-linux-gnu/bits/posix2_lim.h \
- /usr/include/aarch64-linux-gnu/bits/xopen_lim.h \
- /usr/include/aarch64-linux-gnu/bits/uio_lim.h /usr/include/getopt.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_ext.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h ustreamer/../libs/config.h \
- ustreamer/../libs/logging.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h ustreamer/../libs/tools.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h \
- ustreamer/../libs/process.h /usr/include/signal.h \
- /usr/include/aarch64-linux-gnu/bits/signum.h \
- /usr/include/aarch64-linux-gnu/bits/signum-generic.h \
- /usr/include/aarch64-linux-gnu/bits/types/sig_atomic_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/siginfo_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-arch.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts.h \
- /usr/include/aarch64-linux-gnu/bits/siginfo-consts-arch.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigval_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigevent_t.h \
- /usr/include/aarch64-linux-gnu/bits/sigevent-consts.h \
- /usr/include/aarch64-linux-gnu/bits/sigaction.h \
- /usr/include/aarch64-linux-gnu/bits/sigcontext.h \
- /usr/include/aarch64-linux-gnu/asm/sigcontext.h \
- /usr/include/linux/types.h /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/linux/posix_types.h /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h \
- /usr/include/aarch64-linux-gnu/asm/sve_context.h \
- /usr/include/aarch64-linux-gnu/bits/types/stack_t.h \
- /usr/include/aarch64-linux-gnu/sys/ucontext.h \
- /usr/include/aarch64-linux-gnu/sys/procfs.h \
- /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/aarch64-linux-gnu/sys/user.h \
- /usr/include/aarch64-linux-gnu/bits/sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/ss_flags.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sigstack.h \
- /usr/include/aarch64-linux-gnu/bits/sigthread.h \
- /usr/include/bsd/unistd.h /usr/include/bsd/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/prctl.h /usr/include/linux/prctl.h \
- ustreamer/../libs/frame.h /usr/include/linux/videodev2.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/memsink.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- ustreamer/../libs/memsinksh.h ustreamer/../libs/options.h \
- /usr/include/ctype.h ustreamer/device.h ustreamer/xioctl.h \
- /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h ustreamer/encoder.h \
- ustreamer/workers.h ustreamer/encoders/cpu/encoder.h \
- /usr/include/jpeglib.h /usr/include/aarch64-linux-gnu/jconfig.h \
- /usr/include/jmorecfg.h ustreamer/encoders/hw/encoder.h \
- ustreamer/encoders/hw/huffman.h ustreamer/blank.h \
- ustreamer/../libs/unjpeg.h /usr/include/setjmp.h \
- ustreamer/data/blank_jpeg.h ustreamer/stream.h ustreamer/http/server.h \
- /usr/include/inttypes.h /usr/include/netinet/tcp.h \
- /usr/include/aarch64-linux-gnu/sys/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket.h \
- /usr/include/aarch64-linux-gnu/bits/socket_type.h \
- /usr/include/aarch64-linux-gnu/bits/sockaddr.h \
- /usr/include/aarch64-linux-gnu/asm/socket.h \
- /usr/include/asm-generic/socket.h \
- /usr/include/aarch64-linux-gnu/asm/sockios.h \
- /usr/include/asm-generic/sockios.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_osockaddr.h \
- /usr/include/netinet/in.h /usr/include/aarch64-linux-gnu/bits/in.h \
- /usr/include/netinet/ip.h /usr/include/event2/util.h \
- /usr/include/event2/visibility.h /usr/include/event2/event-config.h \
- /usr/include/netdb.h /usr/include/rpc/netdb.h \
- /usr/include/aarch64-linux-gnu/bits/netdb.h /usr/include/event2/event.h \
- /usr/include/event2/thread.h /usr/include/event2/http.h \
- /usr/include/event2/buffer.h /usr/include/aarch64-linux-gnu/sys/uio.h \
- /usr/include/aarch64-linux-gnu/bits/uio-ext.h \
- /usr/include/event2/bufferevent.h /usr/include/event2/keyvalq_struct.h \
- ustreamer/http/../../libs/base64.h ustreamer/http/../../libs/list.h \
- ustreamer/http/../data/index_html.h ustreamer/http/bev.h \
- ustreamer/http/unix.h /usr/include/aarch64-linux-gnu/sys/un.h \
- ustreamer/http/uri.h ustreamer/http/mime.h ustreamer/http/static.h \
- ustreamer/http/path.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/options.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/options.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/stream.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/stream.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/stream.d	2023-12-15 01:51:49.330398166 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/stream.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,125 +0,0 @@
-build/ustreamer/stream.o: ustreamer/stream.c /usr/include/stdc-predef.h \
- ustreamer/stream.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/include/features.h /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/sys/types.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/unistd.h /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h \
- /usr/include/assert.h /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h \
- /usr/include/linux/videodev2.h /usr/include/aarch64-linux-gnu/sys/time.h \
- /usr/include/linux/ioctl.h /usr/include/aarch64-linux-gnu/asm/ioctl.h \
- /usr/include/asm-generic/ioctl.h /usr/include/linux/types.h \
- /usr/include/aarch64-linux-gnu/asm/types.h \
- /usr/include/asm-generic/types.h /usr/include/asm-generic/int-ll64.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h /usr/include/linux/posix_types.h \
- /usr/include/linux/stddef.h \
- /usr/include/aarch64-linux-gnu/asm/posix_types.h \
- /usr/include/asm-generic/posix_types.h /usr/include/linux/v4l2-common.h \
- /usr/include/linux/v4l2-controls.h /usr/include/linux/const.h \
- ustreamer/../libs/tools.h /usr/include/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h \
- ustreamer/../libs/logging.h ustreamer/../libs/frame.h \
- ustreamer/../libs/memsink.h /usr/include/aarch64-linux-gnu/sys/stat.h \
- /usr/include/aarch64-linux-gnu/bits/statx.h \
- /usr/include/aarch64-linux-gnu/sys/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman.h \
- /usr/include/aarch64-linux-gnu/bits/mman-linux.h \
- /usr/include/aarch64-linux-gnu/bits/mman-shared.h \
- ustreamer/../libs/memsinksh.h ustreamer/blank.h \
- ustreamer/../libs/unjpeg.h /usr/include/setjmp.h /usr/include/jpeglib.h \
- /usr/include/aarch64-linux-gnu/jconfig.h /usr/include/jmorecfg.h \
- ustreamer/data/blank_jpeg.h ustreamer/device.h ustreamer/xioctl.h \
- /usr/include/aarch64-linux-gnu/sys/ioctl.h \
- /usr/include/aarch64-linux-gnu/bits/ioctls.h \
- /usr/include/aarch64-linux-gnu/asm/ioctls.h \
- /usr/include/asm-generic/ioctls.h \
- /usr/include/aarch64-linux-gnu/bits/ioctl-types.h \
- /usr/include/aarch64-linux-gnu/sys/ttydefaults.h ustreamer/encoder.h \
- ustreamer/workers.h ustreamer/encoders/cpu/encoder.h \
- ustreamer/encoders/hw/encoder.h ustreamer/encoders/hw/huffman.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/stream.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/stream.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/workers.d /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/workers.d
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/workers.d	2023-12-15 01:51:48.782398166 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/workers.d	1969-12-31 19:00:00.000000000 -0500
@@ -1,97 +0,0 @@
-build/ustreamer/workers.o: ustreamer/workers.c /usr/include/stdc-predef.h \
- ustreamer/workers.h /usr/lib/gcc/aarch64-linux-gnu/8/include/stdbool.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdatomic.h \
- /usr/include/aarch64-linux-gnu/sys/types.h /usr/include/features.h \
- /usr/include/aarch64-linux-gnu/sys/cdefs.h \
- /usr/include/aarch64-linux-gnu/bits/wordsize.h \
- /usr/include/aarch64-linux-gnu/bits/long-double.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs.h \
- /usr/include/aarch64-linux-gnu/gnu/stubs-lp64.h \
- /usr/include/aarch64-linux-gnu/bits/types.h \
- /usr/include/aarch64-linux-gnu/bits/typesizes.h \
- /usr/include/aarch64-linux-gnu/bits/types/clock_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/clockid_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/time_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/timer_t.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stddef.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-intn.h /usr/include/endian.h \
- /usr/include/aarch64-linux-gnu/bits/endian.h \
- /usr/include/aarch64-linux-gnu/bits/byteswap.h \
- /usr/include/aarch64-linux-gnu/bits/uintn-identity.h \
- /usr/include/aarch64-linux-gnu/sys/select.h \
- /usr/include/aarch64-linux-gnu/bits/select.h \
- /usr/include/aarch64-linux-gnu/bits/types/sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__sigset_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timeval.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_timespec.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes.h \
- /usr/include/aarch64-linux-gnu/bits/thread-shared-types.h \
- /usr/include/aarch64-linux-gnu/bits/pthreadtypes-arch.h \
- /usr/include/pthread.h /usr/include/sched.h \
- /usr/include/aarch64-linux-gnu/bits/sched.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_sched_param.h \
- /usr/include/aarch64-linux-gnu/bits/cpu-set.h /usr/include/time.h \
- /usr/include/aarch64-linux-gnu/bits/time.h \
- /usr/include/aarch64-linux-gnu/bits/timex.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_tm.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_itimerspec.h \
- /usr/include/aarch64-linux-gnu/bits/types/locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__locale_t.h \
- /usr/include/aarch64-linux-gnu/bits/setjmp.h ustreamer/../libs/tools.h \
- /usr/include/stdio.h \
- /usr/include/aarch64-linux-gnu/bits/libc-header-start.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdarg.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__mbstate_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__fpos64_t.h \
- /usr/include/aarch64-linux-gnu/bits/types/__FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_FILE.h \
- /usr/include/aarch64-linux-gnu/bits/types/cookie_io_functions_t.h \
- /usr/include/aarch64-linux-gnu/bits/stdio_lim.h \
- /usr/include/aarch64-linux-gnu/bits/sys_errlist.h \
- /usr/include/aarch64-linux-gnu/bits/stdio.h \
- /usr/lib/gcc/aarch64-linux-gnu/8/include/stdint.h /usr/include/stdint.h \
- /usr/include/aarch64-linux-gnu/bits/wchar.h \
- /usr/include/aarch64-linux-gnu/bits/stdint-uintn.h /usr/include/stdlib.h \
- /usr/include/aarch64-linux-gnu/bits/waitflags.h \
- /usr/include/aarch64-linux-gnu/bits/waitstatus.h \
- /usr/include/aarch64-linux-gnu/bits/floatn.h \
- /usr/include/aarch64-linux-gnu/bits/floatn-common.h \
- /usr/include/alloca.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-bsearch.h \
- /usr/include/aarch64-linux-gnu/bits/stdlib-float.h /usr/include/string.h \
- /usr/include/strings.h /usr/include/unistd.h \
- /usr/include/aarch64-linux-gnu/bits/posix_opt.h \
- /usr/include/aarch64-linux-gnu/bits/environments.h \
- /usr/include/aarch64-linux-gnu/bits/confname.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_posix.h \
- /usr/include/aarch64-linux-gnu/bits/getopt_core.h /usr/include/locale.h \
- /usr/include/aarch64-linux-gnu/bits/locale.h /usr/include/errno.h \
- /usr/include/aarch64-linux-gnu/bits/errno.h /usr/include/linux/errno.h \
- /usr/include/aarch64-linux-gnu/asm/errno.h \
- /usr/include/asm-generic/errno.h /usr/include/asm-generic/errno-base.h \
- /usr/include/aarch64-linux-gnu/bits/types/error_t.h /usr/include/math.h \
- /usr/include/aarch64-linux-gnu/bits/math-vector.h \
- /usr/include/aarch64-linux-gnu/bits/libm-simd-decl-stubs.h \
- /usr/include/aarch64-linux-gnu/bits/flt-eval-method.h \
- /usr/include/aarch64-linux-gnu/bits/fp-logb.h \
- /usr/include/aarch64-linux-gnu/bits/fp-fast.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-helper-functions.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls.h \
- /usr/include/aarch64-linux-gnu/bits/mathcalls-narrow.h \
- /usr/include/aarch64-linux-gnu/bits/iscanonical.h \
- /usr/include/aarch64-linux-gnu/bits/mathinline.h /usr/include/assert.h \
- /usr/include/aarch64-linux-gnu/sys/file.h /usr/include/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl.h \
- /usr/include/aarch64-linux-gnu/bits/fcntl-linux.h \
- /usr/include/aarch64-linux-gnu/bits/types/struct_iovec.h \
- /usr/include/linux/falloc.h /usr/include/aarch64-linux-gnu/bits/stat.h \
- ustreamer/../libs/threading.h \
- /usr/include/aarch64-linux-gnu/sys/syscall.h \
- /usr/include/aarch64-linux-gnu/asm/unistd.h \
- /usr/include/asm-generic/unistd.h \
- /usr/include/aarch64-linux-gnu/asm/bitsperlong.h \
- /usr/include/asm-generic/bitsperlong.h \
- /usr/include/aarch64-linux-gnu/bits/syscall.h \
- ustreamer/../libs/logging.h
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/build/ustreamer/workers.o and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/build/ustreamer/workers.o differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/file.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/file.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/file.c	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/file.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,79 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "file.h"
-
-
-output_file_s *output_file_init(const char *path, bool json) {
-	output_file_s *output;
-	A_CALLOC(output, 1);
-
-	if (!strcmp(path, "-")) {
-		LOG_INFO("Using output: <stdout>");
-		output->fp = stdout;
-	} else {
-		LOG_INFO("Using output: %s", path);
-		if ((output->fp = fopen(path, "wb")) == NULL) {
-			LOG_PERROR("Can't open output file");
-			goto error;
-		}
-	}
-
-	output->json = json;
-	return output;
-
-	error:
-		output_file_destroy(output);
-		return NULL;
-}
-
-void output_file_write(void *v_output, const frame_s *frame) {
-	output_file_s *output = (output_file_s *)v_output;
-	if (output->json) {
-		base64_encode(frame->data, frame->used, &output->base64_data, &output->base64_allocated);
-		fprintf(output->fp,
-			"{\"size\": %zu, \"width\": %u, \"height\": %u,"
-			" \"format\": %u, \"stride\": %u, \"online\": %u,"
-			" \"grab_ts\": %.3Lf, \"encode_begin_ts\": %.3Lf, \"encode_end_ts\": %.3Lf,"
-			" \"data\": \"%s\"}\n",
-			frame->used, frame->width, frame->height,
-			frame->format, frame->stride, frame->online,
-			frame->grab_ts, frame->encode_begin_ts, frame->encode_end_ts,
-			output->base64_data);
-	} else {
-		fwrite(frame->data, 1, frame->used, output->fp);
-	}
-	fflush(output->fp);
-}
-
-void output_file_destroy(void *v_output) {
-	output_file_s *output = (output_file_s *)v_output;
-	if (output->base64_data) {
-		free(output->base64_data);
-	}
-	if (output->fp && output->fp != stdout) {
-		if (fclose(output->fp) < 0) {
-			LOG_PERROR("Can't close output file");
-		}
-	}
-	free(output);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/file.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/file.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/file.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/file.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,49 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <stdbool.h>
-
-#include <sys/types.h>
-
-#include "../libs/tools.h"
-#include "../libs/logging.h"
-#include "../libs/frame.h"
-#include "../libs/base64.h"
-
-
-typedef struct {
-	const char *path;
-	bool		json;
-
-	FILE		*fp;
-	char		*base64_data;
-	size_t		base64_allocated;
-} output_file_s;
-
-
-output_file_s *output_file_init(const char *path, bool json);
-void output_file_write(void *v_output, const frame_s *frame);
-void output_file_destroy(void *v_output);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/main.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/main.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/dump/main.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/dump/main.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,348 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <stdbool.h>
-#include <unistd.h>
-#include <signal.h>
-#include <limits.h>
-#include <float.h>
-#include <getopt.h>
-#include <errno.h>
-#include <assert.h>
-
-#include "../libs/config.h"
-#include "../libs/tools.h"
-#include "../libs/logging.h"
-#include "../libs/frame.h"
-#include "../libs/memsink.h"
-#include "../libs/options.h"
-
-#include "file.h"
-
-
-enum _OPT_VALUES {
-	_O_SINK = 's',
-	_O_SINK_TIMEOUT = 't',
-	_O_OUTPUT = 'o',
-	_O_OUTPUT_JSON = 'j',
-	_O_COUNT = 'c',
-	_O_INTERVAL = 'i',
-
-	_O_HELP = 'h',
-	_O_VERSION = 'v',
-
-	_O_LOG_LEVEL = 10000,
-	_O_PERF,
-	_O_VERBOSE,
-	_O_DEBUG,
-	_O_FORCE_LOG_COLORS,
-	_O_NO_LOG_COLORS,
-};
-
-static const struct option _LONG_OPTS[] = {
-	{"sink",				required_argument,	NULL,	_O_SINK},
-	{"sink-timeout",		required_argument,	NULL,	_O_SINK_TIMEOUT},
-	{"output",				required_argument,	NULL,	_O_OUTPUT},
-	{"output-json",			no_argument,		NULL,	_O_OUTPUT_JSON},
-	{"count",				required_argument,	NULL,	_O_COUNT},
-	{"interval",			required_argument,	NULL,	_O_INTERVAL},
-
-	{"log-level",			required_argument,	NULL,	_O_LOG_LEVEL},
-	{"perf",				no_argument,		NULL,	_O_PERF},
-	{"verbose",				no_argument,		NULL,	_O_VERBOSE},
-	{"debug",				no_argument,		NULL,	_O_DEBUG},
-	{"force-log-colors",	no_argument,		NULL,	_O_FORCE_LOG_COLORS},
-	{"no-log-colors",		no_argument,		NULL,	_O_NO_LOG_COLORS},
-
-	{"help",				no_argument,		NULL,	_O_HELP},
-	{"version",				no_argument,		NULL,	_O_VERSION},
-
-	{NULL, 0, NULL, 0},
-};
-
-
-volatile bool global_stop = false;
-
-
-typedef struct {
-	void *v_output;
-	void (*write)(void *v_output, const frame_s *frame);
-	void (*destroy)(void *v_output);
-} _output_context_s;
-
-
-static void _signal_handler(int signum);
-static void _install_signal_handlers(void);
-
-static int _dump_sink(
-	const char *sink_name, unsigned sink_timeout,
-	long long count, long double interval,
-	_output_context_s *ctx);
-
-static void _help(FILE *fp);
-
-
-int main(int argc, char *argv[]) {
-	LOGGING_INIT;
-	A_THREAD_RENAME("main");
-
-	char *sink_name = NULL;
-	unsigned sink_timeout = 1;
-	char *output_path = NULL;
-	bool output_json = false;
-	long long count = 0;
-	long double interval = 0;
-
-#	define OPT_SET(_dest, _value) { \
-			_dest = _value; \
-			break; \
-		}
-
-#	define OPT_NUMBER(_name, _dest, _min, _max, _base) { \
-			errno = 0; char *_end = NULL; long long _tmp = strtoll(optarg, &_end, _base); \
-			if (errno || *_end || _tmp < _min || _tmp > _max) { \
-				printf("Invalid value for '%s=%s': min=%lld, max=%lld\n", _name, optarg, (long long)_min, (long long)_max); \
-				return 1; \
-			} \
-			_dest = _tmp; \
-			break; \
-		}
-
-#	define OPT_LDOUBLE(_name, _dest, _min, _max) { \
-			errno = 0; char *_end = NULL; long double _tmp = strtold(optarg, &_end); \
-			if (errno || *_end || _tmp < _min || _tmp > _max) { \
-				printf("Invalid value for '%s=%s': min=%Lf, max=%Lf\n", _name, optarg, (long double)_min, (long double)_max); \
-				return 1; \
-			} \
-			_dest = _tmp; \
-			break; \
-		}
-
-	char short_opts[128];
-	build_short_options(_LONG_OPTS, short_opts, 128);
-
-	for (int ch; (ch = getopt_long(argc, argv, short_opts, _LONG_OPTS, NULL)) >= 0;) {
-		switch (ch) {
-			case _O_SINK:			OPT_SET(sink_name, optarg);
-			case _O_SINK_TIMEOUT:	OPT_NUMBER("--sink-timeout", sink_timeout, 1, 60, 0);
-			case _O_OUTPUT:			OPT_SET(output_path, optarg);
-			case _O_OUTPUT_JSON:	OPT_SET(output_json, true);
-			case _O_COUNT:			OPT_NUMBER("--count", count, 0, LLONG_MAX, 0);
-			case _O_INTERVAL:		OPT_LDOUBLE("--interval", interval, 0, 60);
-
-			case _O_LOG_LEVEL:			OPT_NUMBER("--log-level", us_log_level, LOG_LEVEL_INFO, LOG_LEVEL_DEBUG, 0);
-			case _O_PERF:				OPT_SET(us_log_level, LOG_LEVEL_PERF);
-			case _O_VERBOSE:			OPT_SET(us_log_level, LOG_LEVEL_VERBOSE);
-			case _O_DEBUG:				OPT_SET(us_log_level, LOG_LEVEL_DEBUG);
-			case _O_FORCE_LOG_COLORS:	OPT_SET(us_log_colored, true);
-			case _O_NO_LOG_COLORS:		OPT_SET(us_log_colored, false);
-
-			case _O_HELP:		_help(stdout); return 0;
-			case _O_VERSION:	puts(VERSION); return 0;
-
-			case 0:		break;
-			default:	return 1;
-		}
-	}
-
-#	undef OPT_LDOUBLE
-#	undef OPT_NUMBER
-#	undef OPT_SET
-
-	if (sink_name == NULL || sink_name[0] == '\0') {
-		puts("Missing option --sink. See --help for details.");
-		return 1;
-	}
-
-	_output_context_s ctx;
-	MEMSET_ZERO(ctx);
-
-	if (output_path && output_path[0] != '\0') {
-		if ((ctx.v_output = (void *)output_file_init(output_path, output_json)) == NULL) {
-			return 1;
-		}
-		ctx.write = output_file_write;
-		ctx.destroy = output_file_destroy;
-	}
-
-	_install_signal_handlers();
-	int retval = abs(_dump_sink(sink_name, sink_timeout, count, interval, &ctx));
-	if (ctx.v_output && ctx.destroy) {
-		ctx.destroy(ctx.v_output);
-	}
-	return retval;
-}
-
-
-static void _signal_handler(int signum) {
-	switch (signum) {
-		case SIGTERM:	LOG_INFO_NOLOCK("===== Stopping by SIGTERM ====="); break;
-		case SIGINT:	LOG_INFO_NOLOCK("===== Stopping by SIGINT ====="); break;
-		case SIGPIPE:	LOG_INFO_NOLOCK("===== Stopping by SIGPIPE ====="); break;
-		default:		LOG_INFO_NOLOCK("===== Stopping by %d =====", signum); break;
-	}
-	global_stop = true;
-}
-
-static void _install_signal_handlers(void) {
-	struct sigaction sig_act;
-	MEMSET_ZERO(sig_act);
-
-	assert(!sigemptyset(&sig_act.sa_mask));
-	sig_act.sa_handler = _signal_handler;
-	assert(!sigaddset(&sig_act.sa_mask, SIGINT));
-	assert(!sigaddset(&sig_act.sa_mask, SIGTERM));
-	assert(!sigaddset(&sig_act.sa_mask, SIGPIPE));
-
-	LOG_DEBUG("Installing SIGINT handler ...");
-	assert(!sigaction(SIGINT, &sig_act, NULL));
-
-	LOG_DEBUG("Installing SIGTERM handler ...");
-	assert(!sigaction(SIGTERM, &sig_act, NULL));
-
-	LOG_DEBUG("Installing SIGTERM handler ...");
-	assert(!sigaction(SIGPIPE, &sig_act, NULL));
-}
-
-static int _dump_sink(
-	const char *sink_name, unsigned sink_timeout,
-	long long count, long double interval,
-	_output_context_s *ctx) {
-
-	if (count == 0) {
-		count = -1;
-	}
-
-	useconds_t interval_us = interval * 1000000;
-
-	frame_s *frame = frame_init();
-	memsink_s *sink = NULL;
-
-	if ((sink = memsink_init("input", sink_name, false, 0, false, 0, sink_timeout)) == NULL) {
-		goto error;
-	}
-
-	unsigned fps = 0;
-	unsigned fps_accum = 0;
-	long long fps_second = 0;
-
-	long double last_ts = 0;
-
-	while (!global_stop) {
-		int error = memsink_client_get(sink, frame);
-		if (error == 0) {
-			const long double now = get_now_monotonic();
-			const long long now_second = floor_ms(now);
-
-			char fourcc_str[8];
-			LOG_VERBOSE("Frame: size=%zu, res=%ux%u, fourcc=%s, stride=%u, online=%d, key=%d, latency=%.3Lf, diff=%.3Lf",
-				frame->used, frame->width, frame->height,
-				fourcc_to_string(frame->format, fourcc_str, 8),
-				frame->stride, frame->online, frame->key,
-				now - frame->grab_ts, (last_ts ? now - last_ts : 0));
-			last_ts = now;
-
-			LOG_DEBUG("       grab_ts=%.3Lf, encode_begin_ts=%.3Lf, encode_end_ts=%.3Lf",
-				frame->grab_ts, frame->encode_begin_ts, frame->encode_end_ts);
-
-			if (now_second != fps_second) {
-				fps = fps_accum;
-				fps_accum = 0;
-				fps_second = now_second;
-				LOG_PERF_FPS("A new second has come; captured_fps=%u", fps);
-			}
-			fps_accum += 1;
-
-			if (ctx->v_output) {
-				ctx->write(ctx->v_output, frame);
-			}
-
-			if (count >= 0) {
-				--count;
-				if (count <= 0) {
-					break;
-				}
-			}
-
-			if (interval_us > 0) {
-				usleep(interval_us);
-			}
-		} else if (error == -2) {
-			usleep(1000);
-		} else {
-			goto error;
-		}
-	}
-
-	int retval = 0;
-	goto ok;
-
-	error:
-		retval = -1;
-
-	ok:
-		if (sink) {
-			memsink_destroy(sink);
-		}
-		frame_destroy(frame);
-
-		LOG_INFO("Bye-bye");
-		return retval;
-}
-
-static void _help(FILE *fp) {
-#	define SAY(_msg, ...) fprintf(fp, _msg "\n", ##__VA_ARGS__)
-	SAY("\nuStreamer-dump - Dump uStreamer's memory sink to file");
-	SAY("═════════════════════════════════════════════════════");
-	SAY("Version: %s; license: GPLv3", VERSION);
-	SAY("Copyright (C) 2018-2021 Maxim Devaev <mdevaev@gmail.com>\n");
-	SAY("Example:");
-	SAY("════════");
-	SAY("    ustreamer-dump --sink test --output - \\");
-	SAY("        | ffmpeg -use_wallclock_as_timestamps 1 -i pipe: -c:v libx264 test.mp4\n");
-	SAY("Sink options:");
-	SAY("═════════════");
-	SAY("    -s|--sink <name>  ──────── Memory sink ID. No default.\n");
-	SAY("    -t|--sink-timeout <sec>  ─ Timeout for the upcoming frame. Default: 1.\n");
-	SAY("    -o|--output <filename> ─── Filename to dump output to. Use '-' for stdout. Default: just consume the sink.\n");
-	SAY("    -j|--output-json  ──────── Format output as JSON. Required option --output. Default: disabled.\n");
-	SAY("    -c|--count  <N>  ───────── Limit the number of frames. Default: 0 (infinite).\n");
-	SAY("    -i|--interval <sec>  ───── Delay between reading frames (float). Default: 0.\n");
-	SAY("Logging options:");
-	SAY("════════════════");
-	SAY("    --log-level <N>  ──── Verbosity level of messages from 0 (info) to 3 (debug).");
-	SAY("                          Enabling debugging messages can slow down the program.");
-	SAY("                          Available levels: 0 (info), 1 (performance), 2 (verbose), 3 (debug).");
-	SAY("                          Default: %d.\n", us_log_level);
-	SAY("    --perf  ───────────── Enable performance messages (same as --log-level=1). Default: disabled.\n");
-	SAY("    --verbose  ────────── Enable verbose messages and lower (same as --log-level=2). Default: disabled.\n");
-	SAY("    --debug  ──────────── Enable debug messages and lower (same as --log-level=3). Default: disabled.\n");
-	SAY("    --force-log-colors  ─ Force color logging. Default: colored if stderr is a TTY.\n");
-	SAY("    --no-log-colors  ──── Disable color logging. Default: ditto.\n");
-	SAY("Help options:");
-	SAY("═════════════");
-	SAY("    -h|--help  ─────── Print this text and exit.\n");
-	SAY("    -v|--version  ──── Print version and exit.\n");
-#	undef SAY
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/base64.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/base64.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/base64.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/base64.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,72 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "base64.h"
-
-
-static const char _ENCODING_TABLE[] = {
-	'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',
-	'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',
-	'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',
-	'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',
-	'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',
-	'o', 'p', 'q', 'r', 's', 't', 'u', 'v',
-	'w', 'x', 'y', 'z', '0', '1', '2', '3',
-	'4', '5', '6', '7', '8', '9', '+', '/',
-};
-
-static const unsigned _MOD_TABLE[] = {0, 2, 1};
-
-
-void base64_encode(const uint8_t *data, size_t size, char **encoded, size_t *allocated) {
-	const size_t encoded_size = 4 * ((size + 2) / 3) + 1; // +1 for '\0'
-
-	if (*encoded == NULL || (allocated && *allocated < encoded_size)) {
-		A_REALLOC(*encoded, encoded_size);
-		if (allocated) {
-			*allocated = encoded_size;
-		}
-	}
-
-	for (unsigned data_index = 0, encoded_index = 0; data_index < size;) {
-#		define OCTET(_name) unsigned _name = (data_index < size ? (uint8_t)data[data_index++] : 0)
-		OCTET(octet_a);
-		OCTET(octet_b);
-		OCTET(octet_c);
-#		undef OCTET
-
-		unsigned triple = (octet_a << 0x10) + (octet_b << 0x08) + octet_c;
-
-#		define ENCODE(_offset) (*encoded)[encoded_index++] = _ENCODING_TABLE[(triple >> _offset * 6) & 0x3F]
-		ENCODE(3);
-		ENCODE(2);
-		ENCODE(1);
-		ENCODE(0);
-#		undef ENCODE
-	}
-
-	for (unsigned index = 0; index < _MOD_TABLE[size % 3]; index++) {
-		(*encoded)[encoded_size - 2 - index] = '=';
-	}
-
-	(*encoded)[encoded_size - 1] = '\0';
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/base64.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/base64.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/base64.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/base64.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,34 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdint.h>
-#include <string.h>
-
-#include <sys/types.h>
-
-#include "tools.h"
-
-
-void base64_encode(const uint8_t *data, size_t size, char **encoded, size_t *allocated);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/config.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/config.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/config.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/config.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,32 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#define VERSION_MAJOR 4
-#define VERSION_MINOR 13
-
-#define MAKE_VERSION2(_major, _minor) #_major "." #_minor
-#define MAKE_VERSION1(_major, _minor) MAKE_VERSION2(_major, _minor)
-#define VERSION MAKE_VERSION1(VERSION_MAJOR, VERSION_MINOR)
-
-#define VERSION_U ((unsigned)(VERSION_MAJOR * 1000 + VERSION_MINOR))
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/frame.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/frame.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/frame.c	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/frame.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,106 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "frame.h"
-
-
-frame_s *frame_init(void) {
-	frame_s *frame;
-	A_CALLOC(frame, 1);
-	frame_realloc_data(frame, 512 * 1024);
-	return frame;
-}
-
-void frame_destroy(frame_s *frame) {
-	if (frame->data) {
-		free(frame->data);
-	}
-	free(frame);
-}
-
-void frame_realloc_data(frame_s *frame, size_t size) {
-	if (frame->allocated < size) {
-		A_REALLOC(frame->data, size);
-		frame->allocated = size;
-	}
-}
-
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size) {
-	frame_realloc_data(frame, size);
-	memcpy(frame->data, data, size);
-	frame->used = size;
-}
-
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size) {
-	size_t new_used = frame->used + size;
-	frame_realloc_data(frame, new_used);
-	memcpy(frame->data + frame->used, data, size);
-	frame->used = new_used;
-}
-
-void frame_copy(const frame_s *src, frame_s *dest) {
-	frame_set_data(dest, src->data, src->used);
-	FRAME_COPY_META(src, dest);
-}
-
-bool frame_compare(const frame_s *a, const frame_s *b) {
-	return (
-		a->allocated && b->allocated
-		&& FRAME_COMPARE_META_USED_NOTS(a, b)
-		&& !memcmp(a->data, b->data, b->used)
-	);
-}
-
-unsigned frame_get_padding(const frame_s *frame) {
-	unsigned bytes_per_pixel = 0;
-	switch (frame->format) {
-		case V4L2_PIX_FMT_YUYV:
-		case V4L2_PIX_FMT_UYVY:
-		case V4L2_PIX_FMT_RGB565: bytes_per_pixel = 2; break;
-		case V4L2_PIX_FMT_RGB24: bytes_per_pixel = 3; break;
-		// case V4L2_PIX_FMT_H264:
-		case V4L2_PIX_FMT_MJPEG:
-		case V4L2_PIX_FMT_JPEG: bytes_per_pixel = 0; break;
-		default: assert(0 && "Unknown pixelformat");
-	}
-	if (bytes_per_pixel > 0 && frame->stride > frame->width) {
-		return (frame->stride - frame->width * bytes_per_pixel);
-	}
-	return 0;
-}
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size) {
-	assert(size >= 8);
-	buf[0] = format & 0x7F;
-	buf[1] = (format >> 8) & 0x7F;
-	buf[2] = (format >> 16) & 0x7F;
-	buf[3] = (format >> 24) & 0x7F;
-	if (format & ((unsigned)1 << 31)) {
-		buf[4] = '-';
-		buf[5] = 'B';
-		buf[6] = 'E';
-		buf[7] = '\0';
-	} else {
-		buf[4] = '\0';
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/frame.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/frame.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/frame.h	2023-12-15 01:51:35.126398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/frame.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,102 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stddef.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdlib.h>
-#include <string.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include "tools.h"
-
-
-typedef struct {
-	uint8_t	*data;
-	size_t	used;
-	size_t	allocated;
-
-	unsigned width;
-	unsigned height;
-	unsigned format;
-	unsigned stride;
-	// Stride is a bytesperline in V4L2
-	// https://www.kernel.org/doc/html/v4.14/media/uapi/v4l/pixfmt-v4l2.html
-	// https://medium.com/@oleg.shipitko/what-does-stride-mean-in-image-processing-bba158a72bcd
-
-	bool online;
-	bool key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-} frame_s;
-
-
-#define FRAME_COPY_META(_src, _dest) { \
-		_dest->width = _src->width; \
-		_dest->height = _src->height; \
-		_dest->format = _src->format; \
-		_dest->stride = _src->stride; \
-		_dest->online = _src->online; \
-		_dest->key = _src->key; \
-		_dest->grab_ts = _src->grab_ts; \
-		_dest->encode_begin_ts = _src->encode_begin_ts; \
-		_dest->encode_end_ts = _src->encode_end_ts; \
-	}
-
-static inline void frame_copy_meta(const frame_s *src, frame_s *dest) {
-	FRAME_COPY_META(src, dest);
-}
-
-#define FRAME_COMPARE_META_USED_NOTS(_a, _b) ( \
-		_a->used == _b->used \
-		&& _a->width == _b->width \
-		&& _a->height == _b->height \
-		&& _a->format == _b->format \
-		&& _a->stride == _b->stride \
-		&& _a->online == _b->online \
-		&& _a->key == _b->key \
-	)
-
-
-frame_s *frame_init(void);
-void frame_destroy(frame_s *frame);
-
-void frame_realloc_data(frame_s *frame, size_t size);
-void frame_set_data(frame_s *frame, const uint8_t *data, size_t size);
-void frame_append_data(frame_s *frame, const uint8_t *data, size_t size);
-
-void frame_copy(const frame_s *src, frame_s *dest);
-bool frame_compare(const frame_s *a, const frame_s *b);
-
-unsigned frame_get_padding(const frame_s *frame);
-
-const char *fourcc_to_string(unsigned format, char *buf, size_t size);
-
-static inline bool is_jpeg(unsigned format) {
-	return (format == V4L2_PIX_FMT_JPEG || format == V4L2_PIX_FMT_MJPEG);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/list.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/list.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/list.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/list.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,71 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <assert.h>
-
-
-#define LIST_STRUCT(...) \
-	__VA_ARGS__ *prev; \
-	__VA_ARGS__ *next;
-
-#define LIST_ITERATE(_first, _item, ...) { \
-		for (__typeof__(_first) _item = _first; _item;) { \
-			__typeof__(_first) _next = _item->next; \
-			__VA_ARGS__ \
-			_item = _next; \
-		} \
-	}
-
-#define LIST_APPEND(_first, _item) { \
-		if (_first == NULL) { \
-			_first = _item; \
-		} else { \
-			__typeof__(_first) _last = _first; \
-			for (; _last->next; _last = _last->next); \
-			_item->prev = _last; \
-			_last->next = _item; \
-		} \
-	}
-
-#define LIST_APPEND_C(_first, _item, _count) { \
-		LIST_APPEND(_first, _item); \
-		++(_count); \
-	}
-
-#define LIST_REMOVE(_first, _item) { \
-		if (_item->prev == NULL) { \
-			_first = _item->next; \
-		} else { \
-			_item->prev->next = _item->next; \
-		} \
-		if (_item->next != NULL) { \
-			_item->next->prev = _item->prev; \
-		} \
-	}
-
-#define LIST_REMOVE_C(_first, _item, _count) { \
-		LIST_REMOVE(_first, _item); \
-		assert((_count) >= 1); \
-		--(_count); \
-	}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/logging.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/logging.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/logging.c	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/logging.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,30 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "logging.h"
-
-
-enum log_level_t us_log_level;
-
-bool us_log_colored;
-
-pthread_mutex_t us_log_mutex;
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/logging.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/logging.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/logging.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/logging.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,162 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdbool.h>
-#include <stdlib.h>
-#include <string.h>
-#include <unistd.h>
-#include <errno.h>
-#include <time.h>
-#include <assert.h>
-
-#include <pthread.h>
-
-#include "tools.h"
-#include "threading.h"
-
-
-enum log_level_t {
-    LOG_LEVEL_INFO,
-    LOG_LEVEL_PERF,
-    LOG_LEVEL_VERBOSE,
-    LOG_LEVEL_DEBUG,
-};
-
-
-extern enum log_level_t us_log_level;
-
-extern bool us_log_colored;
-
-extern pthread_mutex_t us_log_mutex;
-
-
-#define LOGGING_INIT { \
-		us_log_level = LOG_LEVEL_INFO; \
-		us_log_colored = isatty(2); \
-		A_MUTEX_INIT(&us_log_mutex); \
-	}
-
-#define LOGGING_DESTROY A_MUTEX_DESTROY(&us_log_mutex)
-
-#define LOGGING_LOCK	A_MUTEX_LOCK(&us_log_mutex)
-#define LOGGING_UNLOCK	A_MUTEX_UNLOCK(&us_log_mutex)
-
-
-#define COLOR_GRAY		"\x1b[30;1m"
-#define COLOR_RED		"\x1b[31;1m"
-#define COLOR_GREEN		"\x1b[32;1m"
-#define COLOR_YELLOW	"\x1b[33;1m"
-#define COLOR_BLUE		"\x1b[34;1m"
-#define COLOR_CYAN		"\x1b[36;1m"
-#define COLOR_RESET		"\x1b[0m"
-
-
-#define SEP_INFO(_ch) { \
-		LOGGING_LOCK; \
-		for (int _i = 0; _i < 80; ++_i) { \
-			fputc(_ch, stderr); \
-		} \
-		fputc('\n', stderr); \
-		fflush(stderr); \
-		LOGGING_UNLOCK; \
-	}
-
-#define SEP_DEBUG(_ch) { \
-		if (us_log_level >= LOG_LEVEL_DEBUG) { \
-			SEP_INFO(_ch); \
-		} \
-	}
-
-
-#define LOG_PRINTF_NOLOCK(_label_color, _label, _msg_color, _msg, ...) { \
-		char _tname_buf[MAX_THREAD_NAME] = {0}; \
-		thread_get_name(_tname_buf); \
-		if (us_log_colored) { \
-			fprintf(stderr, COLOR_GRAY "-- " _label_color _label COLOR_GRAY \
-				" [%.03Lf %9s]" " -- " COLOR_RESET _msg_color _msg COLOR_RESET, \
-				get_now_monotonic(), _tname_buf, ##__VA_ARGS__); \
-		} else { \
-			fprintf(stderr, "-- " _label " [%.03Lf %9s] -- " _msg, \
-				get_now_monotonic(), _tname_buf, ##__VA_ARGS__); \
-		} \
-		fputc('\n', stderr); \
-		fflush(stderr); \
-	}
-
-#define LOG_PRINTF(_label_color, _label, _msg_color, _msg, ...) { \
-		LOGGING_LOCK; \
-		LOG_PRINTF_NOLOCK(_label_color, _label, _msg_color, _msg, ##__VA_ARGS__); \
-		LOGGING_UNLOCK; \
-	}
-
-#define LOG_ERROR(_msg, ...) { \
-		LOG_PRINTF(COLOR_RED, "ERROR", COLOR_RED, _msg, ##__VA_ARGS__); \
-	}
-
-#define LOG_PERROR(_msg, ...) { \
-		char _perror_buf[1024] = {0}; \
-		char *_perror_ptr = errno_to_string(errno, _perror_buf, 1024); \
-		LOG_ERROR(_msg ": %s", ##__VA_ARGS__, _perror_ptr); \
-	}
-
-#define LOG_INFO(_msg, ...) { \
-		LOG_PRINTF(COLOR_GREEN, "INFO ", "", _msg, ##__VA_ARGS__); \
-	}
-
-#define LOG_INFO_NOLOCK(_msg, ...) { \
-		LOG_PRINTF_NOLOCK(COLOR_GREEN, "INFO ", "", _msg, ##__VA_ARGS__); \
-	}
-
-#define LOG_PERF(_msg, ...) { \
-		if (us_log_level >= LOG_LEVEL_PERF) { \
-			LOG_PRINTF(COLOR_CYAN, "PERF ", COLOR_CYAN, _msg, ##__VA_ARGS__); \
-		} \
-	}
-
-#define LOG_PERF_FPS(_msg, ...) { \
-		if (us_log_level >= LOG_LEVEL_PERF) { \
-			LOG_PRINTF(COLOR_YELLOW, "PERF ", COLOR_YELLOW, _msg, ##__VA_ARGS__); \
-		} \
-	}
-
-#define LOG_VERBOSE(_msg, ...) { \
-		if (us_log_level >= LOG_LEVEL_VERBOSE) { \
-			LOG_PRINTF(COLOR_BLUE, "VERB ", COLOR_BLUE, _msg, ##__VA_ARGS__); \
-		} \
-	}
-
-#define LOG_VERBOSE_PERROR(_msg, ...) { \
-		if (us_log_level >= LOG_LEVEL_VERBOSE) { \
-			char _perror_buf[1024] = {0}; \
-			char *_perror_ptr = errno_to_string(errno, _perror_buf, 1023); \
-			LOG_PRINTF(COLOR_BLUE, "VERB ", COLOR_BLUE, _msg ": %s", ##__VA_ARGS__, _perror_ptr); \
-		} \
-	}
-
-#define LOG_DEBUG(_msg, ...) { \
-		if (us_log_level >= LOG_LEVEL_DEBUG) { \
-			LOG_PRINTF(COLOR_GRAY, "DEBUG", COLOR_GRAY, _msg, ##__VA_ARGS__); \
-		} \
-	}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsink.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsink.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsink.c	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsink.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,197 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "memsink.h"
-
-
-memsink_s *memsink_init(
-	const char *name, const char *obj, bool server,
-	mode_t mode, bool rm, unsigned client_ttl, unsigned timeout) {
-
-	memsink_s *sink;
-	A_CALLOC(sink, 1);
-	sink->name = name;
-	sink->obj = obj;
-	sink->server = server;
-	sink->rm = rm;
-	sink->client_ttl = client_ttl;
-	sink->timeout = timeout;
-	sink->fd = -1;
-	sink->mem = MAP_FAILED;
-	atomic_init(&sink->has_clients, false);
-
-	LOG_INFO("Using %s-sink: %s", name, obj);
-
-	mode_t mask = umask(0);
-	sink->fd = shm_open(sink->obj, (server ? O_RDWR | O_CREAT : O_RDWR), mode);
-	umask(mask);
-	if (sink->fd == -1) {
-		umask(mask);
-		LOG_PERROR("%s-sink: Can't open shared memory", name);
-		goto error;
-	}
-
-	if (sink->server && ftruncate(sink->fd, sizeof(memsink_shared_s)) < 0) {
-		LOG_PERROR("%s-sink: Can't truncate shared memory", name);
-		goto error;
-	}
-
-	if ((sink->mem = memsink_shared_map(sink->fd)) == NULL) {
-		LOG_PERROR("%s-sink: Can't mmap shared memory", name);
-		goto error;
-	}
-
-	return sink;
-
-	error:
-		memsink_destroy(sink);
-		return NULL;
-}
-
-void memsink_destroy(memsink_s *sink) {
-	if (sink->mem != MAP_FAILED) {
-		if (memsink_shared_unmap(sink->mem) < 0) {
-			LOG_PERROR("%s-sink: Can't unmap shared memory", sink->name);
-		}
-	}
-	if (sink->fd >= 0) {
-		if (close(sink->fd) < 0) {
-			LOG_PERROR("%s-sink: Can't close shared memory fd", sink->name);
-		}
-		if (sink->rm && shm_unlink(sink->obj) < 0) {
-			if (errno != ENOENT) {
-				LOG_PERROR("%s-sink: Can't remove shared memory", sink->name);
-			}
-		}
-	}
-	free(sink);
-}
-
-bool memsink_server_check(memsink_s *sink, const frame_s *frame) {
-	// Return true (the need to write to memsink) on any of these conditions:
-	//   - EWOULDBLOCK - we have an active client;
-	//   - Incorrect magic or version - need to first write;
-	//   - We have some active clients by last_client_ts;
-	//   - Frame meta differs (like size, format, but not timestamp).
-
-	assert(sink->server);
-
-	if (flock(sink->fd, LOCK_EX | LOCK_NB) < 0) {
-		if (errno == EWOULDBLOCK) {
-			atomic_store(&sink->has_clients, true);
-			return true;
-		}
-		LOG_PERROR("%s-sink: Can't lock memory", sink->name);
-		return false;
-	}
-
-	if (sink->mem->magic != MEMSINK_MAGIC || sink->mem->version != MEMSINK_VERSION) {
-		return true;
-	}
-
-	bool has_clients = (sink->mem->last_client_ts + sink->client_ttl > get_now_monotonic());
-	atomic_store(&sink->has_clients, has_clients);
-
-	if (flock(sink->fd, LOCK_UN) < 0) {
-		LOG_PERROR("%s-sink: Can't unlock memory", sink->name);
-		return false;
-	}
-	return (has_clients || !FRAME_COMPARE_META_USED_NOTS(sink->mem, frame));;
-}
-
-int memsink_server_put(memsink_s *sink, const frame_s *frame) {
-	assert(sink->server);
-
-	const long double now = get_now_monotonic();
-
-	if (frame->used > MEMSINK_MAX_DATA) {
-		LOG_ERROR("%s-sink: Can't put frame: is too big (%zu > %zu)",
-			sink->name, frame->used, MEMSINK_MAX_DATA);
-		return 0; // -2
-	}
-
-	if (flock_timedwait_monotonic(sink->fd, 1) == 0) {
-		LOG_VERBOSE("%s-sink: >>>>> Exposing new frame ...", sink->name);
-
-		sink->last_id = get_now_id();
-		sink->mem->id = sink->last_id;
-
-		memcpy(sink->mem->data, frame->data, frame->used);
-		sink->mem->used = frame->used;
-		FRAME_COPY_META(frame, sink->mem);
-
-		sink->mem->magic = MEMSINK_MAGIC;
-		sink->mem->version = MEMSINK_VERSION;
-		atomic_store(&sink->has_clients, (sink->mem->last_client_ts + sink->client_ttl > get_now_monotonic()));
-
-		if (flock(sink->fd, LOCK_UN) < 0) {
-			LOG_PERROR("%s-sink: Can't unlock memory", sink->name);
-			return -1;
-		}
-		LOG_VERBOSE("%s-sink: Exposed new frame; full exposition time = %.3Lf",
-			sink->name, get_now_monotonic() - now);
-
-	} else if (errno == EWOULDBLOCK) {
-		LOG_VERBOSE("%s-sink: ===== Shared memory is busy now; frame skipped", sink->name);
-
-	} else {
-		LOG_PERROR("%s-sink: Can't lock memory", sink->name);
-		return -1;
-	}
-	return 0;
-}
-
-int memsink_client_get(memsink_s *sink, frame_s *frame) { // cppcheck-suppress unusedFunction
-	assert(!sink->server); // Client only
-
-	if (flock_timedwait_monotonic(sink->fd, sink->timeout) < 0) {
-		if (errno == EWOULDBLOCK) {
-			return -2;
-		}
-		LOG_PERROR("%s-sink: Can't lock memory", sink->name);
-		return -1;
-	}
-
-	int retval = -2; // Not updated
-	if (sink->mem->magic == MEMSINK_MAGIC) {
-		if (sink->mem->version != MEMSINK_VERSION) {
-			LOG_ERROR("%s-sink: Protocol version mismatch: sink=%u, required=%u",
-				sink->name, sink->mem->version, MEMSINK_VERSION);
-			retval = -1;
-			goto done;
-		}
-		if (sink->mem->id != sink->last_id) { // When updated
-			sink->last_id = sink->mem->id;
-			frame_set_data(frame, sink->mem->data, sink->mem->used);
-			FRAME_COPY_META(sink->mem, frame);
-			retval = 0;
-		}
-		sink->mem->last_client_ts = get_now_monotonic();
-	}
-
-	done:
-		if (flock(sink->fd, LOCK_UN) < 0) {
-			LOG_PERROR("%s-sink: Can't unlock memory", sink->name);
-			return -1;
-		}
-		return retval;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsink.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsink.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsink.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsink.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,68 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdatomic.h>
-#include <string.h>
-#include <fcntl.h>
-#include <errno.h>
-#include <assert.h>
-
-#include <sys/types.h>
-#include <sys/file.h>
-#include <sys/stat.h>
-#include <sys/mman.h>
-
-#include "tools.h"
-#include "logging.h"
-#include "frame.h"
-#include "memsinksh.h"
-
-
-typedef struct {
-	const char	*name;
-	const char	*obj;
-	bool		server;
-	bool		rm;
-	unsigned	client_ttl; // Only for server
-	unsigned	timeout;
-
-	int					fd;
-	memsink_shared_s	*mem;
-	uint64_t			last_id;
-	atomic_bool			has_clients; // Only for server
-} memsink_s;
-
-
-memsink_s *memsink_init(
-	const char *name, const char *obj, bool server,
-	mode_t mode, bool rm, unsigned client_ttl, unsigned timeout);
-
-void memsink_destroy(memsink_s *sink);
-
-bool memsink_server_check(memsink_s *sink, const frame_s *frame);
-int memsink_server_put(memsink_s *sink, const frame_s *frame);
-
-int memsink_client_get(memsink_s *sink, frame_s *frame);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsinksh.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsinksh.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/memsinksh.h	2023-12-15 01:51:35.130398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/memsinksh.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,84 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-#include <stdbool.h>
-
-#include <sys/types.h>
-#include <sys/mman.h>
-
-
-#define MEMSINK_MAGIC	((uint64_t)0xCAFEBABECAFEBABE)
-#define MEMSINK_VERSION	((uint32_t)2)
-
-#ifndef CFG_MEMSINK_MAX_DATA
-#	define CFG_MEMSINK_MAX_DATA 33554432
-#endif
-#define MEMSINK_MAX_DATA ((size_t)(CFG_MEMSINK_MAX_DATA))
-
-
-typedef struct {
-	uint64_t	magic;
-	uint32_t	version;
-
-	uint64_t	id;
-
-	size_t		used;
-	unsigned	width;
-	unsigned	height;
-	unsigned	format;
-	unsigned	stride;
-	bool		online;
-	bool		key;
-
-	long double	grab_ts;
-	long double	encode_begin_ts;
-	long double	encode_end_ts;
-
-	long double	last_client_ts;
-
-	uint8_t		data[MEMSINK_MAX_DATA];
-} memsink_shared_s;
-
-
-INLINE memsink_shared_s *memsink_shared_map(int fd) {
-	memsink_shared_s *mem = mmap(
-		NULL,
-		sizeof(memsink_shared_s),
-		PROT_READ | PROT_WRITE,
-		MAP_SHARED,
-		fd,
-		0
-	);
-	if (mem == MAP_FAILED) {
-		return NULL;
-	}
-	assert(mem != NULL);
-	return mem;
-}
-
-INLINE int memsink_shared_unmap(memsink_shared_s *mem) {
-	assert(mem != NULL);
-	return munmap(mem, sizeof(memsink_shared_s));
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/options.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/options.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/options.c	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/options.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,39 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "options.h"
-
-
-void build_short_options(const struct option opts[], char *short_opts, size_t size) {
-	memset(short_opts, 0, size);
-    for (unsigned short_index = 0, opt_index = 0; opts[opt_index].name != NULL; ++opt_index) {
-		assert(short_index < size - 3);
-        if (isalpha(opts[opt_index].val)) {
-            short_opts[short_index] = opts[opt_index].val;
-            ++short_index;
-            if (opts[opt_index].has_arg == required_argument) {
-                short_opts[short_index] = ':';
-                ++short_index;
-            }
-        }
-    }
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/options.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/options.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/options.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/options.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,33 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <string.h>
-#include <ctype.h>
-#include <getopt.h>
-#include <assert.h>
-
-#include <sys/types.h>
-
-
-void build_short_options(const struct option opts[], char *short_opts, size_t size);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/process.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/process.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/process.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/process.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,147 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <signal.h>
-#include <unistd.h>
-
-#include <sys/types.h>
-
-
-#if defined(__linux__)
-#	define HAS_PDEATHSIG
-#elif defined(__FreeBSD__)
-#	include <sys/param.h>
-#	if __FreeBSD_version >= 1102000
-#		define HAS_PDEATHSIG
-#	endif
-#endif
-
-
-#ifdef WITH_SETPROCTITLE
-#	include <stdlib.h>
-#	include <string.h>
-#	if defined(__linux__)
-#		include <bsd/unistd.h>
-#	elif (defined(__FreeBSD__) || defined(__DragonFly__))
-//#		include <unistd.h>
-//#		include <sys/types.h>
-#	elif (defined(__NetBSD__) || defined(__OpenBSD__)) // setproctitle() placed in stdlib.h
-#	else
-#		error setproctitle() not implemented, you can disable it using WITH_SETPROCTITLE=0
-#	endif
-#endif
-#ifdef HAS_PDEATHSIG
-#	if defined(__linux__)
-#		include <sys/prctl.h>
-#	elif defined(__FreeBSD__)
-#		include <sys/procctl.h>
-#	endif
-#endif
-#ifdef WITH_SETPROCTITLE
-#	include "tools.h"
-#endif
-#ifdef HAS_PDEATHSIG
-#	include "logging.h"
-#endif
-
-
-#ifdef WITH_SETPROCTITLE
-extern char **environ;
-#endif
-
-
-#ifdef HAS_PDEATHSIG
-INLINE int process_track_parent_death(void) {
-	pid_t parent = getppid();
-	int signum = SIGTERM;
-#	if defined(__linux__)
-	int retval = prctl(PR_SET_PDEATHSIG, signum);
-#	elif defined(__FreeBSD__)
-	int retval = procctl(P_PID, 0, PROC_PDEATHSIG_CTL, &signum);
-#	else
-#		error WTF?
-#	endif
-	if (retval < 0) {
-		LOG_PERROR("Can't set to receive SIGTERM on parent process death");
-		return -1;
-	}
-
-	if (kill(parent, 0) < 0) {
-		LOG_PERROR("The parent process %d is already dead", parent);
-		return -1;
-	}
-
-	return 0;
-}
-#endif
-
-#ifdef WITH_SETPROCTITLE
-#	pragma GCC diagnostic ignored "-Wunused-parameter"
-#	pragma GCC diagnostic push
-INLINE void process_set_name_prefix(int argc, char *argv[], const char *prefix) {
-#	pragma GCC diagnostic pop
-
-	char *cmdline = NULL;
-	size_t allocated = 2048;
-	size_t used = 0;
-
-	A_REALLOC(cmdline, allocated);
-	cmdline[0] = '\0';
-
-	for (int index = 0; index < argc; ++index) {
-		size_t arg_len = strlen(argv[index]);
-		if (used + arg_len + 16 >= allocated) {
-			allocated += arg_len + 2048;
-			A_REALLOC(cmdline, allocated); // cppcheck-suppress memleakOnRealloc // False-positive (ok with assert)
-		}
-
-		strcat(cmdline, " ");
-		strcat(cmdline, argv[index]);
-		used = strlen(cmdline); // Не считаем вручную, так надежнее
-	}
-
-#	ifdef __linux__
-	setproctitle_init(argc, argv, environ);
-#	endif
-	setproctitle("-%s:%s", prefix, cmdline);
-
-	free(cmdline);
-}
-#endif
-
-INLINE void process_notify_parent(void) {
-	pid_t parent = getppid();
-
-	if (kill(parent, SIGUSR2) < 0) {
-		LOG_PERROR("Can't send SIGUSR2 to the parent process %d", parent);
-	}
-}
-
-INLINE void process_suicide(void) {
-	pid_t pid = getpid();
-
-	if (kill(pid, SIGTERM) < 0) {
-		LOG_PERROR("Can't send SIGTERM to own pid %d", pid);
-	}
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/threading.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/threading.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/threading.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/threading.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,125 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <unistd.h>
-#include <assert.h>
-
-#include <sys/types.h>
-#include <sys/syscall.h>
-
-#include <pthread.h>
-#ifdef WITH_PTHREAD_NP
-#	if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)
-#		include <pthread_np.h>
-#		include <sys/param.h>
-#	endif
-#endif
-
-#include "tools.h"
-
-
-#ifdef PTHREAD_MAX_NAMELEN_NP
-#	define MAX_THREAD_NAME ((size_t)(PTHREAD_MAX_NAMELEN_NP))
-#else
-#	define MAX_THREAD_NAME ((size_t)16)
-#endif
-
-#define A_THREAD_CREATE(_tid, _func, _arg)	assert(!pthread_create(_tid, NULL, _func, _arg))
-#define A_THREAD_JOIN(_tid)					assert(!pthread_join(_tid, NULL))
-
-#ifdef WITH_PTHREAD_NP
-#	define A_THREAD_RENAME(_fmt, ...) { \
-			char _new_tname_buf[MAX_THREAD_NAME] = {0}; \
-			assert(snprintf(_new_tname_buf, MAX_THREAD_NAME, _fmt, ##__VA_ARGS__) > 0); \
-			thread_set_name(_new_tname_buf); \
-		}
-#else
-#	define A_THREAD_RENAME(_fmt, ...)
-#endif
-
-#define A_MUTEX_INIT(_mutex)	assert(!pthread_mutex_init(_mutex, NULL))
-#define A_MUTEX_DESTROY(_mutex)	assert(!pthread_mutex_destroy(_mutex))
-#define A_MUTEX_LOCK(_mutex)	assert(!pthread_mutex_lock(_mutex))
-#define A_MUTEX_UNLOCK(_mutex)	assert(!pthread_mutex_unlock(_mutex))
-
-#define A_COND_INIT(_cond)		assert(!pthread_cond_init(_cond, NULL))
-#define A_COND_DESTROY(_cond)	assert(!pthread_cond_destroy(_cond))
-#define A_COND_SIGNAL(...)		assert(!pthread_cond_signal(__VA_ARGS__))
-#define A_COND_WAIT_TRUE(_var, _cond, _mutex) { while(!_var) assert(!pthread_cond_wait(_cond, _mutex)); }
-
-
-#ifdef WITH_PTHREAD_NP
-INLINE void thread_set_name(const char *name) {
-#	if defined(__linux__)
-	pthread_setname_np(pthread_self(), name);
-#	elif defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)
-	pthread_set_name_np(pthread_self(), name);
-#	elif defined(__NetBSD__)
-	pthread_setname_np(pthread_self(), "%s", (void *)name);
-#	else
-#		error thread_set_name() not implemented, you can disable it using WITH_PTHREAD_NP=0
-#	endif
-}
-#endif
-
-INLINE void thread_get_name(char *name) { // Always required for logging
-#ifdef WITH_PTHREAD_NP
-	int retval = -1;
-#	if defined(__linux__) || defined (__NetBSD__)
-	retval = pthread_getname_np(pthread_self(), name, MAX_THREAD_NAME);
-#	elif \
-		(defined(__FreeBSD__) && defined(__FreeBSD_version) && __FreeBSD_version >= 1103500) \
-		|| (defined(__OpenBSD__) && defined(OpenBSD) && OpenBSD >= 201905) \
-		|| defined(__DragonFly__)
-	pthread_get_name_np(pthread_self(), name, MAX_THREAD_NAME);
-	if (name[0] != '\0') {
-		retval = 0;
-	}
-#	else
-#		error thread_get_name() not implemented, you can disable it using WITH_PTHREAD_NP=0
-#	endif
-	if (retval < 0) {
-#endif
-
-#if defined(__linux__)
-		pid_t tid = syscall(SYS_gettid);
-#elif defined(__FreeBSD__)
-		pid_t tid = syscall(SYS_thr_self);
-#elif defined(__OpenBSD__)
-		pid_t tid = syscall(SYS_getthrid);
-#elif defined(__NetBSD__)
-		pid_t tid = syscall(SYS__lwp_self);
-#elif defined(__DragonFly__)
-		pid_t tid = syscall(SYS_lwp_gettid);
-#else
-		pid_t tid = 0; // Makes cppcheck happy
-#	warning gettid() not implemented
-#endif
-		assert(snprintf(name, MAX_THREAD_NAME, "tid=%d", tid) > 0);
-
-#ifdef WITH_PTHREAD_NP
-	}
-#endif
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/tools.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/tools.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/tools.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/tools.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,166 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdint.h>
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <unistd.h>
-#include <locale.h>
-#include <errno.h>
-#include <math.h>
-#include <time.h>
-#include <assert.h>
-
-#include <sys/file.h>
-
-
-#define RN "\r\n"
-
-#define INLINE inline __attribute__((always_inline))
-#define UNUSED __attribute__((unused))
-
-#define A_CALLOC(_dest, _nmemb)		assert((_dest = calloc(_nmemb, sizeof(*(_dest)))))
-#define A_REALLOC(_dest, _nmemb)	assert((_dest = realloc(_dest, _nmemb * sizeof(*(_dest)))))
-#define MEMSET_ZERO(_obj)			memset(&(_obj), 0, sizeof(_obj))
-
-#define A_ASPRINTF(_dest, _fmt, ...) assert(asprintf(&(_dest), _fmt, ##__VA_ARGS__) >= 0)
-
-#define ARRAY_LEN(_array) (sizeof(_array) / sizeof(_array[0]))
-
-
-INLINE const char *bool_to_string(bool flag) {
-	return (flag ? "true" : "false");
-}
-
-INLINE size_t align_size(size_t size, size_t to) {
-	return ((size + (to - 1)) & ~(to - 1));
-}
-
-INLINE unsigned min_u(unsigned a, unsigned b) {
-	return (a < b ? a : b);
-}
-
-INLINE unsigned max_u(unsigned a, unsigned b) {
-	return (a > b ? a : b);
-}
-
-INLINE long long floor_ms(long double now) {
-	return (long long)now - (now < (long long)now); // floor()
-}
-
-INLINE uint32_t triple_u32(uint32_t x) {
-	// https://nullprogram.com/blog/2018/07/31/
-	x ^= x >> 17;
-	x *= UINT32_C(0xED5AD4BB);
-	x ^= x >> 11;
-	x *= UINT32_C(0xAC4C1B51);
-	x ^= x >> 15;
-	x *= UINT32_C(0x31848BAB);
-	x ^= x >> 14;
-	return x;
-}
-
-INLINE void get_now(clockid_t clk_id, time_t *sec, long *msec) {
-	struct timespec ts;
-	assert(!clock_gettime(clk_id, &ts));
-	*sec = ts.tv_sec;
-	*msec = round(ts.tv_nsec / 1.0e6);
-
-	if (*msec > 999) {
-		*sec += 1;
-		*msec = 0;
-	}
-}
-
-#if defined(CLOCK_MONOTONIC_RAW)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_RAW
-#elif defined(CLOCK_MONOTONIC_FAST)
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC_FAST
-#else
-#	define X_CLOCK_MONOTONIC CLOCK_MONOTONIC
-#endif
-
-INLINE long double get_now_monotonic(void) {
-	time_t sec;
-	long msec;
-	get_now(X_CLOCK_MONOTONIC, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE uint64_t get_now_monotonic_u64(void) {
-	struct timespec ts;
-	assert(!clock_gettime(X_CLOCK_MONOTONIC, &ts));
-	return (uint64_t)(ts.tv_nsec / 1000) + (uint64_t)ts.tv_sec * 1000000;
-}
-
-INLINE uint64_t get_now_id(void) {
-	uint64_t now = get_now_monotonic_u64();
-	return (uint64_t)triple_u32(now) | ((uint64_t)triple_u32(now + 12345) << 32);
-}
-
-#undef X_CLOCK_MONOTONIC
-
-INLINE long double get_now_real(void) {
-	time_t sec;
-	long msec;
-	get_now(CLOCK_REALTIME, &sec, &msec);
-	return (long double)sec + ((long double)msec) / 1000;
-}
-
-INLINE unsigned get_cores_available(void) {
-	long cores_sysconf = sysconf(_SC_NPROCESSORS_ONLN);
-	cores_sysconf = (cores_sysconf < 0 ? 0 : cores_sysconf);
-	return max_u(min_u(cores_sysconf, 4), 1);
-}
-
-INLINE int flock_timedwait_monotonic(int fd, long double timeout) {
-	long double deadline_ts = get_now_monotonic() + timeout;
-	int retval = -1;
-
-	while (true) {
-		retval = flock(fd, LOCK_EX | LOCK_NB);
-		if (retval == 0 || errno != EWOULDBLOCK || get_now_monotonic() > deadline_ts) {
-			break;
-		}
-		if (usleep(1000) < 0) {
-			break;
-		}
-	}
-	return retval;
-}
-
-INLINE char *errno_to_string(int error, char *buf, size_t size) {
-	assert(buf);
-	assert(size > 0);
-	locale_t locale = newlocale(LC_MESSAGES_MASK, "C", NULL);
-	char *str = "!!! newlocale() error !!!";
-	strncpy(buf, (locale ? strerror_l(error, locale) : str), size - 1);
-	buf[size - 1] = '\0';
-	if (locale) {
-		freelocale(locale);
-	}
-	return buf;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/unjpeg.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/unjpeg.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/unjpeg.c	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/unjpeg.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,92 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "unjpeg.h"
-
-
-typedef struct {
-	struct jpeg_error_mgr	mgr; // Default manager
-	jmp_buf					jmp;
-	const frame_s			*frame;
-} _jpeg_error_manager_s;
-
-
-static void _jpeg_error_handler(j_common_ptr jpeg);
-
-
-int unjpeg(const frame_s *src, frame_s *dest, bool decode) {
-	assert(is_jpeg(src->format));
-
-	volatile int retval = 0;
-
-	struct jpeg_decompress_struct jpeg;
-	jpeg_create_decompress(&jpeg);
-
-	// https://stackoverflow.com/questions/19857766/error-handling-in-libjpeg
-	_jpeg_error_manager_s jpeg_error;
-	jpeg.err = jpeg_std_error((struct jpeg_error_mgr *)&jpeg_error);
-	jpeg_error.mgr.error_exit = _jpeg_error_handler;
-	jpeg_error.frame = src;
-	if (setjmp(jpeg_error.jmp) < 0) {
-		retval = -1;
-		goto done;
-	}
-
-	jpeg_mem_src(&jpeg, src->data, src->used);
-	jpeg_read_header(&jpeg, TRUE);
-	jpeg.out_color_space = JCS_RGB;
-
-	jpeg_start_decompress(&jpeg);
-
-	frame_copy_meta(src, dest);
-	dest->format = V4L2_PIX_FMT_RGB24;
-	dest->width = jpeg.output_width;
-	dest->height = jpeg.output_height;
-	dest->stride = jpeg.output_width * jpeg.output_components; // Row stride
-	dest->used = 0;
-
-	if (decode) {
-		JSAMPARRAY scanlines;
-		scanlines = (*jpeg.mem->alloc_sarray)((j_common_ptr) &jpeg, JPOOL_IMAGE, dest->stride, 1);
-
-		frame_realloc_data(dest, ((dest->width * dest->height) << 1) * 2);
-		while (jpeg.output_scanline < jpeg.output_height) {
-			jpeg_read_scanlines(&jpeg, scanlines, 1);
-			frame_append_data(dest, scanlines[0], dest->stride);
-		}
-
-		jpeg_finish_decompress(&jpeg);
-	}
-
-	done:
-		jpeg_destroy_decompress(&jpeg);
-		return retval;
-}
-
-static void _jpeg_error_handler(j_common_ptr jpeg) {
-	_jpeg_error_manager_s *jpeg_error = (_jpeg_error_manager_s *)jpeg->err;
-	char msg[JMSG_LENGTH_MAX];
-
-	(*jpeg_error->mgr.format_message)(jpeg, msg);
-	LOG_ERROR("Can't decompress JPEG: %s", msg);
-	longjmp(jpeg_error->jmp, -1);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/unjpeg.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/unjpeg.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/libs/unjpeg.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/libs/unjpeg.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,40 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdbool.h>
-#include <stdint.h>
-#include <setjmp.h>
-#include <assert.h>
-
-#include <sys/types.h>
-
-#include <jpeglib.h>
-#include <linux/videodev2.h>
-
-#include "logging.h"
-#include "frame.h"
-
-
-int unjpeg(const frame_s *src, frame_s *dest, bool decode);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/Makefile /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/Makefile	2023-12-15 01:51:35.122398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/Makefile	1969-12-31 19:00:00.000000000 -0500
@@ -1,120 +0,0 @@
-DESTDIR ?=
-PREFIX ?= /usr/local
-
-CC ?= gcc
-CFLAGS ?= -O3
-LDFLAGS ?=
-
-RPI_VC_HEADERS ?= /opt/vc/include
-RPI_VC_LIBS ?= /opt/vc/lib
-
-
-# =====
-_USTR = ustreamer.bin
-_DUMP = ustreamer-dump.bin
-
-_CFLAGS = -MD -c -std=c11 -Wall -Wextra -D_GNU_SOURCE $(CFLAGS)
-_LDFLAGS = $(LDFLAGS)
-
-_COMMON_LIBS = -lm -ljpeg -pthread -lrt
-
-_USTR_LIBS = $(_COMMON_LIBS) -levent -levent_pthreads
-_USTR_SRCS = $(shell ls \
-	libs/*.c \
-	ustreamer/*.c \
-	ustreamer/http/*.c \
-	ustreamer/data/*.c \
-	ustreamer/encoders/cpu/*.c \
-	ustreamer/encoders/hw/*.c \
-)
-
-_DUMP_LIBS = $(_COMMON_LIBS)
-_DUMP_SRCS = $(shell ls \
-	libs/*.c \
-	dump/*.c \
-)
-
-_BUILD = build
-
-
-define optbool
-$(filter $(shell echo $(1) | tr A-Z a-z), yes on 1)
-endef
-
-
-ifneq ($(call optbool,$(WITH_OMX)),)
-_USTR_LIBS += -lbcm_host -lvcos -lvcsm -lopenmaxil -lmmal -lmmal_core -lmmal_util -lmmal_vc_client -lmmal_components -L$(RPI_VC_LIBS)
-override _CFLAGS += -DWITH_OMX -DOMX_SKIP64BIT -I$(RPI_VC_HEADERS)
-_USTR_SRCS += $(shell ls \
-	ustreamer/encoders/omx/*.c \
-	ustreamer/h264/*.c \
-)
-endif
-
-
-ifneq ($(call optbool,$(WITH_GPIO)),)
-_USTR_LIBS += -lgpiod
-override _CFLAGS += -DWITH_GPIO
-_USTR_SRCS += $(shell ls ustreamer/gpio/*.c)
-endif
-
-
-ifneq ($(call optbool,$(WITH_SYSTEMD)),)
-_USTR_LIBS += -lsystemd
-override _CFLAGS += -DWITH_SYSTEMD
-_USTR_SRCS += $(shell ls ustreamer/http/systemd/*.c)
-endif
-
-
-WITH_PTHREAD_NP ?= 1
-ifneq ($(call optbool,$(WITH_PTHREAD_NP)),)
-override _CFLAGS += -DWITH_PTHREAD_NP
-endif
-
-
-WITH_SETPROCTITLE ?= 1
-ifneq ($(call optbool,$(WITH_SETPROCTITLE)),)
-ifeq ($(shell uname -s | tr A-Z a-z),linux)
-_USTR_LIBS += -lbsd
-endif
-override _CFLAGS += -DWITH_SETPROCTITLE
-endif
-
-
-# =====
-all: $(_USTR) $(_DUMP)
-
-
-install: all
-	mkdir -p $(DESTDIR)$(PREFIX)/bin
-	install -m755 $(_USTR) $(DESTDIR)$(PREFIX)/bin/$(subst .bin,,$(_USTR))
-	install -m755 $(_DUMP) $(DESTDIR)$(PREFIX)/bin/$(subst .bin,,$(_DUMP))
-
-
-install-strip: install
-	strip $(DESTDIR)$(PREFIX)/bin/$(subst .bin,,$(_USTR))
-	strip $(DESTDIR)$(PREFIX)/bin/$(subst .bin,,$(_DUMP))
-
-
-$(_USTR): $(_USTR_SRCS:%.c=$(_BUILD)/%.o)
-	$(info == LD $@)
-	@ $(CC) $^ -o $@ $(_LDFLAGS) $(_USTR_LIBS)
-
-
-$(_DUMP): $(_DUMP_SRCS:%.c=$(_BUILD)/%.o)
-	$(info == LD $@)
-	@ $(CC) $^ -o $@ $(_LDFLAGS) $(_DUMP_LIBS)
-
-
-$(_BUILD)/%.o: %.c
-	$(info -- CC $<)
-	@ mkdir -p $(dir $@) || true
-	@ $(CC) $< -o $@ $(_CFLAGS)
-
-
-clean:
-	rm -rf $(_USTR) $(_DUMP) $(_BUILD)
-
-
-_OBJS = $(_USTR_SRCS:%.c=$(_BUILD)/%.o) $(_DUMP_SRCS:%.c=$(_BUILD)/%.o)
--include $(_OBJS:%.o=%.d)
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/blank.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/blank.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/blank.c	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/blank.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,107 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "blank.h"
-
-
-static frame_s *_init_internal(void);
-static frame_s *_init_external(const char *path);
-
-
-frame_s *blank_frame_init(const char *path) {
-	frame_s *blank = NULL;
-
-	if (path && path[0] != '\0') {
-		blank = _init_external(path);
-	}
-
-	if (blank) {
-		LOG_INFO("Using external blank placeholder: %s", path);
-	} else {
-		blank = _init_internal();
-		LOG_INFO("Using internal blank placeholder");
-	}
-	return blank;
-}
-
-static frame_s *_init_internal(void) {
-	frame_s *blank = frame_init();
-	frame_set_data(blank, BLANK_JPEG_DATA, BLANK_JPEG_DATA_SIZE);
-	blank->width = BLANK_JPEG_WIDTH;
-	blank->height = BLANK_JPEG_HEIGHT;
-	blank->format = V4L2_PIX_FMT_JPEG;
-	return blank;
-}
-
-static frame_s *_init_external(const char *path) {
-	FILE *fp = NULL;
-
-	frame_s *blank = frame_init();
-	blank->format = V4L2_PIX_FMT_JPEG;
-
-	if ((fp = fopen(path, "rb")) == NULL) {
-		LOG_PERROR("Can't open blank placeholder '%s'", path);
-		goto error;
-	}
-
-#	define CHUNK_SIZE ((size_t)(100 * 1024))
-	while (true) {
-		if (blank->used + CHUNK_SIZE >= blank->allocated) {
-			frame_realloc_data(blank, blank->used + CHUNK_SIZE * 2);
-		}
-
-		size_t readed = fread(blank->data + blank->used, 1, CHUNK_SIZE, fp);
-		blank->used += readed;
-
-		if (readed < CHUNK_SIZE) {
-			if (feof(fp)) {
-				break;
-			} else {
-				LOG_PERROR("Can't read blank placeholder");
-				goto error;
-			}
-		}
-	}
-#	undef CHUNK_SIZE
-
-	frame_s *decoded = frame_init();
-	if (unjpeg(blank, decoded, false) < 0) {
-		frame_destroy(decoded);
-		goto error;
-	}
-	blank->width = decoded->width;
-	blank->height = decoded->height;
-	frame_destroy(decoded);
-
-	goto ok;
-
-	error:
-		frame_destroy(blank);
-		blank = NULL;
-
-	ok:
-		if (fp) {
-			fclose(fp);
-		}
-
-	return blank;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/blank.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/blank.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/blank.h	2023-12-15 01:51:35.134398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/blank.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,38 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdbool.h>
-
-#include <linux/videodev2.h>
-
-#include "../libs/tools.h"
-#include "../libs/logging.h"
-#include "../libs/frame.h"
-#include "../libs/unjpeg.h"
-
-#include "data/blank_jpeg.h"
-
-
-frame_s *blank_frame_init(const char *path);
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/blank.jpeg and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/blank.jpeg differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.c	2023-12-15 01:51:35.138398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,723 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-#include "blank_jpeg.h"
-
-
-const unsigned BLANK_JPEG_WIDTH = 640;
-const unsigned BLANK_JPEG_HEIGHT = 480;
-
-const size_t BLANK_JPEG_DATA_SIZE = 13845;
-const uint8_t BLANK_JPEG_DATA[] = {
-	0xFF, 0xD8, 0xFF, 0xE1, 0x09, 0x50, 0x68, 0x74, 0x74, 0x70, 0x3A, 0x2F, 0x2F, 0x6E, 0x73, 0x2E, 0x61, 0x64, 0x6F, 0x62,
-	0x65, 0x2E, 0x63, 0x6F, 0x6D, 0x2F, 0x78, 0x61, 0x70, 0x2F, 0x31, 0x2E, 0x30, 0x2F, 0x00, 0x3C, 0x3F, 0x78, 0x70, 0x61,
-	0x63, 0x6B, 0x65, 0x74, 0x20, 0x62, 0x65, 0x67, 0x69, 0x6E, 0x3D, 0x22, 0xEF, 0xBB, 0xBF, 0x22, 0x20, 0x69, 0x64, 0x3D,
-	0x22, 0x57, 0x35, 0x4D, 0x30, 0x4D, 0x70, 0x43, 0x65, 0x68, 0x69, 0x48, 0x7A, 0x72, 0x65, 0x53, 0x7A, 0x4E, 0x54, 0x63,
-	0x7A, 0x6B, 0x63, 0x39, 0x64, 0x22, 0x3F, 0x3E, 0x20, 0x3C, 0x78, 0x3A, 0x78, 0x6D, 0x70, 0x6D, 0x65, 0x74, 0x61, 0x20,
-	0x78, 0x6D, 0x6C, 0x6E, 0x73, 0x3A, 0x78, 0x3D, 0x22, 0x61, 0x64, 0x6F, 0x62, 0x65, 0x3A, 0x6E, 0x73, 0x3A, 0x6D, 0x65,
-	0x74, 0x61, 0x2F, 0x22, 0x20, 0x78, 0x3A, 0x78, 0x6D, 0x70, 0x74, 0x6B, 0x3D, 0x22, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
-	0x58, 0x4D, 0x50, 0x20, 0x43, 0x6F, 0x72, 0x65, 0x20, 0x35, 0x2E, 0x36, 0x2D, 0x63, 0x31, 0x33, 0x38, 0x20, 0x37, 0x39,
-	0x2E, 0x31, 0x35, 0x39, 0x38, 0x32, 0x34, 0x2C, 0x20, 0x32, 0x30, 0x31, 0x36, 0x2F, 0x30, 0x39, 0x2F, 0x31, 0x34, 0x2D,
-	0x30, 0x31, 0x3A, 0x30, 0x39, 0x3A, 0x30, 0x31, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x3E, 0x20, 0x3C,
-	0x72, 0x64, 0x66, 0x3A, 0x52, 0x44, 0x46, 0x20, 0x78, 0x6D, 0x6C, 0x6E, 0x73, 0x3A, 0x72, 0x64, 0x66, 0x3D, 0x22, 0x68,
-	0x74, 0x74, 0x70, 0x3A, 0x2F, 0x2F, 0x77, 0x77, 0x77, 0x2E, 0x77, 0x33, 0x2E, 0x6F, 0x72, 0x67, 0x2F, 0x31, 0x39, 0x39,
-	0x39, 0x2F, 0x30, 0x32, 0x2F, 0x32, 0x32, 0x2D, 0x72, 0x64, 0x66, 0x2D, 0x73, 0x79, 0x6E, 0x74, 0x61, 0x78, 0x2D, 0x6E,
-	0x73, 0x23, 0x22, 0x3E, 0x20, 0x3C, 0x72, 0x64, 0x66, 0x3A, 0x44, 0x65, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74, 0x69, 0x6F,
-	0x6E, 0x20, 0x72, 0x64, 0x66, 0x3A, 0x61, 0x62, 0x6F, 0x75, 0x74, 0x3D, 0x22, 0x22, 0x2F, 0x3E, 0x20, 0x3C, 0x2F, 0x72,
-	0x64, 0x66, 0x3A, 0x52, 0x44, 0x46, 0x3E, 0x20, 0x3C, 0x2F, 0x78, 0x3A, 0x78, 0x6D, 0x70, 0x6D, 0x65, 0x74, 0x61, 0x3E,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
-	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x3C, 0x3F, 0x78, 0x70, 0x61, 0x63, 0x6B, 0x65, 0x74, 0x20, 0x65,
-	0x6E, 0x64, 0x3D, 0x22, 0x77, 0x22, 0x3F, 0x3E, 0xFF, 0xED, 0x00, 0x2C, 0x50, 0x68, 0x6F, 0x74, 0x6F, 0x73, 0x68, 0x6F,
-	0x70, 0x20, 0x33, 0x2E, 0x30, 0x00, 0x38, 0x42, 0x49, 0x4D, 0x04, 0x25, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0xD4, 0x1D,
-	0x8C, 0xD9, 0x8F, 0x00, 0xB2, 0x04, 0xE9, 0x80, 0x09, 0x98, 0xEC, 0xF8, 0x42, 0x7E, 0xFF, 0xDB, 0x00, 0x84, 0x00, 0x01,
-	0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
-	0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
-	0x01, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
-	0x03, 0x03, 0x03, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x01, 0x01, 0x02, 0x02, 0x02, 0x01, 0x02, 0x02, 0x03,
-	0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
-	0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
-	0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0xFF, 0xDD, 0x00, 0x04, 0x00, 0x50, 0xFF, 0xEE, 0x00, 0x0E, 0x41, 0x64,
-	0x6F, 0x62, 0x65, 0x00, 0x64, 0xC0, 0x00, 0x00, 0x00, 0x01, 0xFF, 0xC0, 0x00, 0x11, 0x08, 0x01, 0xE0, 0x02, 0x80, 0x03,
-	0x00, 0x11, 0x00, 0x01, 0x11, 0x01, 0x02, 0x11, 0x01, 0xFF, 0xC4, 0x00, 0x7D, 0x00, 0x01, 0x00, 0x02, 0x03, 0x01, 0x01,
-	0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0A, 0x0B, 0x07, 0x08, 0x09, 0x05, 0x06, 0x02, 0x03,
-	0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10,
-	0x01, 0x00, 0x01, 0x04, 0x02, 0x01, 0x03, 0x02, 0x03, 0x04, 0x08, 0x04, 0x06, 0x03, 0x00, 0x00, 0x00, 0x03, 0x02, 0x04,
-	0x05, 0x06, 0x01, 0x07, 0x08, 0x09, 0x11, 0x12, 0x0A, 0x13, 0x14, 0x21, 0x22, 0x15, 0x37, 0x77, 0xB6, 0x16, 0x23, 0x31,
-	0x35, 0x39, 0x41, 0x75, 0xB4, 0x17, 0x38, 0xB5, 0xB7, 0x18, 0x1A, 0x24, 0x32, 0x51, 0x78, 0x56, 0x97, 0xD4, 0x11, 0x01,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xDA, 0x00, 0x0C,
-	0x03, 0x00, 0x00, 0x01, 0x11, 0x02, 0x11, 0x00, 0x3F, 0x00, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x07, 0xFF, 0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD5, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD6, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD7, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD3, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x07, 0xFF, 0xD5, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD6, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD7, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD5, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD6, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x07, 0xFF, 0xD7, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
-	0xFF, 0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x06, 0x4C, 0xE9, 0x5B, 0x0B, 0x1C, 0xAF, 0x71, 0xF5, 0x2E, 0x2F, 0x29, 0x65, 0x69, 0x92, 0xC6, 0x64, 0xBB, 0x33,
-	0x43, 0xB0, 0xC8, 0xE3, 0xAF, 0xED, 0xA1, 0xBC, 0xB1, 0xBF, 0xB1, 0xBC, 0xDA, 0x71, 0x56, 0xF7, 0x76, 0x57, 0xB6, 0x97,
-	0x14, 0x49, 0x6F, 0x75, 0x69, 0x75, 0x6F, 0x25, 0x54, 0x49, 0x1D, 0x74, 0xD5, 0x45, 0x74, 0x55, 0xCD, 0x35, 0x71, 0xCF,
-	0x1C, 0xF3, 0xC0, 0x24, 0x45, 0xEB, 0x5F, 0xE9, 0x19, 0x61, 0xD4, 0x3F, 0xB6, 0x7C, 0xBB, 0xF1, 0x67, 0x4E, 0xB6, 0xC6,
-	0x75, 0x4C, 0x95, 0x47, 0x71, 0xDC, 0x5D, 0x53, 0xAA, 0xE3, 0x20, 0xB3, 0xC6, 0x75, 0x94, 0xF5, 0x71, 0x15, 0xBF, 0xF4,
-	0xE7, 0x4D, 0xC2, 0x63, 0xA0, 0x8A, 0x1B, 0x1D, 0x02, 0xF6, 0x5F, 0x6E, 0x72, 0x56, 0x50, 0x51, 0xF6, 0xF0, 0xD3, 0xD7,
-	0xF7, 0xE2, 0xA6, 0x9B, 0x0A, 0xEB, 0xA2, 0xC4, 0x23, 0x22, 0x0D, 0xD8, 0xF4, 0xE3, 0xEB, 0xED, 0x2F, 0xB5, 0xBC, 0xE3,
-	0xF1, 0xA7, 0xAE, 0xBB, 0x17, 0x5C, 0xC7, 0x6D, 0xBA, 0x46, 0xDD, 0xD9, 0x36, 0x38, 0x7D, 0x97, 0x5B, 0xCB, 0x47, 0x5C,
-	0xB8, 0xDC, 0xC6, 0x36, 0x6B, 0x0C, 0x85, 0x72, 0x59, 0xDD, 0xD1, 0x1C, 0x91, 0x49, 0xCC, 0x55, 0x57, 0x1D, 0x3C, 0xFE,
-	0x9A, 0xA9, 0xE7, 0x8E, 0x78, 0xE3, 0x9E, 0x39, 0x06, 0xF5, 0xFA, 0xF4, 0x78, 0xE9, 0xD2, 0x3E, 0x34, 0xF9, 0x4D, 0xD5,
-	0x7A, 0x6F, 0x44, 0x75, 0xBE, 0xBB, 0xD6, 0x3A, 0xBE, 0x6B, 0xA0, 0x30, 0xBB, 0x3E, 0x57, 0x0B, 0xAD, 0x45, 0x73, 0x0D,
-	0x95, 0xEE, 0x7E, 0xE3, 0xB1, 0x7B, 0x23, 0x15, 0x36, 0x52, 0x6A, 0x6E, 0xAE, 0x6E, 0x6B, 0xE6, 0xEA, 0x4C, 0x76, 0x26,
-	0xDA, 0x2E, 0x79, 0xE2, 0xAE, 0x38, 0xF8, 0x43, 0x4F, 0xE5, 0xFF, 0x00, 0xC8, 0x6B, 0xE7, 0xA6, 0xFF, 0x00, 0xA5, 0xD7,
-	0x6F, 0xFA, 0x83, 0xED, 0x57, 0xD7, 0xF8, 0xEB, 0xFE, 0x3A, 0xE7, 0xA3, 0xB5, 0x1C, 0x8C, 0x56, 0x3B, 0xCF, 0x6B, 0x64,
-	0x71, 0xF5, 0xE4, 0x3E, 0x59, 0x0A, 0xA0, 0xA6, 0xEB, 0x8D, 0x57, 0x49, 0xC4, 0x73, 0x35, 0xA5, 0x1B, 0x1E, 0xD3, 0x25,
-	0xBC, 0x91, 0xD7, 0x3F, 0xCA, 0x68, 0x6D, 0x31, 0xD6, 0xF2, 0xD3, 0x2C, 0xF5, 0xF3, 0x5D, 0x76, 0xF6, 0xF7, 0x01, 0xDA,
-	0xEE, 0xC7, 0x83, 0xD0, 0x8F, 0xD3, 0x07, 0x27, 0xFF, 0x00, 0x0E, 0x76, 0x0E, 0xA9, 0xAF, 0xCA, 0xCE, 0xF4, 0xD7, 0x61,
-	0xAE, 0xD3, 0x69, 0xC6, 0x65, 0x31, 0x98, 0xCE, 0xEE, 0xCB, 0x58, 0xE5, 0xE1, 0xB3, 0xBE, 0xB0, 0xA6, 0x1D, 0xEA, 0xDF,
-	0x71, 0xC9, 0xE0, 0xBA, 0x47, 0x57, 0xBF, 0xAA, 0x6B, 0xA9, 0x7F, 0x11, 0x8F, 0xB1, 0xB2, 0xFD, 0xA3, 0x67, 0x55, 0x31,
-	0xCD, 0x2D, 0x9F, 0xDC, 0x8E, 0xD6, 0xAE, 0x43, 0x15, 0xEA, 0xFE, 0xA3, 0x9E, 0x87, 0x9D, 0xD5, 0x2D, 0x3A, 0x2F, 0x73,
-	0xFA, 0x79, 0xEB, 0x1D, 0x25, 0x84, 0xCA, 0xDF, 0x5B, 0xC1, 0x46, 0xE7, 0xAB, 0x74, 0xDF, 0x5C, 0x5B, 0x59, 0x63, 0x20,
-	0xB8, 0xB7, 0xBB, 0xB4, 0xBA, 0xBE, 0xCD, 0xEC, 0x5D, 0x39, 0xCE, 0xAD, 0xD9, 0xD8, 0xCB, 0x7B, 0x5A, 0x2E, 0x7E, 0x54,
-	0xD1, 0x8C, 0xB4, 0xC8, 0xD7, 0x55, 0x5E, 0xD2, 0xF1, 0x4D, 0x32, 0x45, 0x1F, 0x20, 0xF1, 0xFC, 0xCA, 0xF4, 0x2E, 0xEB,
-	0xAD, 0xBF, 0xAB, 0x6B, 0xF2, 0x77, 0xD3, 0x43, 0x7A, 0xA7, 0xB2, 0xB4, 0x6B, 0xDC, 0x3D, 0xCE, 0xD3, 0x1F, 0x52, 0xF1,
-	0xB2, 0x45, 0xBA, 0xC1, 0x9C, 0xC2, 0x5A, 0xD1, 0x27, 0x37, 0x55, 0x75, 0x06, 0xEB, 0x45, 0x73, 0x64, 0x32, 0xB9, 0x1B,
-	0x0F, 0xC3, 0x57, 0x4D, 0x78, 0x3C, 0xBC, 0xB7, 0x59, 0x09, 0xAE, 0x28, 0x96, 0x28, 0xEE, 0xF9, 0xB9, 0xA6, 0x3B, 0x2A,
-	0xC2, 0x30, 0x12, 0x47, 0x24, 0x52, 0x57, 0x14, 0xB4, 0x57, 0x14, 0xB1, 0x57, 0x54, 0x72, 0x47, 0x25, 0x3C, 0xD1, 0x24,
-	0x72, 0x51, 0xCF, 0x34, 0xD7, 0x45, 0x74, 0x55, 0xC7, 0x15, 0x51, 0x5D, 0x15, 0x71, 0xCF, 0x1C, 0xF1, 0xCF, 0x1E, 0xFC,
-	0x72, 0x0F, 0xC0, 0x3A, 0x19, 0xE9, 0xA3, 0xE0, 0x76, 0x6B, 0xD4, 0x03, 0xC8, 0x9B, 0x6E, 0xAE, 0xE7, 0x33, 0x79, 0xAA,
-	0x75, 0xDE, 0xAB, 0x85, 0x97, 0x75, 0xED, 0x5D, 0xBB, 0x1F, 0x14, 0x32, 0x64, 0xF1, 0x7A, 0xAD, 0xB5, 0xF5, 0x9E, 0x3A,
-	0x1C, 0x56, 0xBD, 0xC5, 0xE4, 0x17, 0x18, 0xFA, 0xB6, 0x8D, 0x8F, 0x25, 0x7D, 0x1D, 0xBD, 0xA7, 0xDF, 0xA2, 0xB8, 0xE0,
-	0x8B, 0x89, 0xEE, 0xAA, 0x8E, 0x6A, 0x6D, 0xEA, 0x86, 0xB0, 0x90, 0x37, 0x92, 0x7D, 0xB9, 0xE8, 0xB9, 0xE9, 0x95, 0x9B,
-	0x8F, 0xC7, 0x5B, 0x0F, 0x0C, 0x74, 0x8F, 0x21, 0x3B, 0x3F, 0x09, 0x69, 0x8C, 0x9F, 0x70, 0xB4, 0xCB, 0xE9, 0x1A, 0x5F,
-	0x67, 0xDF, 0xEB, 0x52, 0x5E, 0x5B, 0x71, 0x91, 0x86, 0x9D, 0xC3, 0xB1, 0x7B, 0x82, 0xBC, 0xFD, 0xF5, 0xAE, 0xC9, 0x95,
-	0xB5, 0xC8, 0x53, 0x77, 0xC6, 0x3B, 0x19, 0x0C, 0x90, 0x43, 0x0C, 0x94, 0x53, 0x5D, 0x36, 0x91, 0xD3, 0x6F, 0x10, 0x3F,
-	0x5B, 0x0F, 0x40, 0xFA, 0x35, 0xFA, 0x99, 0x78, 0xCF, 0xDA, 0x3D, 0xD7, 0xD2, 0xB0, 0x6A, 0x9E, 0x21, 0x6D, 0x5D, 0x51,
-	0x87, 0x97, 0x2B, 0xB9, 0x6C, 0x18, 0xDD, 0x73, 0x0F, 0xD6, 0x37, 0xBD, 0x51, 0x27, 0x18, 0xDA, 0xB8, 0xC4, 0xCB, 0xD8,
-	0xFD, 0x51, 0xAF, 0xE4, 0xB9, 0xEB, 0xFD, 0x9B, 0x4F, 0xCE, 0xF3, 0x8E, 0xA7, 0xED, 0x5C, 0x62, 0x6A, 0xAA, 0x6B, 0xDB,
-	0x88, 0xE5, 0x86, 0xD6, 0xFA, 0x3B, 0xDE, 0x6E, 0xA1, 0xE4, 0x38, 0x81, 0xE8, 0xDF, 0xD6, 0xDD, 0x77, 0xD8, 0xFE, 0xA4,
-	0x7D, 0x35, 0xD7, 0xDD, 0x89, 0xAA, 0xE8, 0xFD, 0xB3, 0xA1, 0xDE, 0xDB, 0x77, 0x0C, 0x77, 0xD8, 0x3D, 0xC3, 0x56, 0xB1,
-	0xDA, 0x74, 0xDD, 0x8E, 0x8C, 0x3F, 0x53, 0xEF, 0x97, 0xD8, 0x9C, 0x8C, 0xDA, 0xDE, 0xE1, 0x88, 0xAE, 0x1B, 0x88, 0x63,
-	0xBE, 0xB2, 0x86, 0xF2, 0xD7, 0x8B, 0xBB, 0x3A, 0x27, 0x86, 0x5A, 0x28, 0xAF, 0x9A, 0x23, 0x96, 0x9F, 0x6A, 0x43, 0xEB,
-	0xFD, 0x72, 0xFA, 0xCB, 0xAD, 0xFA, 0x93, 0xCF, 0x7D, 0x8F, 0x4E, 0xEA, 0x9E, 0xBE, 0xD2, 0x3A, 0xCB, 0x51, 0x83, 0xAC,
-	0xFA, 0xDA, 0xFE, 0x0D, 0x5B, 0xAF, 0x75, 0x3C, 0x0E, 0x97, 0xAE, 0x43, 0x7D, 0x7D, 0x8B, 0xBA, 0x92, 0xFA, 0xF6, 0x2C,
-	0x1E, 0xB9, 0x61, 0x8D, 0xC6, 0x47, 0x77, 0x79, 0x25, 0x3C, 0x55, 0x2C, 0x9C, 0x45, 0xC5, 0x72, 0x73, 0xC7, 0xBD, 0x5C,
-	0xF3, 0xC8, 0x35, 0xA7, 0xC0, 0x5F, 0x4F, 0xEE, 0xE3, 0xF5, 0x01, 0xED, 0x59, 0xF4, 0x3E, 0xBA, 0xAE, 0xDB, 0x58, 0xD3,
-	0xF5, 0x98, 0x6D, 0x32, 0x5D, 0x99, 0xDA, 0x59, 0xAB, 0x39, 0xEF, 0x35, 0xED, 0x17, 0x11, 0x7B, 0x24, 0xD4, 0x59, 0x51,
-	0xC5, 0x94, 0x13, 0x5A, 0xCD, 0x9F, 0xD9, 0xF3, 0x55, 0x5B, 0x4B, 0x46, 0x3B, 0x17, 0x14, 0xD0, 0xD7, 0x73, 0x54, 0x52,
-	0x57, 0x24, 0xB0, 0x5B, 0x45, 0x3D, 0xC4, 0x41, 0x22, 0xCE, 0xC0, 0xEA, 0x0F, 0x43, 0xCF, 0x4A, 0x3B, 0x4C, 0x56, 0xA9,
-	0xDC, 0xDA, 0x87, 0xFE, 0x24, 0x7B, 0xD2, 0x28, 0xAC, 0xEF, 0xF2, 0x9A, 0xEE, 0xC5, 0x8C, 0xB0, 0xEE, 0x6E, 0xC0, 0xB8,
-	0x8E, 0x4B, 0x39, 0x66, 0x8A, 0xEF, 0x33, 0xA2, 0xE5, 0x32, 0x1A, 0xFF, 0x00, 0x4C, 0xE8, 0xF8, 0xA9, 0x69, 0xBC, 0xF9,
-	0xDA, 0xDA, 0xE4, 0x28, 0xB3, 0xBC, 0xBB, 0x86, 0x68, 0xA4, 0xF7, 0xBC, 0xA6, 0x1F, 0xBF, 0x18, 0x60, 0xAD, 0x2F, 0xD4,
-	0xD7, 0xD1, 0x2F, 0xB3, 0xAF, 0xE6, 0xD3, 0x3B, 0x67, 0xD3, 0x9F, 0x48, 0xE9, 0xDD, 0x77, 0x31, 0x73, 0x61, 0x04, 0x7B,
-	0xB6, 0x1B, 0xA1, 0x7A, 0x7F, 0x23, 0x6F, 0x8C, 0x8A, 0x2B, 0x9A, 0xAE, 0xE6, 0xBC, 0xCC, 0xE4, 0x3A, 0xDA, 0xC7, 0x0B,
-	0xD8, 0x98, 0x4B, 0x68, 0x6B, 0xB5, 0x86, 0x9E, 0x78, 0xC3, 0xDB, 0xE4, 0xA6, 0xB9, 0xA2, 0x49, 0x22, 0x92, 0x8E, 0x22,
-	0xF9, 0x71, 0x20, 0x63, 0x8F, 0x52, 0xDF, 0x4B, 0xCF, 0x07, 0x35, 0x5F, 0x19, 0x24, 0xF3, 0x77, 0xC3, 0x5E, 0xEE, 0xD6,
-	0x35, 0x8D, 0x06, 0xE3, 0x9C, 0x75, 0x38, 0x9D, 0x16, 0xF7, 0x74, 0x9F, 0x75, 0xD1, 0xBB, 0x0A, 0xEA, 0xFE, 0xEA, 0x58,
-	0xEB, 0xC2, 0x75, 0xB6, 0xC7, 0x7D, 0x79, 0x95, 0xDB, 0x71, 0xDB, 0xD5, 0xAD, 0x31, 0xCF, 0x54, 0xD8, 0x8B, 0xD9, 0x6F,
-	0x78, 0xA7, 0x9B, 0x49, 0x63, 0x93, 0xF0, 0x1C, 0xC1, 0x2F, 0x20, 0xC1, 0x3E, 0x85, 0x7E, 0x2D, 0x74, 0x8F, 0x97, 0x1B,
-	0x57, 0x96, 0x9D, 0x59, 0xDD, 0xFA, 0x46, 0x1B, 0x6A, 0xC3, 0xE4, 0x3A, 0x53, 0x0B, 0x6F, 0x84, 0xCD, 0x4F, 0x8E, 0xC7,
-	0x49, 0xB5, 0xE8, 0x99, 0x6C, 0x86, 0xCF, 0x55, 0xBD, 0x1B, 0x4E, 0x85, 0x9F, 0xBB, 0xB3, 0xBA, 0xBB, 0xD6, 0x76, 0x4B,
-	0x2A, 0xA9, 0xA2, 0xAA, 0x67, 0x83, 0xF4, 0x4D, 0x4D, 0x1F, 0x66, 0xE2, 0x89, 0xAD, 0xEB, 0x92, 0x1A, 0xC3, 0x9D, 0x3E,
-	0x77, 0x78, 0x45, 0xDA, 0x3E, 0x07, 0xF7, 0x96, 0x5B, 0xA9, 0xBB, 0x02, 0x19, 0x72, 0x9A, 0xFD, 0xF7, 0x17, 0x19, 0xAE,
-	0xB2, 0xEC, 0x2B, 0x7B, 0x4A, 0xE0, 0xC2, 0x76, 0x0E, 0x9D, 0xCD, 0xCD, 0x51, 0x5B, 0x64, 0xED, 0x3F, 0x54, 0xB1, 0xD9,
-	0x66, 0xF1, 0xD5, 0x73, 0x4C, 0x19, 0x4C, 0x7D, 0x55, 0xD5, 0x2D, 0x95, 0xD7, 0xF9, 0xD7, 0x04, 0xB6, 0xF3, 0xCC, 0x1A,
-	0x5A, 0x09, 0x44, 0xFA, 0x03, 0xF8, 0x73, 0xE3, 0x0F, 0x93, 0x7D, 0x45, 0xE4, 0x06, 0x6F, 0xBE, 0xFA, 0x5F, 0x4D, 0xED,
-	0x0C, 0xB6, 0xAF, 0xD8, 0xFA, 0xC6, 0x2B, 0x5F, 0xBF, 0xD9, 0xAD, 0xAF, 0x26, 0xB8, 0xC5, 0xE3, 0xAF, 0x75, 0x89, 0x6E,
-	0xEE, 0xAD, 0x2D, 0xAB, 0xB5, 0xBC, 0xB5, 0xF6, 0x86, 0x6B, 0x9A, 0x38, 0xAF, 0x9E, 0x2A, 0xE2, 0xAF, 0xD5, 0xFD, 0x9E,
-	0xDE, 0xFC, 0xFB, 0x84, 0x62, 0x33, 0x10, 0xC7, 0x6F, 0x97, 0xCA, 0xC1, 0x0D, 0x1C, 0x47, 0x0C, 0x19, 0x2B, 0xE8, 0x62,
-	0x8E, 0x9F, 0x7F, 0x6A, 0x23, 0x8E, 0xE6, 0x5A, 0x23, 0xA3, 0x8F, 0x7F, 0x7E, 0x7D, 0xA9, 0xA6, 0x9E, 0x38, 0x07, 0x9A,
-	0x09, 0x48, 0xFA, 0x14, 0x7A, 0x66, 0xF5, 0x9F, 0x79, 0xF4, 0xF7, 0x72, 0x79, 0x05, 0xE4, 0x87, 0x5E, 0x61, 0x77, 0x3D,
-	0x47, 0xB2, 0xB1, 0x99, 0xDE, 0x9B, 0xEA, 0x5C, 0x5E, 0xC9, 0x88, 0xB0, 0xC8, 0xFE, 0x03, 0x1B, 0x17, 0xCE, 0xDB, 0x7E,
-	0xEC, 0xDD, 0x66, 0x4C, 0x84, 0x17, 0xB1, 0xE2, 0x76, 0x5B, 0x4C, 0xD5, 0x11, 0x63, 0x30, 0xD9, 0x6B, 0x7A, 0x62, 0xBF,
-	0xC6, 0x5D, 0x63, 0xEF, 0xF9, 0x8A, 0xBA, 0x7E, 0xE7, 0x1C, 0x82, 0x3D, 0xDE, 0x53, 0x78, 0xF1, 0xB9, 0x78, 0xA7, 0xDF,
-	0xFD, 0x9F, 0xD0, 0x7B, 0xD4, 0x33, 0x7E, 0xD8, 0xEB, 0xDD, 0x9A, 0xF7, 0x17, 0x67, 0x93, 0x92, 0xD6, 0x4B, 0x4B, 0x7D,
-	0x9B, 0x5B, 0x96, 0xAF, 0xC5, 0xEA, 0xDB, 0x6E, 0x3A, 0x29, 0x3D, 0xF9, 0xE3, 0x1D, 0xB3, 0xE0, 0x27, 0xB7, 0xBD, 0x8B,
-	0x8F, 0x7E, 0x79, 0x8F, 0x89, 0xBE, 0xDD, 0x5E, 0xD5, 0xD1, 0x57, 0x1C, 0x06, 0xBF, 0x82, 0x57, 0x7F, 0x4E, 0xFF, 0x00,
-	0x8E, 0x9E, 0x3E, 0x77, 0x67, 0x4E, 0x79, 0x17, 0x94, 0xEE, 0x5E, 0x8A, 0xE9, 0xBE, 0xDB, 0xC9, 0xE1, 0x3B, 0x33, 0x54,
-	0xB0, 0xC2, 0xE4, 0x7B, 0x3B, 0xAC, 0x74, 0x9D, 0xF6, 0xFB, 0x11, 0x63, 0x71, 0xAB, 0x4F, 0x71, 0x71, 0x65, 0x8B, 0xBB,
-	0xDA, 0xB0, 0x79, 0x6B, 0x8C, 0x7D, 0xA4, 0xF7, 0x1C, 0x71, 0x5D, 0x71, 0xC5, 0x55, 0x14, 0x55, 0x5F, 0x1F, 0x2E, 0x78,
-	0xE7, 0x9F, 0xCC, 0x11, 0x57, 0xCD, 0xC7, 0x1C, 0x59, 0x9C, 0xBC, 0x51, 0x51, 0x44, 0x51, 0x45, 0x93, 0xBF, 0x8E, 0x38,
-	0xE3, 0xA7, 0x8A, 0x23, 0x8E, 0x3A, 0x2E, 0xA5, 0xA6, 0x8A, 0x28, 0xA2, 0x9E, 0x38, 0xA6, 0x8A, 0x28, 0xA7, 0x8E, 0x38,
-	0xE3, 0x8E, 0x38, 0xF6, 0xE3, 0x80, 0x79, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x57, 0xE8, 0x6F, 0xDF, 0x97, 0x4C, 0xFF, 0x00, 0x15, 0xFA, 0xEF, 0xF9,
-	0xBF, 0x0E, 0x0B, 0x0F, 0x7C, 0xC4, 0xF3, 0x8B, 0xAA, 0x7C, 0x4D, 0xED, 0x0F, 0x1B, 0x7A, 0xDB, 0xBC, 0xEC, 0x31, 0x90,
-	0x75, 0x47, 0x93, 0x95, 0xF6, 0x96, 0x95, 0x9E, 0xDD, 0x33, 0x1F, 0x66, 0x6C, 0x26, 0x9F, 0x96, 0xC1, 0x45, 0xA0, 0xC1,
-	0x84, 0xE7, 0x6D, 0xB2, 0xBB, 0xA2, 0x4B, 0x09, 0x34, 0x5D, 0x82, 0x3D, 0xBE, 0xEA, 0xD3, 0x29, 0x3C, 0xDC, 0x73, 0x1D,
-	0x9F, 0x15, 0x45, 0x34, 0xBE, 0xD6, 0xB4, 0xDC, 0x55, 0x48, 0x45, 0x0F, 0xD6, 0x3B, 0xD2, 0xB2, 0xEF, 0xC3, 0xFD, 0xBA,
-	0x6E, 0xFE, 0xE8, 0xEC, 0x54, 0xF9, 0x2F, 0x17, 0x7B, 0x0B, 0x33, 0xF2, 0x92, 0xCA, 0xC2, 0x9A, 0xEE, 0xFF, 0x00, 0xE0,
-	0xBE, 0xD1, 0x99, 0x9A, 0xB9, 0xAD, 0xB5, 0x8B, 0xE9, 0x69, 0xAA, 0x5A, 0xEB, 0xD1, 0x33, 0x32, 0x57, 0xED, 0x83, 0xC8,
-	0x57, 0xCF, 0x34, 0xC3, 0x5F, 0x3C, 0x58, 0x5C, 0x55, 0xC4, 0xDF, 0x84, 0x96, 0xF4, 0x34, 0xC3, 0xD2, 0x8B, 0xFC, 0x46,
-	0x3C, 0x46, 0xFE, 0x2D, 0xE3, 0x3F, 0xE9, 0xD9, 0x30, 0x74, 0xFF, 0x00, 0xEA, 0x34, 0xD7, 0x72, 0x9B, 0x7F, 0x9E, 0x1E,
-	0x3B, 0x6A, 0x78, 0x48, 0xA8, 0xB8, 0xCD, 0x6D, 0x1E, 0x3F, 0xE9, 0x3A, 0xEE, 0x22, 0x09, 0x24, 0xA6, 0x18, 0xE6, 0xCA,
-	0x66, 0xBB, 0x93, 0xB4, 0x71, 0xB8, 0xF8, 0xAB, 0x96, 0xAF, 0xD3, 0x15, 0x12, 0x5D, 0xDC, 0xD1, 0xC7, 0x35, 0x73, 0xF9,
-	0x53, 0xC7, 0x3E, 0xE0, 0xEA, 0xF7, 0xA8, 0x47, 0x67, 0xD9, 0xFA, 0x4A, 0xFA, 0x63, 0xF5, 0xFF, 0x00, 0x49, 0x78, 0xF7,
-	0x3C, 0x78, 0x1D, 0xEB, 0x3D, 0x06, 0x2F, 0xA5, 0xB4, 0xCD, 0xA2, 0xCE, 0xDE, 0x2B, 0x7C, 0x95, 0xAE, 0x46, 0xFB, 0x15,
-	0x7F, 0x9E, 0xED, 0x4E, 0xD8, 0xAE, 0x88, 0xFE, 0xD7, 0x1C, 0x6C, 0xB9, 0x4A, 0xA1, 0xBB, 0x96, 0x39, 0xE9, 0xE7, 0xE5,
-	0x6B, 0x95, 0xCB, 0x43, 0x35, 0x34, 0xF3, 0x44, 0x3F, 0x00, 0x41, 0x76, 0x69, 0xA6, 0xB9, 0x9A, 0x5B, 0x8B, 0x89, 0x64,
-	0x9E, 0xE2, 0x79, 0x2B, 0x9A, 0x79, 0xE6, 0xAE, 0xB9, 0x66, 0x9A, 0x69, 0x6B, 0xE6, 0xB9, 0x65, 0x96, 0x5A, 0xF9, 0xAA,
-	0xB9, 0x24, 0x92, 0xBA, 0xB9, 0xE6, 0xAA, 0xB9, 0xE7, 0x9E, 0x79, 0xE7, 0x9F, 0x7E, 0x41, 0xFC, 0xC1, 0xDF, 0xBF, 0x40,
-	0x9F, 0x36, 0x76, 0xBE, 0x97, 0xF2, 0x73, 0x13, 0xE3, 0x0E, 0xC5, 0x99, 0xBC, 0xBC, 0xE9, 0xDF, 0x21, 0x6E, 0xAE, 0xB1,
-	0xD8, 0xEC, 0x3D, 0xD4, 0xF2, 0x4D, 0x65, 0xA9, 0x76, 0xBD, 0xAE, 0x36, 0x7B, 0xBD, 0x73, 0x3F, 0x88, 0x8A, 0x49, 0x79,
-	0xA2, 0xC3, 0x8D, 0xAE, 0x3B, 0x1E, 0x71, 0x17, 0xF1, 0xC3, 0x47, 0x1F, 0x8B, 0x96, 0x6B, 0x29, 0x24, 0xE7, 0xDA, 0xD6,
-	0x90, 0x7C, 0x6F, 0xAF, 0xBF, 0x8B, 0x9A, 0xF7, 0x40, 0x79, 0x9F, 0x47, 0x60, 0x69, 0x58, 0xEB, 0x6C, 0x4E, 0xA9, 0xE4,
-	0x7E, 0xB3, 0x37, 0x65, 0xDD, 0xE3, 0x2D, 0x22, 0xAE, 0x1B, 0x5B, 0x2E, 0xC5, 0xB5, 0xCB, 0x5C, 0xE2, 0xFB, 0x0E, 0xAB,
-	0x68, 0xFE, 0x1C, 0xC5, 0xF6, 0xF3, 0x97, 0x75, 0x5A, 0x66, 0x26, 0xE7, 0x8A, 0xF9, 0xE7, 0x9B, 0xDC, 0x9C, 0xFC, 0x7C,
-	0x28, 0xA3, 0x88, 0xF8, 0xA8, 0x38, 0x6C, 0x09, 0x2C, 0x7D, 0x34, 0x7D, 0x9B, 0xA8, 0x6B, 0x9E, 0x41, 0xF7, 0xF7, 0x58,
-	0x66, 0xB2, 0x56, 0x76, 0x1B, 0x5F, 0x66, 0xF5, 0xBE, 0xB5, 0x95, 0xD2, 0xED, 0xEE, 0xE6, 0xA2, 0x09, 0x33, 0x55, 0x75,
-	0xF6, 0x5F, 0x31, 0x75, 0xB0, 0xE2, 0x71, 0xBC, 0x49, 0x4F, 0x1F, 0x8B, 0xC9, 0x51, 0x8B, 0xD8, 0xF8, 0xBE, 0xFB, 0x14,
-	0x55, 0xF7, 0x39, 0xB4, 0xB2, 0x9E, 0x5E, 0x29, 0xAA, 0x88, 0x64, 0xAA, 0x80, 0xD3, 0x5F, 0x58, 0x8F, 0x07, 0x7C, 0x87,
-	0xE8, 0xCF, 0x2B, 0xBB, 0xCB, 0xBB, 0x36, 0x2D, 0x4F, 0x66, 0xDA, 0x7A, 0x67, 0xB8, 0xBB, 0x2F, 0x69, 0xEC, 0x6D, 0x5F,
-	0xB5, 0xF1, 0x76, 0x17, 0xB9, 0x8D, 0x67, 0x19, 0x1E, 0xE9, 0x97, 0xB9, 0xCE, 0x53, 0xA5, 0x6C, 0xF9, 0x3B, 0x68, 0xA6,
-	0x8B, 0x54, 0xCB, 0xEB, 0x72, 0xDE, 0x57, 0x61, 0x69, 0x6F, 0x7D, 0xCC, 0x1C, 0x5E, 0x5A, 0x5A, 0x53, 0x25, 0xAF, 0x32,
-	0x51, 0x4D, 0x7F, 0x6C, 0x38, 0xE2, 0x0E, 0xBD, 0x7A, 0x12, 0xFF, 0x00, 0x89, 0xEF, 0x8F, 0xBF, 0xE9, 0x3D, 0xCB, 0xFF,
-	0x00, 0x64, 0xFB, 0x04, 0x19, 0x07, 0xEA, 0x0D, 0xFF, 0x00, 0x11, 0xAD, 0xA3, 0xF8, 0x51, 0xD5, 0x9F, 0xF4, 0x8B, 0xC0,
-	0x77, 0x77, 0x44, 0xBF, 0xC6, 0x7A, 0x47, 0xFA, 0x2E, 0xE3, 0xBB, 0x13, 0x5D, 0xC2, 0xD9, 0xC3, 0xDC, 0x7B, 0x2E, 0x83,
-	0xAE, 0x6E, 0x57, 0x12, 0x5D, 0x58, 0x5B, 0xCD, 0x71, 0x91, 0xEF, 0x7E, 0xF1, 0x87, 0x17, 0x4E, 0x1E, 0x4D, 0x82, 0x2E,
-	0x7D, 0xAD, 0xF2, 0x36, 0x9D, 0x69, 0x8F, 0xC9, 0x5B, 0xC3, 0x24, 0x55, 0x57, 0xC5, 0x17, 0x16, 0x18, 0x1E, 0x63, 0xA7,
-	0x9E, 0x6B, 0x97, 0xDE, 0xA0, 0x84, 0x2E, 0xD1, 0xB4, 0x6C, 0x9B, 0xBE, 0xC9, 0x9D, 0xDC, 0x37, 0x0C, 0xEE, 0x57, 0x67,
-	0xDA, 0xB6, 0x7C, 0xAD, 0xF6, 0x73, 0x61, 0xD8, 0x73, 0x97, 0xD7, 0x19, 0x2C, 0xC6, 0x6B, 0x31, 0x92, 0xB8, 0x92, 0xEA,
-	0xFF, 0x00, 0x25, 0x92, 0xBF, 0xBA, 0x92, 0x5B, 0x8B, 0xBB, 0xCB, 0xBB, 0x89, 0x6A, 0xAE, 0xBA, 0xEB, 0xAB, 0x9A, 0xAA,
-	0xAB, 0x90, 0x78, 0x20, 0xF4, 0x79, 0xCC, 0x65, 0xAA, 0xC4, 0xC7, 0x80, 0xAB, 0x29, 0x91, 0xAB, 0x05, 0x16, 0x46, 0x6C,
-	0xC4, 0x58, 0x5E, 0x6F, 0x6E, 0x79, 0xC4, 0xC7, 0x96, 0xB8, 0xB6, 0x82, 0xCA, 0x7C, 0xA4, 0x78, 0xEE, 0x65, 0xFC, 0x1D,
-	0x19, 0x19, 0xEC, 0xED, 0xA3, 0x8A, 0xB9, 0xF8, 0xA3, 0x89, 0x6A, 0x8A, 0x3A, 0x69, 0xE6, 0xAE, 0x69, 0xA7, 0x8E, 0x38,
-	0x09, 0x2E, 0x7D, 0x32, 0x7F, 0xBF, 0x7F, 0x26, 0xFF, 0x00, 0x84, 0x9A, 0x9F, 0xF3, 0x8D, 0x40, 0xEB, 0x6E, 0xED, 0xB1,
-	0xF8, 0xBF, 0xEA, 0xF5, 0x8F, 0xF2, 0xB7, 0xC1, 0xAE, 0xCD, 0x82, 0xCB, 0x47, 0xEF, 0xBF, 0x1B, 0xBB, 0x6B, 0xB2, 0xF0,
-	0x1A, 0x96, 0x46, 0x3A, 0x60, 0xBC, 0xD8, 0xF0, 0xF6, 0x7A, 0x96, 0xDF, 0x93, 0xD6, 0x75, 0x5E, 0xE0, 0xD1, 0x3F, 0x15,
-	0x25, 0xBC, 0xD9, 0x7C, 0x3D, 0xD5, 0xBD, 0xBD, 0xBD, 0x86, 0xD1, 0x8B, 0xE2, 0x4A, 0x69, 0xE2, 0x49, 0x7E, 0x15, 0xF3,
-	0x0D, 0x37, 0x16, 0x17, 0x14, 0x84, 0x28, 0x7C, 0x99, 0xF1, 0xAF, 0xB5, 0x7C, 0x4A, 0xEE, 0x5D, 0xBB, 0xA3, 0xBB, 0x8B,
-	0x07, 0x56, 0x1B, 0x6D, 0xD5, 0x6E, 0xB8, 0xE6, 0x0B, 0xBB, 0x7F, 0xBB, 0x36, 0x0B, 0x69, 0xC0, 0x5D, 0x55, 0x25, 0x58,
-	0x5D, 0xBF, 0x55, 0xC8, 0xC9, 0x14, 0x3C, 0x65, 0x35, 0xCC, 0xED, 0xB4, 0x7C, 0xD7, 0x04, 0xBF, 0x1A, 0x24, 0x8A, 0x4A,
-	0x64, 0xB7, 0x9E, 0x88, 0x6E, 0x61, 0x9A, 0x18, 0xC2, 0x54, 0x7F, 0x4C, 0x97, 0xEE, 0x37, 0xC9, 0xEF, 0xE2, 0xBE, 0x9D,
-	0xFC, 0xA1, 0x70, 0x08, 0x7B, 0x67, 0xFF, 0x00, 0xBF, 0x73, 0x5F, 0xEA, 0xD9, 0x1F, 0xF7, 0x93, 0x03, 0x28, 0xF8, 0xED,
-	0xD1, 0x9B, 0x97, 0x92, 0xDD, 0xDF, 0xD6, 0x5D, 0x13, 0xA0, 0xC1, 0xCC, 0xBB, 0x47, 0x65, 0xED, 0x78, 0xDD, 0x72, 0xD2,
-	0xE3, 0x98, 0x6A, 0xB8, 0xB7, 0xC3, 0xD8, 0xCF, 0x5F, 0x33, 0xE7, 0x36, 0x4C, 0x84, 0x54, 0x57, 0x1D, 0x75, 0x62, 0xB5,
-	0x8C, 0x1D, 0xBD, 0xCE, 0x42, 0xEF, 0xE3, 0x57, 0x15, 0x7E, 0x1A, 0xDA, 0xBF, 0x8F, 0xBD, 0x5E, 0xDC, 0x72, 0x12, 0xE5,
-	0xF5, 0x32, 0xF3, 0xA6, 0xC7, 0xD2, 0xDB, 0x59, 0xF0, 0xCB, 0xC4, 0xDF, 0x18, 0x78, 0x86, 0xDE, 0xEB, 0xAF, 0x26, 0xD1,
-	0xB7, 0x2D, 0xDF, 0x09, 0xC4, 0xF1, 0xF1, 0x3D, 0xFF, 0x00, 0x4C, 0x68, 0xD7, 0x3F, 0xB2, 0xE0, 0xD3, 0xF3, 0xF7, 0x54,
-	0x53, 0x54, 0x94, 0xDF, 0xF7, 0x16, 0x56, 0xDA, 0xFE, 0x6C, 0x85, 0xDF, 0x14, 0xF1, 0x71, 0xFF, 0x00, 0xA4, 0x92, 0x5E,
-	0x7F, 0x3B, 0x9E, 0x2A, 0xE4, 0x30, 0xE7, 0xAF, 0x17, 0x8F, 0x9A, 0x8F, 0x92, 0xFE, 0x35, 0xF4, 0xAF, 0xA8, 0xFF, 0x00,
-	0x47, 0x51, 0x46, 0x77, 0x1F, 0x8C, 0xD5, 0x75, 0x8B, 0x4D, 0xC7, 0x23, 0x65, 0x6F, 0x4F, 0x17, 0x39, 0x7E, 0xA0, 0xDF,
-	0x2B, 0x8B, 0x23, 0xA5, 0x67, 0xF2, 0x50, 0xC3, 0xF7, 0x6B, 0x82, 0xFB, 0x49, 0xDA, 0x33, 0x35, 0x59, 0x5D, 0xC5, 0x57,
-	0x3C, 0xCB, 0x07, 0x19, 0x6A, 0xE9, 0x97, 0x9A, 0x78, 0xB4, 0xE7, 0x8A, 0x42, 0x22, 0xC0, 0x98, 0xFF, 0x00, 0xD3, 0x25,
-	0xFB, 0x8D, 0xF2, 0x7B, 0xF8, 0xAF, 0xA7, 0x7F, 0x28, 0x5C, 0x02, 0x1E, 0xD9, 0xFF, 0x00, 0xEF, 0xDC, 0xD7, 0xFA, 0xB6,
-	0x47, 0xFD, 0xE4, 0xC0, 0xF2, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x01, 0xFF, 0xD5, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x57, 0xE8, 0x6F, 0xDF, 0x97, 0x4C, 0xFF, 0x00, 0x15, 0xFA, 0xEF, 0xF9, 0xBF, 0x0E,
-	0x09, 0x43, 0xFD, 0x4F, 0xFF, 0x00, 0xDC, 0x5E, 0x17, 0x7F, 0xAB, 0x77, 0xF7, 0xFB, 0x3E, 0x9D, 0x06, 0x35, 0xF4, 0x75,
-	0xF5, 0x2C, 0xD3, 0xFB, 0x1B, 0x50, 0x87, 0xD3, 0x8F, 0xCD, 0x6A, 0xF1, 0x7B, 0x76, 0x89, 0xBA, 0x62, 0x64, 0xD0, 0xFA,
-	0x83, 0x66, 0xDE, 0x64, 0xA6, 0xF3, 0x17, 0x90, 0xC5, 0x5F, 0xDB, 0xD1, 0x63, 0x6B, 0xD2, 0x7B, 0x75, 0xCD, 0xE5, 0x5C,
-	0x7C, 0x6D, 0xA4, 0xA3, 0x8E, 0x28, 0xD6, 0x6F, 0x2B, 0x92, 0x99, 0x20, 0x9B, 0x8A, 0x2C, 0x28, 0xAE, 0x9E, 0x78, 0xB0,
-	0xA6, 0x80, 0xF8, 0x7C, 0x7F, 0xA6, 0xA6, 0xE3, 0xE0, 0x17, 0xAB, 0x8F, 0x89, 0x17, 0x78, 0x58, 0xF2, 0x5B, 0x27, 0x8E,
-	0x9D, 0x85, 0xDE, 0x11, 0x4B, 0xD5, 0x1B, 0xC4, 0xD4, 0x57, 0x71, 0x3E, 0x2A, 0x4E, 0x71, 0x99, 0x7B, 0xD9, 0x3A, 0xE7,
-	0x72, 0xB9, 0xA2, 0x2A, 0x61, 0x83, 0x6D, 0xC1, 0xDA, 0xD3, 0x5F, 0xD8, 0x9B, 0xF4, 0xC7, 0x98, 0xB1, 0x8B, 0xF1, 0x51,
-	0x53, 0x4C, 0x94, 0x5D, 0x5B, 0xDA, 0x87, 0xD9, 0x7A, 0xE9, 0x6C, 0xB8, 0x9D, 0x2F, 0xD5, 0x33, 0xC2, 0x3D, 0xC7, 0x3D,
-	0x2C, 0x30, 0x60, 0xF5, 0x3D, 0x17, 0xA4, 0xB6, 0x5C, 0xCC, 0xF7, 0x32, 0xC7, 0x05, 0xBC, 0x38, 0x9C, 0x17, 0x91, 0x5B,
-	0xEE, 0x53, 0x23, 0x2C, 0xF3, 0x4D, 0xFD, 0x4C, 0x30, 0xC7, 0x67, 0x6B, 0x5F, 0x35, 0x55, 0x5F, 0xE9, 0xA6, 0x9E, 0x39,
-	0xE7, 0x9F, 0xC8, 0x1B, 0x0F, 0xF5, 0x36, 0x68, 0xF9, 0xCC, 0xB7, 0x4D, 0xF8, 0xB7, 0xD9, 0x56, 0x34, 0x49, 0x36, 0xB5,
-	0xA8, 0x76, 0x26, 0xFF, 0x00, 0xA9, 0xE6, 0x64, 0x86, 0x3A, 0xE5, 0x86, 0x2C, 0x87, 0x60, 0x6B, 0x9A, 0xFE, 0x57, 0x01,
-	0x71, 0x34, 0xB4, 0x55, 0xCC, 0x71, 0x45, 0x54, 0x3D, 0x7F, 0x7B, 0x45, 0x35, 0x55, 0xC7, 0xB5, 0x55, 0x49, 0xC7, 0x1C,
-	0x55, 0xC7, 0x3C, 0xFB, 0x54, 0x10, 0xEA, 0x00, 0x1B, 0xDD, 0xE9, 0x87, 0xA2, 0xE7, 0xFB, 0x0F, 0xD4, 0x1B, 0xC4, 0x1C,
-	0x1E, 0xB9, 0x1C, 0xF2, 0x5E, 0xE2, 0xFB, 0xDB, 0x41, 0xDE, 0xAF, 0x79, 0x82, 0x89, 0xAB, 0xE6, 0x2C, 0x07, 0x5A, 0x66,
-	0xAD, 0xFB, 0x0B, 0x66, 0x92, 0x5E, 0x60, 0xA6, 0xAA, 0xA8, 0x83, 0xFA, 0x3F, 0xAC, 0x5C, 0xF1, 0x5D, 0x55, 0x7B, 0x51,
-	0xED, 0x57, 0xEA, 0xE7, 0x8E, 0x39, 0xE4, 0x1D, 0x98, 0xFA, 0x9C, 0xF6, 0x9C, 0x35, 0xDF, 0x6B, 0x78, 0xA1, 0xA4, 0xC1,
-	0x24, 0x1C, 0xEC, 0x1A, 0xFF, 0x00, 0x5E, 0xF6, 0x56, 0xD3, 0x93, 0x86, 0x9F, 0x87, 0xE2, 0x68, 0xC3, 0x6E, 0x3B, 0x26,
-	0xB5, 0x89, 0xC1, 0x49, 0x2F, 0xB7, 0x3F, 0x73, 0xEC, 0x4B, 0x7B, 0xA3, 0x64, 0x78, 0x8F, 0xDF, 0x8E, 0x29, 0xF9, 0x51,
-	0x5F, 0xB7, 0xBF, 0x3E, 0xFE, 0xC1, 0x17, 0x90, 0x7D, 0x36, 0x9B, 0xB9, 0xED, 0xBD, 0x77, 0xB5, 0x60, 0x37, 0x9D, 0x13,
-	0x64, 0xCC, 0xEA, 0x1B, 0x8E, 0xAD, 0x93, 0xB6, 0xCC, 0xEB, 0x9B, 0x36, 0xBD, 0x90, 0xB9, 0xC5, 0x66, 0xB0, 0xB9, 0x4B,
-	0x3A, 0xFE, 0xE5, 0xBD, 0xF6, 0x3F, 0x21, 0x67, 0x24, 0x57, 0x16, 0xD3, 0xC7, 0x57, 0xE5, 0xEF, 0x4D, 0x5F, 0xAA, 0x9E,
-	0x79, 0xA7, 0x9F, 0x7E, 0x39, 0xE7, 0x8E, 0x42, 0x45, 0x7E, 0x34, 0x7D, 0x47, 0xDD, 0xDF, 0xA7, 0xD9, 0xE3, 0xF5, 0x4F,
-	0x2A, 0x3A, 0xA7, 0x59, 0xEF, 0x0C, 0x04, 0x76, 0x3F, 0xB3, 0x6F, 0x77, 0x5D, 0x42, 0xBB, 0x7D, 0x0F, 0xB0, 0x2E, 0x69,
-	0xAA, 0x9A, 0x29, 0x92, 0xFF, 0x00, 0x3B, 0x87, 0xAA, 0xDA, 0xFB, 0x43, 0xD9, 0xA4, 0x96, 0x1E, 0x2B, 0x8A, 0xBB, 0x7B,
-	0x6B, 0x5C, 0x0D, 0x15, 0xFC, 0xF8, 0xAF, 0x99, 0x39, 0xE6, 0x9E, 0x69, 0x90, 0x3A, 0x21, 0xB8, 0xF8, 0x41, 0xE9, 0xB5,
-	0xEA, 0xFD, 0xD0, 0x9B, 0x17, 0x75, 0x78, 0x85, 0x8E, 0xD7, 0xBA, 0x77, 0xB8, 0x21, 0xAE, 0xFA, 0x9A, 0xB2, 0xFA, 0xCE,
-	0xBB, 0x69, 0xA3, 0x5D, 0xE1, 0xB7, 0xD9, 0xED, 0xE8, 0xC9, 0x73, 0xAD, 0xF7, 0x77, 0x59, 0xE1, 0xB9, 0xAF, 0x09, 0x77,
-	0x1E, 0x6E, 0x4E, 0x79, 0xAA, 0x4C, 0xB5, 0x8D, 0x32, 0x4F, 0x2D, 0x72, 0x57, 0x73, 0x6F, 0x7B, 0x77, 0x4D, 0x12, 0xC3,
-	0x28, 0x70, 0xFB, 0xD1, 0x67, 0x50, 0xD8, 0x7A, 0xF7, 0xD5, 0xBB, 0xAA, 0x74, 0x1D, 0xBB, 0x1D, 0x26, 0x23, 0x6B, 0xD1,
-	0xEF, 0xFC, 0x82, 0xD4, 0x36, 0x7C, 0x4C, 0xD5, 0x51, 0x5C, 0xD8, 0xBD, 0x87, 0x5A, 0xEA, 0x8E, 0xCB, 0xC2, 0xE6, 0xB1,
-	0xD2, 0xD7, 0x1D, 0x55, 0xC7, 0x54, 0x96, 0x59, 0x2B, 0x29, 0x62, 0xAB, 0x9A, 0x79, 0xE6, 0x9E, 0x79, 0xA7, 0xF2, 0xE7,
-	0x9E, 0x01, 0xED, 0xFD, 0x41, 0xBF, 0xE2, 0x35, 0xB4, 0x7F, 0x0A, 0x3A, 0xB3, 0xFE, 0x91, 0x78, 0x0E, 0xDB, 0xFA, 0xD6,
-	0x63, 0x2E, 0x3B, 0x67, 0xD2, 0x2B, 0xAA, 0xBB, 0x13, 0x47, 0x8F, 0x8B, 0x9D, 0x5B, 0x05, 0x9A, 0xF1, 0xDF, 0xB5, 0xAF,
-	0x2B, 0xB1, 0xF6, 0x9E, 0xDA, 0x8D, 0x2F, 0x62, 0xD2, 0x72, 0x5A, 0xBE, 0x2E, 0xE6, 0x3A, 0xED, 0x7D, 0xA1, 0xAA, 0xCE,
-	0x9C, 0x96, 0xFF, 0x00, 0x8E, 0xE7, 0x8A, 0xF8, 0xE3, 0xED, 0xFC, 0x79, 0xE3, 0x9E, 0x3D, 0xB8, 0xF6, 0xE7, 0x80, 0x84,
-	0x68, 0x24, 0x81, 0xA0, 0xFD, 0x47, 0xFD, 0xDF, 0xA0, 0xE8, 0x9A, 0x56, 0x89, 0x67, 0xE3, 0x7F, 0x55, 0x64, 0x2D, 0x34,
-	0xAD, 0x4B, 0x5C, 0xD4, 0xAD, 0x6F, 0xEE, 0x76, 0x9D, 0xBA, 0x2B, 0x9B, 0xDB, 0x6D, 0x73, 0x0F, 0x67, 0x87, 0x82, 0xEE,
-	0xE2, 0x38, 0xA9, 0xFB, 0x51, 0xCD, 0x73, 0x15, 0x9F, 0x15, 0xD7, 0x4D, 0x3F, 0xA7, 0x8A, 0xAA, 0xE7, 0x8E, 0x3F, 0x20,
-	0x77, 0xBB, 0xC6, 0x5F, 0x30, 0xF6, 0x5F, 0x39, 0xBD, 0x36, 0xBB, 0x9B, 0xBE, 0xB6, 0xCD, 0x3B, 0x07, 0xA2, 0xE6, 0x2F,
-	0xF4, 0xBE, 0xFF, 0x00, 0xD5, 0xEB, 0xC0, 0xEB, 0xB7, 0xD7, 0xF9, 0x1C, 0x6D, 0x10, 0x6B, 0x7A, 0x8E, 0x4E, 0x08, 0x2E,
-	0xA8, 0xB9, 0xC9, 0x71, 0xC5, 0xD7, 0x32, 0xDC, 0xD3, 0x3F, 0x3C, 0xD7, 0x4F, 0x3F, 0xA7, 0x8E, 0x78, 0xFC, 0x81, 0xC3,
-	0xEF, 0xA6, 0x4F, 0xF7, 0xEF, 0xE4, 0xDF, 0xF0, 0x93, 0x53, 0xFE, 0x71, 0xA8, 0x1C, 0xA7, 0xF2, 0xB3, 0xB8, 0xBB, 0x1B,
-	0xA0, 0x3D, 0x50, 0x7C, 0x9C, 0xED, 0xFE, 0xA6, 0xD9, 0xAF, 0xB5, 0x0D, 0xFF, 0x00, 0x47, 0xF2, 0xC7, 0xBA, 0x72, 0xD8,
-	0x1C, 0xD5, 0x85, 0x7F, 0x9D, 0x12, 0x71, 0xD8, 0x3B, 0x1C, 0x17, 0x76, 0x17, 0xD6, 0xF5, 0x7B, 0xC1, 0x91, 0xC3, 0xE5,
-	0xAC, 0x66, 0x96, 0xD6, 0xF6, 0xD2, 0x6A, 0x6B, 0x82, 0xEE, 0xD6, 0x69, 0x22, 0x92, 0x9A, 0xA8, 0xAF, 0x9E, 0x39, 0x09,
-	0x24, 0x66, 0xF1, 0xBE, 0x3F, 0xFD, 0x40, 0x3E, 0x16, 0xF1, 0x9C, 0xC1, 0x51, 0xAF, 0x75, 0xAF, 0x98, 0x7D, 0x3D, 0x67,
-	0xF6, 0x68, 0x86, 0x79, 0x2A, 0x92, 0xE7, 0x47, 0xDC, 0x2E, 0x20, 0xAA, 0x7A, 0xB0, 0x79, 0x39, 0x78, 0xA2, 0x5C, 0xC6,
-	0x5B, 0xA5, 0x3B, 0x32, 0xAB, 0x4A, 0xEA, 0xB4, 0xB9, 0xE2, 0x99, 0xA4, 0xC7, 0xDC, 0xD1, 0xCD, 0x7C, 0x71, 0x2D, 0xCD,
-	0x95, 0xCD, 0xBC, 0xE1, 0xFE, 0x7D, 0x3C, 0x5D, 0x61, 0xBE, 0x74, 0xBE, 0x9F, 0xE6, 0x67, 0x55, 0xF6, 0x76, 0xB5, 0x91,
-	0xD4, 0x37, 0xDD, 0x1B, 0xBC, 0x35, 0x7C, 0x0E, 0xCD, 0xAF, 0x65, 0x22, 0xFB, 0x77, 0x56, 0x17, 0xF6, 0xDA, 0x84, 0xB5,
-	0xD3, 0x55, 0x15, 0xD3, 0xCD, 0x50, 0xDD, 0xD8, 0xDE, 0xDB, 0x49, 0x1D, 0xC5, 0xAD, 0xCC, 0x35, 0x57, 0x6F, 0x77, 0x6B,
-	0x2C, 0x73, 0x43, 0x5D, 0x71, 0x49, 0x45, 0x75, 0x04, 0x2E, 0x73, 0xFF, 0x00, 0xDF, 0xB9, 0xAF, 0xF5, 0x6C, 0x8F, 0xFB,
-	0xC9, 0x81, 0x2A, 0xDF, 0x40, 0x5F, 0x1C, 0x75, 0x4E, 0x94, 0xE9, 0xEE, 0xEB, 0xF5, 0x22, 0xEE, 0xEE, 0x6D, 0xF0, 0x1A,
-	0xE6, 0x3F, 0x5A, 0xDA, 0xB5, 0xDE, 0xBF, 0xCC, 0x65, 0x21, 0xE7, 0xED, 0xE2, 0x3A, 0xFB, 0x4E, 0xA2, 0xBC, 0x9F, 0x6A,
-	0x6F, 0x36, 0x74, 0x55, 0x4D, 0x7F, 0x7E, 0xBC, 0xA6, 0x53, 0x13, 0x46, 0x1E, 0xCE, 0xA8, 0x7E, 0x37, 0x3C, 0x55, 0x8E,
-	0xBE, 0x83, 0x8E, 0x2A, 0xA6, 0xE7, 0x8E, 0x2A, 0x0F, 0xE9, 0xDE, 0x1E, 0x5E, 0x7D, 0x3E, 0xBE, 0x48, 0xF6, 0x66, 0xC3,
-	0xDC, 0x3D, 0xD9, 0xD6, 0x5D, 0xCF, 0xBD, 0xF6, 0x36, 0xD3, 0xC6, 0x3A, 0x9C, 0xDE, 0xC5, 0x77, 0x77, 0xE4, 0x16, 0x27,
-	0xF1, 0x11, 0x62, 0x31, 0x96, 0x98, 0x7C, 0x6D, 0xB5, 0xAE, 0x23, 0x5E, 0xED, 0xBC, 0x46, 0x0B, 0x15, 0x67, 0x67, 0x8E,
-	0xB1, 0x8A, 0x3A, 0x21, 0xB4, 0xB5, 0x82, 0x2E, 0x3E, 0x3C, 0xD5, 0xF1, 0xF9, 0xD5, 0x55, 0x55, 0x07, 0x4A, 0x3C, 0x1C,
-	0xF2, 0x83, 0xD3, 0x33, 0xC9, 0xDE, 0xB9, 0xD9, 0xBC, 0x01, 0xF1, 0xA6, 0xCF, 0x6D, 0xB4, 0xEB, 0xD8, 0xBA, 0xC7, 0x76,
-	0xA6, 0x4E, 0xB1, 0xEC, 0x28, 0xF7, 0x69, 0xA9, 0xBB, 0xD1, 0x76, 0x5C, 0x8C, 0x96, 0x9B, 0x7D, 0x96, 0xBB, 0xB0, 0x76,
-	0x06, 0xC7, 0xB5, 0x66, 0x2E, 0xE4, 0xB5, 0xBD, 0xDA, 0xF9, 0x9E, 0x8B, 0x5E, 0x2E, 0xF9, 0xAE, 0xD2, 0x89, 0x39, 0x96,
-	0xDE, 0x8A, 0x63, 0x86, 0xAE, 0x63, 0x08, 0x4F, 0xF9, 0x71, 0xE3, 0x7E, 0xD9, 0xE2, 0x57, 0x91, 0x3D, 0xA5, 0xD0, 0x5B,
-	0x85, 0x17, 0x12, 0x5E, 0x68, 0x5B, 0x2D, 0xD5, 0xA6, 0x1B, 0x2F, 0x34, 0x15, 0x41, 0x1E, 0xCF, 0xA8, 0xDE, 0xFB, 0x64,
-	0x35, 0x1D, 0xAA, 0xD7, 0x8E, 0x69, 0xA6, 0x3E, 0x60, 0xCF, 0xEB, 0xD7, 0x36, 0xF7, 0x15, 0x53, 0x47, 0x35, 0x71, 0x0C,
-	0xD5, 0x57, 0x17, 0x3C, 0xFC, 0xE3, 0xAB, 0x8E, 0x02, 0x52, 0x1F, 0x4C, 0x97, 0xEE, 0x37, 0xC9, 0xEF, 0xE2, 0xBE, 0x9D,
-	0xFC, 0xA1, 0x70, 0x08, 0x7B, 0x67, 0xFF, 0x00, 0xBF, 0x73, 0x5F, 0xEA, 0xD9, 0x1F, 0xF7, 0x93, 0x03, 0xC9, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD6, 0xAF,
-	0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x57,
-	0xE8, 0x6F, 0xDF, 0x97, 0x4C, 0xFF, 0x00, 0x15, 0xFA, 0xEF, 0xF9, 0xBF, 0x0E, 0x09, 0x43, 0xFD, 0x4F, 0xFF, 0x00, 0xDC,
-	0x5E, 0x17, 0x7F, 0xAB, 0x77, 0xF7, 0xFB, 0x3E, 0x9D, 0x04, 0x49, 0x23, 0x92, 0x48, 0xA4, 0xA2, 0x58, 0xAB, 0xAE, 0x29,
-	0x62, 0xAE, 0x99, 0x23, 0x92, 0x3A, 0xB9, 0xA2, 0x48, 0xE4, 0xA3, 0x9E, 0x2A, 0xA2, 0xBA, 0x2B, 0xA7, 0x9E, 0x2A, 0xA2,
-	0xBA, 0x2A, 0xE3, 0x8E, 0x78, 0xE7, 0x8E, 0x7D, 0xF8, 0xE4, 0x13, 0x4D, 0xF4, 0x6B, 0xF5, 0x44, 0xC0, 0x79, 0x59, 0xAF,
-	0xEA, 0xFE, 0x28, 0x79, 0x49, 0x79, 0x8D, 0xCC, 0x77, 0xE6, 0x85, 0x5D, 0x9E, 0x67, 0xAA, 0x37, 0x3D, 0xA2, 0x3B, 0x4B,
-	0x89, 0x7B, 0x52, 0xCB, 0x51, 0xA7, 0x9C, 0x8E, 0x36, 0x5E, 0x6E, 0x6E, 0xB8, 0xE7, 0x9E, 0x3B, 0x6B, 0x4A, 0xB3, 0xB7,
-	0xAA, 0x4E, 0x67, 0xA3, 0xE3, 0x73, 0x93, 0xC7, 0xC3, 0x55, 0xCF, 0x3C, 0xD7, 0x3C, 0x77, 0x92, 0x48, 0x1C, 0xDB, 0xFA,
-	0x96, 0xBF, 0xE7, 0x33, 0xA5, 0xFF, 0x00, 0xFA, 0xC7, 0xAF, 0xFF, 0x00, 0xDD, 0x5E, 0xD8, 0x07, 0x49, 0xFD, 0x3D, 0xBC,
-	0x99, 0xE8, 0xBF, 0x55, 0x8F, 0x08, 0x72, 0x5E, 0x08, 0x79, 0x29, 0x99, 0x8F, 0x8E, 0xEA, 0xD6, 0xF4, 0x5B, 0x6D, 0x52,
-	0xFE, 0x3B, 0xC9, 0xAC, 0x6D, 0x76, 0x4D, 0xAB, 0x09, 0xAB, 0x53, 0x4F, 0xF4, 0x1B, 0xB7, 0x7A, 0xFE, 0xE6, 0xF3, 0xEF,
-	0x71, 0x91, 0xDB, 0xB4, 0xF8, 0xAC, 0x2D, 0x2A, 0xCA, 0xD3, 0xF0, 0x92, 0x4E, 0x2E, 0xE0, 0xAA, 0x6B, 0x88, 0xEB, 0xB4,
-	0xBC, 0xAA, 0x9E, 0x42, 0x39, 0xDE, 0x64, 0xFA, 0x56, 0xF9, 0x75, 0xE1, 0xB6, 0xD1, 0x99, 0x83, 0x64, 0xEB, 0xBC, 0xF7,
-	0x62, 0xF5, 0x85, 0xBD, 0xC5, 0xD4, 0xB8, 0x0E, 0xE6, 0xEB, 0xAC, 0x16, 0x53, 0x3F, 0xA7, 0x64, 0xB0, 0xD1, 0xD7, 0x5D,
-	0x56, 0xB7, 0x5B, 0x1C, 0x58, 0xF8, 0xAF, 0xAF, 0x74, 0x1C, 0xBF, 0x36, 0xDC, 0x71, 0xF8, 0x8B, 0x2C, 0xA7, 0xDB, 0xA6,
-	0x99, 0xA9, 0x93, 0x8B, 0x69, 0xEE, 0xE0, 0xA6, 0x9B, 0x8A, 0xC3, 0x4D, 0xBA, 0x9B, 0xA1, 0xFB, 0xAB, 0xBE, 0x33, 0xD6,
-	0xFA, 0xCF, 0x4C, 0x75, 0x56, 0xFD, 0xD9, 0xD9, 0xAB, 0x8B, 0xB8, 0x2C, 0xBF, 0x0B, 0xA5, 0xEA, 0xF9, 0x7C, 0xF4, 0x76,
-	0x93, 0x4F, 0xF9, 0xD3, 0x5E, 0x56, 0xFA, 0xC6, 0xD6, 0x5B, 0x0C, 0x35, 0xA4, 0x71, 0xFB, 0xC9, 0x2D, 0xC5, 0xDC, 0xB0,
-	0x41, 0x0C, 0x54, 0xD5, 0x24, 0x95, 0xD3, 0x45, 0x3C, 0xD5, 0xC0, 0x4C, 0x2B, 0xD3, 0x9F, 0xC0, 0xDE, 0xB7, 0xF4, 0x90,
-	0xEA, 0x0D, 0xFF, 0x00, 0xCC, 0x8F, 0x34, 0xF7, 0x4D, 0x5B, 0x01, 0xDA, 0x97, 0x9A, 0xA4, 0xF8, 0xAB, 0xDA, 0x22, 0xC8,
-	0xDB, 0xE4, 0xF0, 0xFD, 0x65, 0xAB, 0x5C, 0xCB, 0x16, 0x47, 0x9D, 0x1F, 0x57, 0x9A, 0x0F, 0x7E, 0x77, 0x4E, 0xCF, 0xDC,
-	0xEF, 0xB1, 0xD0, 0x45, 0x37, 0xEC, 0xFA, 0x67, 0xF9, 0xD7, 0x15, 0x16, 0x56, 0x1C, 0xCB, 0x1D, 0x57, 0x13, 0xDD, 0x84,
-	0x55, 0xFC, 0xE9, 0xF2, 0xCB, 0x63, 0xF3, 0x5B, 0xC9, 0xBE, 0xC6, 0xEF, 0xDC, 0xED, 0xAD, 0xC6, 0x27, 0x1D, 0xB0, 0x5E,
-	0xC1, 0x89, 0xD1, 0xF5, 0x9B, 0x89, 0xA8, 0x9E, 0xBD, 0x4F, 0xAF, 0xF0, 0x31, 0xF3, 0x63, 0xAB, 0x60, 0xAB, 0x92, 0x2F,
-	0x78, 0x2B, 0xBE, 0xA6, 0xD3, 0x8A, 0xAE, 0xAF, 0xAB, 0x8F, 0xFA, 0xB9, 0x72, 0x37, 0x57, 0x12, 0x51, 0xC7, 0x14, 0xD7,
-	0xC7, 0x1C, 0x06, 0xA2, 0x03, 0xB0, 0x9E, 0x93, 0x1E, 0x9A, 0x3A, 0x07, 0xA8, 0x66, 0xC5, 0xDA, 0xB0, 0xF6, 0x07, 0x74,
-	0x73, 0xA0, 0xE3, 0x7A, 0xEB, 0x01, 0x1D, 0x76, 0xBA, 0x7E, 0xA1, 0x5E, 0x3A, 0x7E, 0xCB, 0xCC, 0x65, 0x33, 0x50, 0xCD,
-	0x6F, 0x88, 0xDA, 0x79, 0xB3, 0xCE, 0x63, 0xEE, 0xF1, 0x74, 0x68, 0x38, 0x2C, 0x97, 0x11, 0xD3, 0x7D, 0x54, 0x7C, 0x49,
-	0x73, 0x75, 0x35, 0x74, 0xDB, 0x71, 0x5D, 0x9F, 0x32, 0xD1, 0x72, 0x0D, 0x27, 0xF2, 0x9F, 0xC2, 0xDF, 0x21, 0xBC, 0x3E,
-	0xEC, 0x9C, 0x97, 0x5C, 0xF7, 0x1F, 0x5F, 0x67, 0x71, 0x9C, 0xC7, 0x97, 0xAB, 0x19, 0xAB, 0xEE, 0x36, 0x38, 0xCB, 0xEB,
-	0xDD, 0x23, 0x7F, 0xB7, 0x9E, 0xB9, 0xF9, 0xC5, 0x64, 0x74, 0xDD, 0x8E, 0x2B, 0x7E, 0x6C, 0x32, 0xBC, 0x65, 0x2D, 0xA0,
-	0xE6, 0x4E, 0x2D, 0x3E, 0x54, 0xDF, 0xDB, 0x55, 0xC5, 0x51, 0x5C, 0x43, 0x14, 0xD1, 0xD7, 0x1D, 0x21, 0x28, 0x7F, 0xA7,
-	0x97, 0xC4, 0x9E, 0xE8, 0xE8, 0x1D, 0x1F, 0xBD, 0x3B, 0xF7, 0xBA, 0x30, 0x39, 0x8E, 0xB1, 0xD6, 0x3B, 0x6B, 0x1B, 0xA5,
-	0x63, 0xB4, 0xAD, 0x67, 0x6F, 0x82, 0xE7, 0x5F, 0xCB, 0xE4, 0xF0, 0x1A, 0x7F, 0x3B, 0x1E, 0x63, 0x21, 0xD8, 0x39, 0xAC,
-	0x3E, 0x4E, 0x9B, 0x59, 0x70, 0xF8, 0x19, 0x28, 0xCE, 0xD1, 0x16, 0x2A, 0x6B, 0xAA, 0x68, 0x92, 0xE6, 0x0F, 0xC4, 0xDC,
-	0x53, 0x4D, 0x36, 0xB5, 0xDB, 0xCD, 0x70, 0x1C, 0xDF, 0xF4, 0xF6, 0xEC, 0x8D, 0x67, 0xB8, 0x3D, 0x7D, 0xB2, 0xBD, 0xA3,
-	0xA5, 0xD7, 0x44, 0xDA, 0x86, 0xF9, 0xDB, 0x5E, 0x58, 0xEC, 0xDA, 0xC5, 0xDD, 0x11, 0xD3, 0x17, 0x19, 0x1C, 0x0E, 0x53,
-	0x40, 0xED, 0x5B, 0x8C, 0x4E, 0x5A, 0xA8, 0xE9, 0xFC, 0xA8, 0x97, 0x2F, 0x63, 0x55, 0x17, 0x55, 0xF1, 0xEF, 0xCF, 0x3C,
-	0x57, 0x2F, 0x3E, 0xFC, 0xF3, 0xCF, 0xE7, 0xC8, 0x62, 0x7F, 0xA8, 0x37, 0xFC, 0x46, 0xB6, 0x8F, 0xE1, 0x47, 0x56, 0x7F,
-	0xD2, 0x2F, 0x01, 0xD5, 0x6F, 0x45, 0xFF, 0x00, 0x33, 0xFA, 0x77, 0xCA, 0x9F, 0x18, 0x72, 0x3E, 0x9B, 0x5E, 0x4B, 0xCB,
-	0x8A, 0xBD, 0xD8, 0xF1, 0xBA, 0x96, 0x7F, 0x47, 0xD3, 0x31, 0x5B, 0x15, 0xCC, 0x36, 0x90, 0x76, 0xB7, 0x51, 0x64, 0x6D,
-	0xEE, 0xE6, 0xA3, 0x5D, 0xC2, 0x5D, 0xFD, 0xC8, 0x25, 0xA3, 0x77, 0xEB, 0xAB, 0x69, 0x64, 0xA2, 0xDE, 0x3B, 0x7E, 0x63,
-	0xBC, 0x8F, 0x1B, 0x6D, 0x6D, 0x77, 0x6D, 0x55, 0x52, 0xDA, 0x5C, 0xCB, 0x10, 0x71, 0x87, 0xCE, 0xFF, 0x00, 0x47, 0x6F,
-	0x28, 0xFC, 0x41, 0xDC, 0x73, 0x39, 0x0D, 0x3F, 0x4A, 0xDA, 0xFB, 0xBB, 0xA2, 0x2E, 0xB2, 0x37, 0x32, 0x6A, 0x7D, 0x91,
-	0xA2, 0xE0, 0xEF, 0x36, 0x5C, 0xA6, 0x2B, 0x15, 0x24, 0xDE, 0xF6, 0x78, 0xFE, 0xCB, 0xD7, 0xB0, 0x36, 0x93, 0xE4, 0x35,
-	0x5C, 0xC5, 0xA5, 0x12, 0x47, 0x0C, 0x97, 0xB5, 0x41, 0x4E, 0x22, 0xF2, 0x5A, 0xA9, 0xFC, 0x3C, 0xFC, 0x49, 0x5D, 0x56,
-	0xD1, 0x07, 0x34, 0x3A, 0xEF, 0xA8, 0xBB, 0x53, 0xB7, 0x36, 0x28, 0xF5, 0x1E, 0xAD, 0xEB, 0x8D, 0xE3, 0xB0, 0xF6, 0x79,
-	0x2E, 0xA0, 0xB2, 0xFD, 0x85, 0xA6, 0x6A, 0xF9, 0x9D, 0x8F, 0x25, 0x0D, 0xC5, 0xCD, 0x72, 0xC7, 0x0D, 0x17, 0x76, 0xB8,
-	0xAB, 0x3B, 0x99, 0x2C, 0xA9, 0xE6, 0xAB, 0x79, 0x39, 0xE6, 0xB9, 0xB8, 0xA2, 0x8A, 0x69, 0x8E, 0xBA, 0xAA, 0xE7, 0x8E,
-	0x28, 0xAB, 0x9E, 0x02, 0x72, 0x5E, 0x13, 0xF4, 0x07, 0x60, 0x78, 0x5B, 0xE9, 0x1B, 0xD9, 0xFA, 0x3F, 0x91, 0x7C, 0x6B,
-	0xBA, 0x06, 0xCD, 0xFD, 0x02, 0xEF, 0xAD, 0xCF, 0x33, 0x63, 0x79, 0xB1, 0xE3, 0x24, 0xB6, 0xD5, 0xAC, 0xF7, 0x0D, 0x72,
-	0xFE, 0x3C, 0x3E, 0x2B, 0x61, 0xCC, 0xF1, 0x2D, 0x18, 0x3B, 0x7C, 0xDD, 0x55, 0xF1, 0x45, 0x32, 0x45, 0x05, 0xCD, 0xC4,
-	0x34, 0xC9, 0x35, 0x11, 0xF1, 0x2D, 0x52, 0x73, 0x55, 0x14, 0x87, 0x25, 0xBE, 0x99, 0x3F, 0xDF, 0xBF, 0x93, 0x7F, 0xC2,
-	0x4D, 0x4F, 0xF9, 0xC6, 0xA0, 0x71, 0x6B, 0xD4, 0x47, 0xFE, 0x7D, 0x7C, 0xCB, 0xFF, 0x00, 0xEC, 0xE7, 0x76, 0xFF, 0x00,
-	0xDC, 0x4D, 0x80, 0x1F, 0x19, 0xE2, 0x67, 0x95, 0x9D, 0xB1, 0xE1, 0xAF, 0x75, 0xEB, 0x1D, 0xDD, 0xD4, 0x39, 0x6F, 0xC2,
-	0x66, 0x70, 0xB3, 0x53, 0x69, 0x9E, 0xC0, 0x5D, 0xD7, 0x2F, 0x3A, 0xFE, 0xF3, 0xAA, 0x5C, 0x5C, 0x5B, 0xCB, 0x9A, 0xD3,
-	0x76, 0x7B, 0x48, 0xF9, 0xE3, 0x9B, 0x9C, 0x3E, 0x5E, 0x2B, 0x7A, 0x78, 0xF9, 0xD3, 0xED, 0x3D, 0xAC, 0xF4, 0x47, 0x71,
-	0x05, 0x71, 0xCF, 0x14, 0x72, 0x52, 0x16, 0x1F, 0xF8, 0x61, 0xE4, 0xE7, 0x45, 0xF9, 0x95, 0xD5, 0x16, 0x9E, 0x45, 0xF4,
-	0xCC, 0x18, 0xFB, 0x4B, 0xED, 0xBA, 0x2C, 0x6E, 0x0F, 0xB1, 0xF1, 0x72, 0x45, 0x63, 0x1E, 0xE3, 0xAC, 0x6D, 0x9A, 0xD5,
-	0xA5, 0x5E, 0xFA, 0x7E, 0xEB, 0x25, 0xAD, 0x34, 0xCB, 0x75, 0x79, 0x81, 0x87, 0x2B, 0xCD, 0x56, 0x53, 0xD7, 0xFD, 0x5D,
-	0xCD, 0x85, 0xCC, 0x53, 0xC3, 0xFD, 0x54, 0xB4, 0x71, 0xC0, 0x57, 0x61, 0xD1, 0x7D, 0x0F, 0xB8, 0x79, 0x3B, 0xE4, 0x9E,
-	0x91, 0xD0, 0xBA, 0x24, 0x5C, 0xD5, 0xB1, 0xF6, 0x67, 0x60, 0xD5, 0xAF, 0xC3, 0x79, 0xCC, 0x35, 0xDC, 0x41, 0x84, 0xC5,
-	0xF3, 0x79, 0x73, 0x79, 0xB1, 0x6C, 0xD7, 0xD1, 0x47, 0xCD, 0x32, 0x57, 0x8C, 0xD5, 0xF5, 0xEB, 0x4B, 0xAC, 0x8D, 0xCF,
-	0x14, 0xF3, 0xF2, 0xE6, 0xDE, 0xDA, 0xBF, 0x8F, 0xBD, 0x5E, 0xDC, 0x72, 0x12, 0x62, 0xF5, 0xD8, 0xEE, 0xFD, 0x4F, 0xC5,
-	0x6F, 0x15, 0xFA, 0x1B, 0xD3, 0x87, 0xA3, 0xE7, 0x8F, 0x0B, 0x8E, 0xCC, 0xEA, 0xF8, 0x1B, 0xAD, 0xC3, 0x1F, 0x6B, 0x73,
-	0x4F, 0x19, 0x3B, 0x0E, 0xA3, 0xEB, 0xF9, 0xAD, 0xEC, 0x75, 0x4B, 0x1C, 0xBD, 0x50, 0xF1, 0x0D, 0x53, 0xDD, 0x76, 0x1E,
-	0xE9, 0x8D, 0x9A, 0xFA, 0xEA, 0xE3, 0x9E, 0x3E, 0x77, 0x32, 0x61, 0xAE, 0x3E, 0xEF, 0x1C, 0xF1, 0x71, 0x57, 0x35, 0x04,
-	0x46, 0x01, 0xB0, 0xBE, 0x28, 0xF9, 0x09, 0xB2, 0xF8, 0xAB, 0xE4, 0x57, 0x52, 0xF7, 0xFE, 0xAB, 0xF7, 0xE5, 0xC8, 0x75,
-	0xBE, 0xDD, 0x61, 0x97, 0xBF, 0xC6, 0xDB, 0xCF, 0xCD, 0xBF, 0x39, 0xFD, 0x62, 0xE3, 0x89, 0x31, 0x9B, 0x7E, 0xB1, 0x24,
-	0xBE, 0xFC, 0x71, 0x44, 0x3B, 0x2E, 0xAF, 0x7D, 0x77, 0x63, 0x55, 0x5C, 0xFB, 0xF1, 0x47, 0x13, 0xFC, 0xBF, 0xB6, 0x9E,
-	0x01, 0x28, 0x5F, 0x5E, 0x8F, 0x1C, 0x75, 0x5F, 0x26, 0x3C, 0x62, 0xEA, 0x0F, 0x50, 0xBE, 0x93, 0xE2, 0x1D, 0x86, 0x8D,
-	0x4F, 0x59, 0xD7, 0x78, 0xD9, 0xB2, 0xD8, 0xC8, 0x38, 0xAE, 0x6D, 0x8F, 0xA3, 0x7B, 0x02, 0xB8, 0x32, 0x7A, 0xB6, 0x7A,
-	0xE2, 0x98, 0x63, 0x9A, 0xE2, 0xA9, 0x74, 0x7D, 0x9B, 0x35, 0x4F, 0xCE, 0x2F, 0xD3, 0xF8, 0x7B, 0x6C, 0xC5, 0xDC, 0x93,
-	0x73, 0xC7, 0x16, 0xDE, 0xD4, 0x87, 0xAB, 0xF4, 0xC9, 0x7E, 0xE3, 0x7C, 0x9E, 0xFE, 0x2B, 0xE9, 0xDF, 0xCA, 0x17, 0x00,
-	0x8D, 0x2E, 0x6F, 0xC0, 0xCF, 0x39, 0x65, 0xCC, 0xE5, 0xE5, 0x8B, 0xC3, 0x1F, 0x2B, 0xE4, 0x8A, 0x4C, 0x9D, 0xFC, 0x91,
-	0xC9, 0x1F, 0x8E, 0xBD, 0xBF, 0x5C, 0x72, 0x47, 0x5D, 0xD4, 0xB5, 0x51, 0x5D, 0x15, 0xD3, 0xA7, 0xF3, 0x4D, 0x74, 0x57,
-	0x4F, 0x3C, 0x73, 0xC7, 0x3C, 0x73, 0xED, 0xCF, 0x00, 0xC0, 0x7D, 0x99, 0xD3, 0x5D, 0xBF, 0xD2, 0xB9, 0x5C, 0x7E, 0x0B,
-	0xB9, 0x3A, 0xA7, 0xB2, 0x7A, 0x97, 0x39, 0x96, 0xC7, 0xFE, 0xD6, 0xC5, 0xE1, 0xBB, 0x33, 0x46, 0xD9, 0xF4, 0x3C, 0xAE,
-	0x4B, 0x15, 0xF8, 0x99, 0xAC, 0xFF, 0x00, 0x69, 0xE3, 0xF1, 0xDB, 0x4E, 0x2F, 0x15, 0x77, 0x79, 0x8F, 0xFC, 0x5D, 0xB4,
-	0x91, 0x7D, 0xE8, 0xE8, 0xAA, 0x3F, 0xB9, 0x1D, 0x54, 0xFC, 0xBE, 0x54, 0xF3, 0xC7, 0x01, 0x8D, 0x80, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFF, 0xD7, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xB9, 0xAC, 0x6C,
-	0x39, 0x1D, 0x4B, 0x64, 0xD7, 0xB6, 0xBC, 0x47, 0x30, 0xD3, 0x96, 0xD6, 0x73, 0x98, 0x9D, 0x87, 0x17, 0x55, 0xC4, 0x5F,
-	0x7E, 0xDE, 0x9C, 0x8E, 0x16, 0xFE, 0xDF, 0x25, 0x65, 0xCC, 0xF0, 0xFC, 0xA9, 0xFB, 0xD0, 0xF1, 0x73, 0x6D, 0x4F, 0xCA,
-	0x9F, 0x7E, 0x3E, 0x54, 0xFB, 0xF1, 0xEE, 0x0D, 0xC8, 0xF3, 0x1F, 0xD4, 0x3B, 0xC9, 0x1F, 0x3B, 0x2D, 0xBA, 0xFA, 0xD7,
-	0xBF, 0xB2, 0xBA, 0x96, 0x4A, 0x1E, 0xB2, 0x9F, 0x67, 0xB8, 0xD5, 0xB8, 0xD6, 0x35, 0x4B, 0x3D, 0x6B, 0x98, 0x64, 0xDB,
-	0xA3, 0xC0, 0x47, 0x99, 0xE6, 0xF6, 0xAB, 0x59, 0xA5, 0xE6, 0xF3, 0x8A, 0xE9, 0xD6, 0xED, 0x7E, 0xDF, 0x15, 0x7B, 0x7D,
-	0xBF, 0x6A, 0xBD, 0xBF, 0xF7, 0x7E, 0x41, 0xA3, 0x60, 0xF5, 0xF5, 0xFD, 0x83, 0x39, 0xA9, 0xE7, 0xB0, 0xBB, 0x46, 0xB1,
-	0x97, 0xC9, 0x6B, 0xFB, 0x26, 0xB9, 0x95, 0xC7, 0xE7, 0x70, 0x19, 0xEC, 0x35, 0xE5, 0xC6, 0x3B, 0x2D, 0x85, 0xCC, 0xE2,
-	0x6E, 0xE2, 0xBE, 0xC6, 0x65, 0x71, 0x97, 0xF6, 0xB2, 0x45, 0x73, 0x65, 0x90, 0xC7, 0xDE, 0xC1, 0x44, 0xB0, 0xCB, 0x1D,
-	0x54, 0xD7, 0x1C, 0x94, 0x71, 0x55, 0x3C, 0xF1, 0xCF, 0x1C, 0x72, 0x0D, 0xB6, 0xF3, 0x53, 0xCD, 0xCE, 0xCC, 0xF3, 0x9F,
-	0x6D, 0xEA, 0xFD, 0xF7, 0xB6, 0xB1, 0x58, 0x1B, 0x3D, 0xCB, 0xAE, 0xFA, 0x87, 0x03, 0xD5, 0x37, 0xF9, 0x9C, 0x15, 0x13,
-	0x5B, 0xD3, 0xB9, 0x57, 0x84, 0xCE, 0x6C, 0x79, 0xD9, 0x76, 0xDC, 0x9D, 0x85, 0x7C, 0xFE, 0x13, 0x1B, 0x97, 0xCB, 0x5D,
-	0x6C, 0x72, 0x73, 0x3C, 0x16, 0xBC, 0x51, 0x6B, 0x4D, 0x54, 0x7B, 0xC7, 0x45, 0x14, 0xF3, 0xC5, 0x14, 0x86, 0xA6, 0x6B,
-	0xBB, 0x26, 0xC3, 0xA8, 0x67, 0x71, 0x5B, 0x46, 0xA5, 0x9E, 0xCD, 0x6A, 0xFB, 0x36, 0x0A, 0xF6, 0x0C, 0x9E, 0x0F, 0x62,
-	0xD7, 0x72, 0x97, 0xD8, 0x4C, 0xEE, 0x1B, 0x25, 0x6B, 0x5F, 0xCE, 0xDB, 0x21, 0x8A, 0xCB, 0xE3, 0x67, 0xB6, 0xC8, 0x63,
-	0xAF, 0x6D, 0xEB, 0xE3, 0xDE, 0x89, 0x61, 0x92, 0x89, 0x28, 0xE7, 0xF3, 0xE3, 0x9E, 0x01, 0xDC, 0xCE, 0x8E, 0xFA, 0x87,
-	0x7C, 0xE4, 0xEA, 0xFC, 0x3E, 0x33, 0x5D, 0xEC, 0x3C, 0x6F, 0x57, 0x77, 0xD6, 0x3B, 0x1D, 0x6F, 0xCD, 0xAF, 0xED, 0xCD,
-	0xD7, 0x03, 0x92, 0xD7, 0xF7, 0xDB, 0x88, 0x61, 0x86, 0x58, 0xEC, 0x68, 0x9F, 0x63, 0xD3, 0x32, 0xB8, 0x6C, 0x25, 0xE5,
-	0x70, 0x7B, 0xC7, 0xC4, 0xB3, 0xDD, 0x62, 0x2E, 0x6F, 0x2E, 0xA9, 0x8F, 0xDE, 0x59, 0xB9, 0x9A, 0xBA, 0xE6, 0xA8, 0x33,
-	0x2E, 0xD3, 0xF5, 0x30, 0x79, 0x3F, 0x7F, 0x87, 0x9E, 0xD7, 0x50, 0xE8, 0x2E, 0x8D, 0xD6, 0xF3, 0x52, 0xF3, 0xF0, 0x8B,
-	0x2F, 0x99, 0xBA, 0xDE, 0x76, 0x9B, 0x6B, 0x58, 0xAA, 0xA2, 0x4A, 0x64, 0xAE, 0x1C, 0x4D, 0xBE, 0x7B, 0x5A, 0xF9, 0xDE,
-	0x53, 0x55, 0x54, 0xD5, 0x15, 0x72, 0x4F, 0x5C, 0x54, 0xD5, 0x4F, 0xEB, 0x8A, 0x4E, 0x39, 0xF6, 0xE0, 0x38, 0xAD, 0xE4,
-	0xFF, 0x00, 0x99, 0xDE, 0x4A, 0xF9, 0x8B, 0xB4, 0xD1, 0xB4, 0xF9, 0x03, 0xDA, 0x59, 0xDD, 0xD7, 0xF0, 0x53, 0x4D, 0x2E,
-	0xBF, 0xAC, 0x51, 0xCC, 0x38, 0x6D, 0x17, 0x53, 0xA2, 0x6F, 0x78, 0xFE, 0xDE, 0xB1, 0xA5, 0xE1, 0xE2, 0xB3, 0xD7, 0xF1,
-	0x73, 0x7E, 0x1B, 0xE3, 0x0C, 0xB7, 0x9C, 0x41, 0x5E, 0x42, 0xF2, 0x88, 0xE8, 0xE6, 0xEA, 0xE2, 0x7A, 0xF8, 0xF9, 0xF2,
-	0x1A, 0xBA, 0x00, 0x32, 0x7F, 0x4E, 0x77, 0x4F, 0x6A, 0x78, 0xFB, 0xD8, 0x38, 0x3E, 0xD4, 0xE9, 0x8D, 0xE3, 0x39, 0xD7,
-	0xBB, 0xFE, 0xB9, 0x24, 0x95, 0xE2, 0xB6, 0x2C, 0x0C, 0xF1, 0xD1, 0x3D, 0x31, 0x4F, 0x4F, 0xDB, 0xBA, 0xB0, 0xBE, 0xB3,
-	0xBA, 0x8A, 0xE7, 0x1B, 0x98, 0xC4, 0x5F, 0xC5, 0xFA, 0x2E, 0x6C, 0xAF, 0x21, 0x9E, 0xD2, 0xE6, 0x3F, 0xD3, 0x2C, 0x75,
-	0xD3, 0xF9, 0x03, 0xBE, 0x5A, 0x57, 0xD4, 0xB5, 0xE5, 0x3E, 0x23, 0x03, 0x6D, 0x8F, 0xDE, 0x3A, 0x3B, 0xA4, 0x77, 0x4C,
-	0xE5, 0xB7, 0xC2, 0x2A, 0xB6, 0x1C, 0x6C, 0x9B, 0x96, 0xA1, 0xCD, 0xFC, 0x11, 0xDB, 0x5B, 0xC5, 0xC4, 0xD9, 0x1C, 0x4D,
-	0x19, 0xBC, 0xED, 0x9F, 0x39, 0x49, 0xEE, 0x28, 0x96, 0x59, 0x64, 0xB5, 0xE6, 0xD6, 0xDB, 0x9F, 0xB9, 0xC5, 0x31, 0xDB,
-	0xC5, 0xC5, 0x3F, 0xA8, 0x34, 0xF3, 0xCC, 0x7F, 0x5A, 0xFF, 0x00, 0x31, 0x7C, 0xBE, 0xD5, 0x33, 0x3D, 0x69, 0x35, 0xE6,
-	0xB1, 0xD3, 0x1D, 0x53, 0x9F, 0xB5, 0xE7, 0x1F, 0x9F, 0xD4, 0x3A, 0xB6, 0xDF, 0x29, 0x67, 0x94, 0xDA, 0xB1, 0x72, 0x53,
-	0xED, 0x73, 0x8C, 0xDB, 0x37, 0x2C, 0xBE, 0x4B, 0x21, 0x9C, 0xBE, 0xC6, 0x5E, 0x7C, 0xAB, 0x8E, 0xE2, 0xD2, 0xC7, 0xF6,
-	0x6D, 0x95, 0xDD, 0xB5, 0x5F, 0x66, 0xE6, 0x09, 0xE9, 0xF9, 0xF3, 0x58, 0x73, 0xDB, 0xC6, 0xCF, 0x22, 0xFB, 0x2F, 0xC5,
-	0x1E, 0xE3, 0xD5, 0xBB, 0xD7, 0xA8, 0x6E, 0xF1, 0x16, 0x5B, 0xFE, 0x9F, 0x06, 0x7E, 0xDF, 0x0B, 0x73, 0x9D, 0xC4, 0xC3,
-	0x9C, 0xC5, 0xD1, 0x1E, 0xCB, 0xAE, 0xE5, 0x35, 0x7C, 0xA7, 0x17, 0x18, 0xCB, 0x8A, 0xE3, 0x8A, 0x7E, 0x6B, 0xC5, 0x66,
-	0x26, 0xE2, 0x8E, 0x79, 0xE7, 0x8F, 0x85, 0x7C, 0xF1, 0x57, 0xF9, 0x03, 0xD6, 0xF2, 0x93, 0xCA, 0x4E, 0xD7, 0xF3, 0x0B,
-	0xB5, 0xEE, 0xFB, 0xA3, 0xBA, 0x2E, 0xF0, 0x77, 0xDB, 0xC5, 0xF6, 0x0F, 0x0B, 0xAF, 0x5C, 0x5C, 0x6B, 0xD8, 0x58, 0x70,
-	0x38, 0xEA, 0xF1, 0xD8, 0x18, 0x65, 0x83, 0x1D, 0xC7, 0x18, 0xE8, 0x25, 0x96, 0x2A, 0x26, 0xA2, 0x29, 0x79, 0xE2, 0xAA,
-	0xB8, 0xE7, 0x8F, 0x97, 0xB7, 0x1F, 0x97, 0xBF, 0xF6, 0x86, 0x00, 0xC7, 0x64, 0x72, 0x18, 0x7C, 0x85, 0x86, 0x5F, 0x11,
-	0x7F, 0x79, 0x8B, 0xCA, 0xE2, 0xEF, 0x2D, 0x72, 0x38, 0xCC, 0x9E, 0x3A, 0xEA, 0x7B, 0x1C, 0x86, 0x3B, 0x21, 0x63, 0x3C,
-	0x77, 0x36, 0x57, 0xF6, 0x17, 0xB6, 0xD2, 0x45, 0x73, 0x67, 0x79, 0x67, 0x73, 0x15, 0x32, 0x45, 0x2C, 0x75, 0x53, 0x5C,
-	0x75, 0xD3, 0xC5, 0x54, 0xF3, 0xC7, 0x3C, 0x71, 0xCF, 0x01, 0xDB, 0xBF, 0x1E, 0xBE, 0xA0, 0x2F, 0x3A, 0x7A, 0x5F, 0x13,
-	0x8E, 0xD6, 0x77, 0x8B, 0x8D, 0x17, 0xC8, 0x4D, 0x7E, 0xC2, 0x3A, 0x2D, 0xE3, 0xBD, 0xED, 0x0C, 0x56, 0x52, 0x1D, 0xF6,
-	0x3B, 0x48, 0x21, 0xB9, 0xA6, 0x18, 0xA3, 0xDE, 0x35, 0x8C, 0xB6, 0x1A, 0x5C, 0x94, 0xF5, 0x5C, 0x4B, 0x1D, 0x53, 0x5C,
-	0xE5, 0xEC, 0xF2, 0xD7, 0x52, 0xD1, 0x17, 0xC7, 0xEE, 0x53, 0x55, 0x5C, 0xD7, 0xC0, 0x6C, 0x9E, 0x67, 0xEA, 0x67, 0xF2,
-	0x42, 0x7C, 0x65, 0xDC, 0x5A, 0xFF, 0x00, 0x8E, 0x7D, 0x23, 0x8C, 0xCC, 0x57, 0x45, 0x1C, 0x58, 0xDF, 0xE6, 0x72, 0xDB,
-	0xE6, 0x77, 0x19, 0x6F, 0x27, 0x12, 0xD1, 0xCC, 0x95, 0x5D, 0xE2, 0x6C, 0xB3, 0x1A, 0xED, 0xD5, 0xE5, 0x15, 0x43, 0xC5,
-	0x54, 0xF1, 0x4D, 0x17, 0xB0, 0x73, 0x4D, 0x5C, 0xF1, 0x57, 0xBF, 0x3C, 0x71, 0xCD, 0x35, 0x07, 0x1F, 0x7C, 0xB3, 0xF5,
-	0x0C, 0xF2, 0xCB, 0xCD, 0x5B, 0xC8, 0x69, 0xEF, 0x4E, 0xCF, 0xBE, 0xC8, 0xEA, 0x96, 0x17, 0x3C, 0x5E, 0x61, 0xFA, 0xDB,
-	0x59, 0xB6, 0x8B, 0x55, 0xEB, 0x9C, 0x4D, 0xCD, 0x14, 0xF1, 0xC4, 0x77, 0x54, 0x6B, 0x58, 0xCE, 0x68, 0xA3, 0x33, 0x91,
-	0x83, 0x9E, 0x6B, 0xE6, 0x2B, 0xDC, 0xA4, 0xB7, 0xF7, 0xD0, 0xD3, 0x2D, 0x74, 0x47, 0x35, 0x31, 0xD5, 0xF0, 0xE0, 0x3C,
-	0x9F, 0x0F, 0xBC, 0xE5, 0xEF, 0xBF, 0x06, 0xB6, 0x4D, 0xC7, 0x6B, 0xE8, 0x4C, 0x86, 0xB1, 0x8E, 0xCC, 0x6F, 0x58, 0x3B,
-	0x0D, 0x7B, 0x3D, 0x2E, 0xCD, 0xAD, 0xDB, 0x6C, 0x90, 0xD7, 0x8D, 0xC7, 0x5F, 0xD5, 0x92, 0xB7, 0x8E, 0xD6, 0x0B, 0x99,
-	0xA2, 0xA2, 0xDA, 0x5F, 0xC5, 0x55, 0xEF, 0x55, 0x7C, 0x7B, 0xF3, 0xCF, 0x1C, 0x7B, 0x7E, 0x5F, 0x9F, 0xB8, 0x6B, 0xDF,
-	0x6A, 0xF6, 0x56, 0xD1, 0xDC, 0x9D, 0x99, 0xBF, 0xF6, 0xD6, 0xED, 0x35, 0x9D, 0xC6, 0xE1, 0xD9, 0x7B, 0x8E, 0xC5, 0xBD,
-	0x6D, 0x13, 0xE3, 0xEC, 0xE8, 0xC7, 0xD8, 0x4D, 0x9F, 0xDA, 0x32, 0xB7, 0x59, 0x9C, 0xAC, 0x96, 0x76, 0x31, 0x73, 0x54,
-	0x76, 0x76, 0xB5, 0xDE, 0xDE, 0x57, 0xCD, 0x11, 0x53, 0xCF, 0x3C, 0x51, 0x4F, 0xB7, 0x1F, 0xE4, 0x0F, 0x81, 0x06, 0xED,
-	0xF8, 0x2B, 0xE7, 0x97, 0x73, 0x78, 0x0D, 0xDA, 0xB7, 0x3D, 0x8B, 0xD5, 0x92, 0xDA, 0xE6, 0xB0, 0xBB, 0x06, 0x3B, 0x9C,
-	0x46, 0xF9, 0xD7, 0x19, 0xEB, 0x9B, 0xD8, 0xF5, 0x2D, 0xE3, 0x1F, 0x0C, 0x77, 0x5C, 0xE2, 0x6B, 0xC9, 0xC5, 0x67, 0x25,
-	0x13, 0x5A, 0xE5, 0xF5, 0xFB, 0xDB, 0xAA, 0xA7, 0xB0, 0xBD, 0x8B, 0xDA, 0x7B, 0x7E, 0x6B, 0x96, 0x2F, 0x7A, 0xA0, 0x9E,
-	0x78, 0xE4, 0x0F, 0x94, 0xF1, 0x5F, 0xCC, 0xBE, 0xE1, 0xF0, 0xDF, 0xB3, 0x76, 0x1E, 0xDD, 0xE9, 0x58, 0xB4, 0xBB, 0x5D,
-	0xDF, 0x62, 0xC1, 0x64, 0x75, 0xB9, 0x32, 0x7B, 0x5E, 0xAB, 0x67, 0xB5, 0x7E, 0xCB, 0xC4, 0xE5, 0xB2, 0x76, 0x79, 0x5C,
-	0x84, 0x58, 0x5A, 0x2F, 0xA4, 0xA3, 0xF6, 0x6D, 0xCD, 0xDC, 0xD6, 0x11, 0x47, 0x24, 0xD4, 0x73, 0xF7, 0x2A, 0x87, 0x8E,
-	0x63, 0xF7, 0xF8, 0xD7, 0x5F, 0x15, 0x07, 0xC0, 0x79, 0x19, 0xE4, 0x4F, 0x6A, 0x79, 0x55, 0xDB, 0xBB, 0x3F, 0x77, 0x77,
-	0x2E, 0x72, 0x2C, 0xF6, 0xF7, 0xB5, 0xD3, 0x8B, 0x86, 0xFA, 0x7B, 0x3B, 0x4A, 0x31, 0xB8, 0xAB, 0x2B, 0x2C, 0x2E, 0x2E,
-	0xD3, 0x0F, 0x8C, 0xC6, 0xE1, 0xB1, 0x30, 0xD5, 0x55, 0xB6, 0x2F, 0x1D, 0x6B, 0x67, 0x65, 0x4F, 0xB4, 0x51, 0xFB, 0x71,
-	0x54, 0xB5, 0x57, 0x2D, 0x5F, 0x29, 0x24, 0xAE, 0xAA, 0x83, 0x07, 0x00, 0x0E, 0x8F, 0xF5, 0x2F, 0xAA, 0xA7, 0x96, 0xFD,
-	0x3B, 0xE3, 0x8C, 0xFE, 0x29, 0x60, 0x73, 0x3A, 0x2E, 0xC5, 0xD2, 0x97, 0x18, 0x3D, 0xBB, 0x57, 0x93, 0x5A, 0xDE, 0xF4,
-	0x7C, 0x76, 0xD7, 0x2F, 0xF4, 0x67, 0x78, 0xAF, 0x23, 0x26, 0xC1, 0xAF, 0x7E, 0x3A, 0xF6, 0x6A, 0x65, 0xAB, 0x11, 0x34,
-	0x99, 0x7B, 0x9E, 0x62, 0x8A, 0xAE, 0x2A, 0xE2, 0x1E, 0x26, 0xE6, 0x9A, 0x3D, 0xA9, 0xE2, 0x9A, 0x69, 0x0F, 0x99, 0xF0,
-	0xFB, 0xD4, 0x9F, 0xC9, 0xEF, 0x06, 0xB5, 0xBD, 0xC7, 0x54, 0xE8, 0x4C, 0xAE, 0x9B, 0x8D, 0xC4, 0xEF, 0x59, 0xCB, 0x1D,
-	0x87, 0x60, 0xA7, 0x66, 0xD4, 0x6C, 0xF6, 0x4B, 0x89, 0x72, 0x38, 0xEB, 0x0E, 0x71, 0xB6, 0xBC, 0xDB, 0x4D, 0x75, 0x3C,
-	0x5F, 0x86, 0x86, 0x8B, 0x6A, 0xB9, 0xF7, 0xA6, 0x9E, 0x3F, 0x55, 0x5C, 0xFB, 0xF3, 0xCF, 0xF6, 0x7B, 0x06, 0xE1, 0x7F,
-	0xE6, 0x0D, 0xF5, 0x1A, 0xFF, 0x00, 0xF2, 0x8E, 0xA8, 0xFF, 0x00, 0xF5, 0x66, 0x23, 0xFF, 0x00, 0xEB, 0x07, 0x3E, 0x7C,
-	0xBE, 0xF3, 0x5F, 0xBD, 0x3C, 0xE1, 0xDD, 0x75, 0x8D, 0xFB, 0xBE, 0x72, 0x3A, 0xE6, 0x47, 0x61, 0xD4, 0x75, 0x7F, 0xE8,
-	0x7E, 0x1A, 0x4D, 0x6B, 0x5D, 0xB6, 0xD6, 0xED, 0x23, 0xC3, 0x7E, 0xD6, 0xC8, 0x66, 0xBE, 0x13, 0xDA, 0xDA, 0xCB, 0x2D,
-	0x33, 0xDC, 0x7E, 0x3B, 0x27, 0x2F, 0x3F, 0x73, 0x9E, 0x7D, 0xFE, 0x3E, 0xDC, 0x7F, 0x90, 0x35, 0x28, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD5, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD6, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD7, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD4, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD5, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD6, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD7, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD3, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD4, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD5, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD6, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD7, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD0, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xD1, 0xAF, 0xFC, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF,
-	0xD2, 0xAF, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x07, 0xFF, 0xD9,
-};
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.h	2023-12-15 01:51:35.138398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/blank_jpeg.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,34 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-
-#include <sys/types.h>
-
-
-extern const unsigned BLANK_JPEG_WIDTH;
-extern const unsigned BLANK_JPEG_HEIGHT;
-
-extern const size_t BLANK_JPEG_DATA_SIZE;
-extern const uint8_t BLANK_JPEG_DATA[];
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index.html /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index.html
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index.html	2023-12-15 01:51:35.138398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index.html	1969-12-31 19:00:00.000000000 -0500
@@ -1,75 +0,0 @@
-<!DOCTYPE html>
-
-<html>
-<head>
-	<meta charset="utf-8" />
-	<title>uStreamer</title>
-	<style>body {font-family: monospace;}</style>
-</head>
-
-<body>
-	<h3>&micro;Streamer v%VERSION%</h3>
-	<hr>
-	<ul>
-		<li>
-			<a href="state"><b>/state</b></a><br>
-			Get JSON structure with the state of the server.
-		</li>
-		<br>
-		<li>
-			<a href="snapshot"><b>/snapshot</b></a><br>
-			Get a current actual image from the server.
-		</li>
-		<br>
-		<li>
-			<a href="stream"><b>/stream</b></a><br>
-			Get a live stream. Query params:<br>
-			<br>
-			<ul>
-				<li>
-					<b>key=abc123</b><br>
-					The user-defined key, which is part of cookie <i>stream_client</i>, which allows<br>
-					the stream client to determine its identifier and view statistics using <a href="state">/state</a>.
-				</li>
-				<br>
-				<li>
-					<b>extra_headers=1</b><br>
-					Add <i>X-UStreamer-*</i> headers to the <a href="stream">/stream</a> handle
-					(like with the <a href="snapshot">/snapshot</a>).
-				</li>
-				<br>
-				<li>
-					<b>advance_headers=1</b><br>
-					Enable workaround for the Chromium/Blink bug
-					<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=527446">#527446</a>.
-				</li>
-				<br>
-				<li>
-					<b>dual_final_frames=1</b><br>
-					Enable workaround for the Safari/WebKit bug when using option <i>--drop-same-frames</i>.<br>
-					Without this option, when the frame series is completed, WebKit-based browsers<br>
-					renders the last frame with a delay.
-				</li>
-				<br>
-				<li>
-					<b>zero_data=1</b><br>
-					Disables the actual sending of JPEG data and leaves only response headers.
-				</li>
-			</ul>
-		</li>
-		<br>
-		<li>
-			The mjpg-streamer compatibility layer:<br>
-			<br>
-			<ul>
-				<li><a href="?action=snapshot">/?action=snapshot</a> as alias to the <a href="snapshot">/snapshot</a>.</li>
-				<br>
-				<li><a href="?action=stream">/?action=stream</a> as alias to the <a href="stream">/stream</a>.</li>
-			</ul>
-		</li>
-	</ul>
-	<br>
-	<hr>
-	<a href="https://github.com/pikvm/ustreamer">Sources &amp; docs</a>
-</body>
-</html>
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.c	2023-12-15 01:51:35.138398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,101 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-#include "index_html.h"
-
-
-const char *const HTML_INDEX_PAGE = " \
-	<!DOCTYPE html> \
-	\
-	<html> \
-	<head> \
-		<meta charset=\"utf-8\" /> \
-		<title>uStreamer</title> \
-		<style>body {font-family: monospace;}</style> \
-	</head> \
-	\
-	<body> \
-		<h3>&micro;Streamer v" VERSION "</h3> \
-		<hr> \
-		<ul> \
-			<li> \
-				<a href=\"state\"><b>/state</b></a><br> \
-				Get JSON structure with the state of the server. \
-			</li> \
-			<br> \
-			<li> \
-				<a href=\"snapshot\"><b>/snapshot</b></a><br> \
-				Get a current actual image from the server. \
-			</li> \
-			<br> \
-			<li> \
-				<a href=\"stream\"><b>/stream</b></a><br> \
-				Get a live stream. Query params:<br> \
-				<br> \
-				<ul> \
-					<li> \
-						<b>key=abc123</b><br> \
-						The user-defined key, which is part of cookie <i>stream_client</i>, which allows<br> \
-						the stream client to determine its identifier and view statistics using <a href=\"state\">/state</a>. \
-					</li> \
-					<br> \
-					<li> \
-						<b>extra_headers=1</b><br> \
-						Add <i>X-UStreamer-*</i> headers to the <a href=\"stream\">/stream</a> handle \
-						(like with the <a href=\"snapshot\">/snapshot</a>). \
-					</li> \
-					<br> \
-					<li> \
-						<b>advance_headers=1</b><br> \
-						Enable workaround for the Chromium/Blink bug \
-						<a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=527446\">#527446</a>. \
-					</li> \
-					<br> \
-					<li> \
-						<b>dual_final_frames=1</b><br> \
-						Enable workaround for the Safari/WebKit bug when using option <i>--drop-same-frames</i>.<br> \
-						Without this option, when the frame series is completed, WebKit-based browsers<br> \
-						renders the last frame with a delay. \
-					</li> \
-					<br> \
-					<li> \
-						<b>zero_data=1</b><br> \
-						Disables the actual sending of JPEG data and leaves only response headers. \
-					</li> \
-				</ul> \
-			</li> \
-			<br> \
-			<li> \
-				The mjpg-streamer compatibility layer:<br> \
-				<br> \
-				<ul> \
-					<li><a href=\"?action=snapshot\">/?action=snapshot</a> as alias to the <a href=\"snapshot\">/snapshot</a>.</li> \
-					<br> \
-					<li><a href=\"?action=stream\">/?action=stream</a> as alias to the <a href=\"stream\">/stream</a>.</li> \
-				</ul> \
-			</li> \
-		</ul> \
-		<br> \
-		<hr> \
-		<a href=\"https://github.com/pikvm/ustreamer\">Sources &amp; docs</a> \
-	</body> \
-	</html> \
-";
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.h	2023-12-15 01:51:35.138398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/data/index_html.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,30 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <sys/types.h>
-
-#include "../../libs/config.h"
-
-
-extern const char *const HTML_INDEX_PAGE;
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/device.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/device.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/device.c	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/device.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,954 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "device.h"
-
-
-static const struct {
-	const char *name;
-	const v4l2_std_id standard;
-} _STANDARDS[] = {
-	{"UNKNOWN",	V4L2_STD_UNKNOWN},
-	{"PAL",		V4L2_STD_PAL},
-	{"NTSC",	V4L2_STD_NTSC},
-	{"SECAM",	V4L2_STD_SECAM},
-};
-
-static const struct {
-	const char *name;
-	const unsigned format;
-} _FORMATS[] = {
-	{"YUYV",	V4L2_PIX_FMT_YUYV},
-	{"UYVY",	V4L2_PIX_FMT_UYVY},
-	{"RGB565",	V4L2_PIX_FMT_RGB565},
-	{"RGB24",	V4L2_PIX_FMT_RGB24},
-	{"MJPEG",	V4L2_PIX_FMT_MJPEG},
-	{"JPEG",	V4L2_PIX_FMT_JPEG},
-};
-
-static const struct {
-	const char *name;
-	const enum v4l2_memory io_method;
-} _IO_METHODS[] = {
-	{"MMAP",	V4L2_MEMORY_MMAP},
-	{"USERPTR",	V4L2_MEMORY_USERPTR},
-};
-
-
-static int _device_open_check_cap(device_s *dev);
-static int _device_open_dv_timings(device_s *dev);
-static int _device_apply_dv_timings(device_s *dev);
-static int _device_open_format(device_s *dev, bool first);
-static void _device_open_hw_fps(device_s *dev);
-static void _device_open_jpeg_quality(device_s *dev);
-static int _device_open_io_method(device_s *dev);
-static int _device_open_io_method_mmap(device_s *dev);
-static int _device_open_io_method_userptr(device_s *dev);
-static int _device_open_queue_buffers(device_s *dev);
-static int _device_apply_resolution(device_s *dev, unsigned width, unsigned height);
-
-static void _device_apply_controls(device_s *dev);
-static int _device_query_control(
-	device_s *dev, struct v4l2_queryctrl *query,
-	const char *name, unsigned cid, bool quiet);
-static void _device_set_control(
-	device_s *dev, struct v4l2_queryctrl *query,
-	const char *name, unsigned cid, int value, bool quiet);
-
-static const char *_format_to_string_nullable(unsigned format);
-static const char *_format_to_string_supported(unsigned format);
-static const char *_standard_to_string(v4l2_std_id standard);
-static const char *_io_method_to_string_supported(enum v4l2_memory io_method);
-
-
-#define RUN(_next) dev->run->_next
-
-
-device_s *device_init(void) {
-	device_runtime_s *run;
-	A_CALLOC(run, 1);
-	run->fd = -1;
-
-	device_s *dev;
-	A_CALLOC(dev, 1);
-	dev->path = "/dev/video0";
-	dev->width = 640;
-	dev->height = 480;
-	dev->format = V4L2_PIX_FMT_YUYV;
-	dev->jpeg_quality = 80;
-	dev->standard = V4L2_STD_UNKNOWN;
-	dev->io_method = V4L2_MEMORY_MMAP;
-	dev->n_bufs = get_cores_available() + 1;
-	dev->min_frame_size = 128;
-	dev->timeout = 1;
-	dev->run = run;
-	return dev;
-}
-
-void device_destroy(device_s *dev) {
-	free(dev->run);
-	free(dev);
-}
-
-int device_parse_format(const char *str) {
-	for (unsigned index = 0; index < ARRAY_LEN(_FORMATS); ++index) {
-		if (!strcasecmp(str, _FORMATS[index].name)) {
-			return _FORMATS[index].format;
-		}
-	}
-	return FORMAT_UNKNOWN;
-}
-
-v4l2_std_id device_parse_standard(const char *str) {
-	for (unsigned index = 1; index < ARRAY_LEN(_STANDARDS); ++index) {
-		if (!strcasecmp(str, _STANDARDS[index].name)) {
-			return _STANDARDS[index].standard;
-		}
-	}
-	return STANDARD_UNKNOWN;
-}
-
-int device_parse_io_method(const char *str) {
-	for (unsigned index = 0; index < ARRAY_LEN(_IO_METHODS); ++index) {
-		if (!strcasecmp(str, _IO_METHODS[index].name)) {
-			return _IO_METHODS[index].io_method;
-		}
-	}
-	return IO_METHOD_UNKNOWN;
-}
-
-int device_open(device_s *dev) {
-	if ((RUN(fd) = open(dev->path, O_RDWR|O_NONBLOCK)) < 0) {
-		LOG_PERROR("Can't open device");
-		goto error;
-	}
-	LOG_INFO("Device fd=%d opened", RUN(fd));
-
-	if (_device_open_check_cap(dev) < 0) {
-		goto error;
-	}
-	if (_device_open_dv_timings(dev) < 0) {
-		goto error;
-	}
-	if (_device_open_format(dev, true) < 0) {
-		goto error;
-	}
-	_device_open_hw_fps(dev);
-	_device_open_jpeg_quality(dev);
-	if (_device_open_io_method(dev) < 0) {
-		goto error;
-	}
-	if (_device_open_queue_buffers(dev) < 0) {
-		goto error;
-	}
-	_device_apply_controls(dev);
-
-	LOG_DEBUG("Device fd=%d initialized", RUN(fd));
-	return 0;
-
-	error:
-		device_close(dev);
-		return -1;
-}
-
-void device_close(device_s *dev) {
-	RUN(persistent_timeout_reported) = false;
-
-	if (RUN(hw_bufs)) {
-		LOG_DEBUG("Releasing device buffers ...");
-		for (unsigned index = 0; index < RUN(n_bufs); ++index) {
-#			define HW(_next) RUN(hw_bufs)[index]._next
-
-#			ifdef WITH_OMX
-			if (HW(vcsm_handle) > 0) {
-				vcsm_free(HW(vcsm_handle));
-				HW(vcsm_handle) = -1;
-			}
-			if (HW(dma_fd) >= 0) {
-				close(HW(dma_fd));
-				HW(dma_fd) = -1;
-			}
-#			endif
-
-			if (dev->io_method == V4L2_MEMORY_MMAP) {
-				if (HW(raw.allocated) > 0 && HW(raw.data) != MAP_FAILED) {
-					if (munmap(HW(raw.data), HW(raw.allocated)) < 0) {
-						LOG_PERROR("Can't unmap device buffer %u", index);
-					}
-				}
-			} else { // V4L2_MEMORY_USERPTR
-				if (HW(raw.data)) {
-					free(HW(raw.data));
-				}
-			}
-			A_MUTEX_DESTROY(&HW(grabbed_mutex));
-
-#			undef HW
-		}
-		RUN(n_bufs) = 0;
-		free(RUN(hw_bufs));
-		RUN(hw_bufs) = NULL;
-	}
-
-	if (RUN(fd) >= 0) {
-		LOG_DEBUG("Closing device ...");
-		if (close(RUN(fd)) < 0) {
-			LOG_PERROR("Can't close device fd=%d", RUN(fd));
-		} else {
-			LOG_INFO("Device fd=%d closed", RUN(fd));
-		}
-		RUN(fd) = -1;
-	}
-}
-
-#ifdef WITH_OMX
-int device_export_to_vcsm(device_s *dev) {
-#	define DMA_FD		RUN(hw_bufs[index].dma_fd)
-#	define VCSM_HANDLE	RUN(hw_bufs[index].vcsm_handle)
-
-	for (unsigned index = 0; index < RUN(n_bufs); ++index) {
-		struct v4l2_exportbuffer exp;
-		MEMSET_ZERO(exp);
-		exp.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-		exp.index = index;
-
-		LOG_DEBUG("Calling ioctl(VIDIOC_EXPBUF) for buffer index=%u ...", index);
-		if (xioctl(RUN(fd), VIDIOC_EXPBUF, &exp) < 0) {
-			LOG_PERROR("Unable to export device buffer index=%u", index);
-			goto error;
-		}
-		DMA_FD = exp.fd;
-
-		LOG_DEBUG("Importing DMA buffer fd=%d into VCSM ...", DMA_FD);
-		int vcsm_handle = vcsm_import_dmabuf(DMA_FD, "v4l2_buf");
-		if (vcsm_handle <= 0) {
-			LOG_PERROR("Unable to import DMA buffer fd=%d into VCSM", DMA_FD);
-			goto error;
-		}
-		VCSM_HANDLE = vcsm_handle;
-	}
-
-	return 0;
-
-	error:
-		for (unsigned index = 0; index < RUN(n_bufs); ++index) {
-			if (VCSM_HANDLE > 0) {
-				vcsm_free(VCSM_HANDLE);
-				VCSM_HANDLE = -1;
-			}
-			if (DMA_FD >= 0) {
-				close(DMA_FD);
-				DMA_FD = -1;
-			}
-		}
-		return -1;
-
-#	undef VCSM_HANDLE
-#	undef DMA_FD
-}
-#endif
-
-int device_switch_capturing(device_s *dev, bool enable) {
-	if (enable != RUN(capturing)) {
-		enum v4l2_buf_type type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-
-		LOG_DEBUG("Calling ioctl(%s) ...", (enable ? "VIDIOC_STREAMON" : "VIDIOC_STREAMOFF"));
-		if (xioctl(RUN(fd), (enable ? VIDIOC_STREAMON : VIDIOC_STREAMOFF), &type) < 0) {
-			LOG_PERROR("Unable to %s capturing", (enable ? "start" : "stop"));
-			if (enable) {
-				return -1;
-			}
-		}
-
-		RUN(capturing) = enable;
-		LOG_INFO("Capturing %s", (enable ? "started" : "stopped"));
-	}
-	return 0;
-}
-
-int device_select(device_s *dev, bool *has_read, bool *has_write, bool *has_error) {
-	int retval;
-
-#	define INIT_FD_SET(_set) \
-		fd_set _set; FD_ZERO(&_set); FD_SET(RUN(fd), &_set);
-
-	INIT_FD_SET(read_fds);
-	INIT_FD_SET(write_fds);
-	INIT_FD_SET(error_fds);
-
-#	undef INIT_FD_SET
-
-	struct timeval timeout;
-	timeout.tv_sec = dev->timeout;
-	timeout.tv_usec = 0;
-
-	LOG_DEBUG("Calling select() on video device ...");
-
-	retval = select(RUN(fd) + 1, &read_fds, &write_fds, &error_fds, &timeout);
-	if (retval > 0) {
-		*has_read = FD_ISSET(RUN(fd), &read_fds);
-		*has_write = FD_ISSET(RUN(fd), &write_fds);
-		*has_error = FD_ISSET(RUN(fd), &error_fds);
-	} else {
-		*has_read = false;
-		*has_write = false;
-		*has_error = false;
-	}
-	LOG_DEBUG("Device select() --> %d", retval);
-
-	if (retval > 0) {
-		RUN(persistent_timeout_reported) = false;
-	} else if (retval == 0) {
-		if (dev->persistent) {
-			if (!RUN(persistent_timeout_reported)) {
-				LOG_ERROR("Persistent device timeout (unplugged)");
-				RUN(persistent_timeout_reported) = true;
-			}
-		} else {
-			// Если устройство не персистентное, то таймаут является ошибкой
-			retval = -1;
-		}
-	}
-	return retval;
-}
-
-int device_grab_buffer(device_s *dev, hw_buffer_s **hw) {
-	*hw = NULL;
-
-	struct v4l2_buffer buf_info;
-	MEMSET_ZERO(buf_info);
-	buf_info.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-	buf_info.memory = dev->io_method;
-
-	LOG_DEBUG("Grabbing device buffer ...");
-	if (xioctl(RUN(fd), VIDIOC_DQBUF, &buf_info) < 0) {
-		LOG_PERROR("Unable to grab device buffer");
-		return -1;
-	}
-
-	LOG_DEBUG("Grabbed new frame in device buffer: index=%u, bytesused=%u",
-		buf_info.index, buf_info.bytesused);
-
-	if (buf_info.index >= RUN(n_bufs)) {
-		LOG_ERROR("V4L2 error: grabbed invalid device buffer: index=%u, n_bufs=%u",
-			buf_info.index, RUN(n_bufs));
-		return -1;
-	}
-
-	// Workaround for broken, corrupted frames:
-	// Under low light conditions corrupted frames may get captured.
-	// The good thing is such frames are quite small compared to the regular frames.
-	// For example a VGA (640x480) webcam frame is normally >= 8kByte large,
-	// corrupted frames are smaller.
-	if (buf_info.bytesused < dev->min_frame_size) {
-		LOG_DEBUG("Dropped too small frame sized %d bytes, assuming it was broken", buf_info.bytesused);
-		LOG_DEBUG("Releasing device buffer index=%u (broken frame) ...", buf_info.index);
-		if (xioctl(RUN(fd), VIDIOC_QBUF, &buf_info) < 0) {
-			LOG_PERROR("Unable to release device buffer index=%u (broken frame)", buf_info.index);
-			return -1;
-		}
-		return -2;
-	}
-
-#	define HW(_next) RUN(hw_bufs)[buf_info.index]._next
-
-	A_MUTEX_LOCK(&HW(grabbed_mutex));
-	if (HW(grabbed)) {
-		LOG_ERROR("V4L2 error: grabbed device buffer is already used: index=%u, bytesused=%u",
-			buf_info.index, buf_info.bytesused);
-		A_MUTEX_UNLOCK(&HW(grabbed_mutex));
-		return -1;
-	}
-	HW(grabbed) = true;
-	A_MUTEX_UNLOCK(&HW(grabbed_mutex));
-
-	HW(raw.used) = buf_info.bytesused;
-	HW(raw.width) = RUN(width);
-	HW(raw.height) = RUN(height);
-	HW(raw.format) = RUN(format);
-	HW(raw.stride) = RUN(stride);
-	HW(raw.online) = true;
-	memcpy(&HW(buf_info), &buf_info, sizeof(struct v4l2_buffer));
-	HW(raw.grab_ts) = get_now_monotonic();
-
-#	undef HW
-	*hw = &RUN(hw_bufs[buf_info.index]);
-	return buf_info.index;
-}
-
-int device_release_buffer(device_s *dev, hw_buffer_s *hw) {
-	const unsigned index = hw->buf_info.index;
-	LOG_DEBUG("Releasing device buffer index=%u ...", index);
-
-	A_MUTEX_LOCK(&hw->grabbed_mutex);
-	if (xioctl(RUN(fd), VIDIOC_QBUF, &hw->buf_info) < 0) {
-		LOG_PERROR("Unable to release device buffer index=%u", index);
-		A_MUTEX_UNLOCK(&hw->grabbed_mutex);
-		return -1;
-	}
-	hw->grabbed = false;
-	A_MUTEX_UNLOCK(&hw->grabbed_mutex);
-	return 0;
-}
-
-int device_consume_event(device_s *dev) {
-	struct v4l2_event event;
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_DQEVENT) ...");
-	if (xioctl(RUN(fd), VIDIOC_DQEVENT, &event) == 0) {
-		switch (event.type) {
-			case V4L2_EVENT_SOURCE_CHANGE:
-				LOG_INFO("Got V4L2_EVENT_SOURCE_CHANGE: source changed");
-				return -1;
-			case V4L2_EVENT_EOS:
-				LOG_INFO("Got V4L2_EVENT_EOS: end of stream (ignored)");
-				return 0;
-		}
-	} else {
-		LOG_PERROR("Got some V4L2 device event, but where is it? ");
-	}
-	return 0;
-}
-
-static int _device_open_check_cap(device_s *dev) {
-	struct v4l2_capability cap;
-	MEMSET_ZERO(cap);
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_QUERYCAP) ...");
-	if (xioctl(RUN(fd), VIDIOC_QUERYCAP, &cap) < 0) {
-		LOG_PERROR("Can't query device (VIDIOC_QUERYCAP)");
-		return -1;
-	}
-
-	if (!(cap.capabilities & V4L2_CAP_VIDEO_CAPTURE)) {
-		LOG_ERROR("Video capture not supported by the device");
-		return -1;
-	}
-
-	if (!(cap.capabilities & V4L2_CAP_STREAMING)) {
-		LOG_ERROR("Device does not support streaming IO");
-		return -1;
-	}
-
-	int input = dev->input; // Needs a pointer to int for ioctl()
-	LOG_INFO("Using input channel: %d", input);
-	if (xioctl(RUN(fd), VIDIOC_S_INPUT, &input) < 0) {
-		LOG_ERROR("Can't set input channel");
-		return -1;
-	}
-
-	if (dev->standard != V4L2_STD_UNKNOWN) {
-		LOG_INFO("Using TV standard: %s", _standard_to_string(dev->standard));
-		if (xioctl(RUN(fd), VIDIOC_S_STD, &dev->standard) < 0) {
-			LOG_ERROR("Can't set video standard");
-			return -1;
-		}
-	} else {
-		LOG_DEBUG("Using TV standard: DEFAULT");
-	}
-	return 0;
-}
-
-static int _device_open_dv_timings(device_s *dev) {
-	_device_apply_resolution(dev, dev->width, dev->height);
-	if (dev->dv_timings) {
-		LOG_DEBUG("Using DV timings");
-
-		if (_device_apply_dv_timings(dev) < 0) {
-			return -1;
-		}
-
-		struct v4l2_event_subscription sub;
-
-		MEMSET_ZERO(sub);
-		sub.type = V4L2_EVENT_SOURCE_CHANGE;
-
-		LOG_DEBUG("Calling ioctl(VIDIOC_SUBSCRIBE_EVENT) ...");
-		if (xioctl(RUN(fd), VIDIOC_SUBSCRIBE_EVENT, &sub) < 0) {
-			LOG_PERROR("Can't subscribe to V4L2_EVENT_SOURCE_CHANGE");
-			return -1;
-		}
-	}
-	return 0;
-}
-
-static int _device_apply_dv_timings(device_s *dev) {
-	struct v4l2_dv_timings dv;
-	MEMSET_ZERO(dv);
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_QUERY_DV_TIMINGS) ...");
-	if (xioctl(RUN(fd), VIDIOC_QUERY_DV_TIMINGS, &dv) == 0) {
-		if (dv.type == V4L2_DV_BT_656_1120) {
-			// See v4l2_print_dv_timings() in the kernel
-			unsigned htot = V4L2_DV_BT_FRAME_WIDTH(&dv.bt);
-			unsigned vtot = V4L2_DV_BT_FRAME_HEIGHT(&dv.bt);
-			if (dv.bt.interlaced) {
-				vtot /= 2;
-			}
-			unsigned fps = ((htot * vtot) > 0 ? ((100 * (uint64_t)dv.bt.pixelclock)) / (htot * vtot) : 0);
-			LOG_INFO("Got new DV-timings: %ux%u%s%u.%02u, pixclk=%llu, vsync=%u, hsync=%u",
-				dv.bt.width, dv.bt.height, (dv.bt.interlaced ? "i" : "p"), fps / 100, fps % 100,
-				(unsigned long long)dv.bt.pixelclock, dv.bt.vsync, dv.bt.hsync); // See #11 about %llu
-		} else {
-			LOG_INFO("Got new DV-timings: %ux%u, pixclk=%llu, vsync=%u, hsync=%u",
-				dv.bt.width, dv.bt.height,
-				(unsigned long long)dv.bt.pixelclock, dv.bt.vsync, dv.bt.hsync);
-		}
-
-		LOG_DEBUG("Calling ioctl(VIDIOC_S_DV_TIMINGS) ...");
-		if (xioctl(RUN(fd), VIDIOC_S_DV_TIMINGS, &dv) < 0) {
-			LOG_PERROR("Failed to set DV timings");
-			return -1;
-		}
-
-		if (_device_apply_resolution(dev, dv.bt.width, dv.bt.height) < 0) {
-			return -1;
-		}
-
-	} else {
-		LOG_DEBUG("Calling ioctl(VIDIOC_QUERYSTD) ...");
-		if (xioctl(RUN(fd), VIDIOC_QUERYSTD, &dev->standard) == 0) {
-			LOG_INFO("Applying the new VIDIOC_S_STD: %s ...", _standard_to_string(dev->standard));
-			if (xioctl(RUN(fd), VIDIOC_S_STD, &dev->standard) < 0) {
-				LOG_PERROR("Can't set video standard");
-				return -1;
-			}
-		}
-	}
-	return 0;
-}
-
-static int _device_open_format(device_s *dev, bool first) {
-	const unsigned stride = align_size(RUN(width), 32) << 1;
-
-	struct v4l2_format fmt;
-	MEMSET_ZERO(fmt);
-	fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-	fmt.fmt.pix.width = RUN(width);
-	fmt.fmt.pix.height = RUN(height);
-	fmt.fmt.pix.pixelformat = dev->format;
-	fmt.fmt.pix.field = V4L2_FIELD_ANY;
-	fmt.fmt.pix.bytesperline = stride;
-
-	// Set format
-	LOG_DEBUG("Calling ioctl(VIDIOC_S_FMT) ...");
-	if (xioctl(RUN(fd), VIDIOC_S_FMT, &fmt) < 0) {
-		LOG_PERROR("Unable to set pixelformat=%s, stride=%u, resolution=%ux%u",
-			_format_to_string_supported(dev->format), stride, RUN(width), RUN(height));
-		return -1;
-	}
-
-	// Check resolution
-	bool retry = false;
-	if (fmt.fmt.pix.width != RUN(width) || fmt.fmt.pix.height != RUN(height)) {
-		LOG_ERROR("Requested resolution=%ux%u is unavailable", RUN(width), RUN(height));
-		retry = true;
-	}
-	if (_device_apply_resolution(dev, fmt.fmt.pix.width, fmt.fmt.pix.height) < 0) {
-		return -1;
-	}
-	if (first && retry) {
-		return _device_open_format(dev, false);
-	}
-	LOG_INFO("Using resolution: %ux%u", RUN(width), RUN(height));
-
-	// Check format
-	if (fmt.fmt.pix.pixelformat != dev->format) {
-		LOG_ERROR("Could not obtain the requested pixelformat=%s; driver gave us %s",
-			_format_to_string_supported(dev->format),
-			_format_to_string_supported(fmt.fmt.pix.pixelformat));
-
-		char *format_str;
-		if ((format_str = (char *)_format_to_string_nullable(fmt.fmt.pix.pixelformat)) != NULL) {
-			LOG_INFO("Falling back to pixelformat=%s", format_str);
-		} else {
-			char fourcc_str[8];
-			LOG_ERROR("Unsupported pixelformat=%s (fourcc)",
-				fourcc_to_string(fmt.fmt.pix.pixelformat, fourcc_str, 8));
-			return -1;
-		}
-	}
-
-	RUN(format) = fmt.fmt.pix.pixelformat;
-	LOG_INFO("Using pixelformat: %s", _format_to_string_supported(RUN(format)));
-
-	RUN(stride) = fmt.fmt.pix.bytesperline;
-	RUN(raw_size) = fmt.fmt.pix.sizeimage; // Only for userptr
-	return 0;
-}
-
-static void _device_open_hw_fps(device_s *dev) {
-	RUN(hw_fps) = 0;
-
-	struct v4l2_streamparm setfps;
-	MEMSET_ZERO(setfps);
-	setfps.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_G_PARM) ...");
-	if (xioctl(RUN(fd), VIDIOC_G_PARM, &setfps) < 0) {
-		if (errno == ENOTTY) { // Quiet message for Auvidea B101
-			LOG_INFO("Querying HW FPS changing is not supported");
-		} else {
-			LOG_PERROR("Unable to query HW FPS changing");
-		}
-		return;
-	}
-
-	if (!(setfps.parm.capture.capability & V4L2_CAP_TIMEPERFRAME)) {
-		LOG_INFO("Changing HW FPS is not supported");
-		return;
-	}
-
-#	define SETFPS_TPF(_next) setfps.parm.capture.timeperframe._next
-
-	MEMSET_ZERO(setfps);
-	setfps.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-	SETFPS_TPF(numerator) = 1;
-	SETFPS_TPF(denominator) = (dev->desired_fps == 0 ? 255 : dev->desired_fps);
-
-	if (xioctl(RUN(fd), VIDIOC_S_PARM, &setfps) < 0) {
-		LOG_PERROR("Unable to set HW FPS");
-		return;
-	}
-
-	if (SETFPS_TPF(numerator) != 1) {
-		LOG_ERROR("Invalid HW FPS numerator: %u != 1", SETFPS_TPF(numerator));
-		return;
-	}
-
-	if (SETFPS_TPF(denominator) == 0) { // Не знаю, бывает ли так, но пускай на всякий случай
-		LOG_ERROR("Invalid HW FPS denominator: 0");
-		return;
-	}
-
-	RUN(hw_fps) = SETFPS_TPF(denominator);
-	if (dev->desired_fps != RUN(hw_fps)) {
-		LOG_INFO("Using HW FPS: %u -> %u (coerced)", dev->desired_fps, RUN(hw_fps));
-	} else {
-		LOG_INFO("Using HW FPS: %u", RUN(hw_fps));
-	}
-
-#	undef SETFPS_TPF
-}
-
-static void _device_open_jpeg_quality(device_s *dev) {
-	unsigned quality = 0;
-
-	if (is_jpeg(RUN(format))) {
-		struct v4l2_jpegcompression comp;
-		MEMSET_ZERO(comp);
-
-		if (xioctl(RUN(fd), VIDIOC_G_JPEGCOMP, &comp) < 0) {
-			LOG_ERROR("Device does not support setting of HW encoding quality parameters");
-		} else {
-			comp.quality = dev->jpeg_quality;
-			if (xioctl(RUN(fd), VIDIOC_S_JPEGCOMP, &comp) < 0) {
-				LOG_ERROR("Unable to change MJPG quality for JPEG source with HW pass-through encoder");
-			} else {
-				quality = dev->jpeg_quality;
-			}
-		}
-	}
-
-	RUN(jpeg_quality) = quality;
-}
-
-static int _device_open_io_method(device_s *dev) {
-	LOG_INFO("Using IO method: %s", _io_method_to_string_supported(dev->io_method));
-	switch (dev->io_method) {
-		case V4L2_MEMORY_MMAP: return _device_open_io_method_mmap(dev);
-		case V4L2_MEMORY_USERPTR: return _device_open_io_method_userptr(dev);
-		default: assert(0 && "Unsupported IO method");
-	}
-	return -1;
-}
-
-static int _device_open_io_method_mmap(device_s *dev) {
-	struct v4l2_requestbuffers req;
-	MEMSET_ZERO(req);
-	req.count = dev->n_bufs;
-	req.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-	req.memory = V4L2_MEMORY_MMAP;
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_REQBUFS) for V4L2_MEMORY_MMAP ...");
-	if (xioctl(RUN(fd), VIDIOC_REQBUFS, &req) < 0) {
-		LOG_PERROR("Device '%s' doesn't support V4L2_MEMORY_MMAP", dev->path);
-		return -1;
-	}
-
-	if (req.count < 1) {
-		LOG_ERROR("Insufficient buffer memory: %u", req.count);
-		return -1;
-	} else {
-		LOG_INFO("Requested %u device buffers, got %u", dev->n_bufs, req.count);
-	}
-
-	LOG_DEBUG("Allocating device buffers ...");
-
-	A_CALLOC(RUN(hw_bufs), req.count);
-	for (RUN(n_bufs) = 0; RUN(n_bufs) < req.count; ++RUN(n_bufs)) {
-		struct v4l2_buffer buf_info;
-		MEMSET_ZERO(buf_info);
-		buf_info.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-		buf_info.memory = V4L2_MEMORY_MMAP;
-		buf_info.index = RUN(n_bufs);
-
-		LOG_DEBUG("Calling ioctl(VIDIOC_QUERYBUF) for device buffer %u ...", RUN(n_bufs));
-		if (xioctl(RUN(fd), VIDIOC_QUERYBUF, &buf_info) < 0) {
-			LOG_PERROR("Can't VIDIOC_QUERYBUF");
-			return -1;
-		}
-
-#		define HW(_next) RUN(hw_bufs)[RUN(n_bufs)]._next
-
-#		ifdef WITH_OMX
-		HW(dma_fd) = -1;
-		HW(vcsm_handle) = -1;
-#		endif
-
-		A_MUTEX_INIT(&HW(grabbed_mutex));
-
-		LOG_DEBUG("Mapping device buffer %u ...", RUN(n_bufs));
-		if ((HW(raw.data) = mmap(
-			NULL,
-			buf_info.length,
-			PROT_READ | PROT_WRITE,
-			MAP_SHARED,
-			RUN(fd),
-			buf_info.m.offset
-		)) == MAP_FAILED) {
-			LOG_PERROR("Can't map device buffer %u", RUN(n_bufs));
-			return -1;
-		}
-		HW(raw.allocated) = buf_info.length;
-
-#		undef HW
-	}
-	return 0;
-}
-
-static int _device_open_io_method_userptr(device_s *dev) {
-	struct v4l2_requestbuffers req;
-	MEMSET_ZERO(req);
-	req.count = dev->n_bufs;
-	req.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-	req.memory = V4L2_MEMORY_USERPTR;
-
-	LOG_DEBUG("Calling ioctl(VIDIOC_REQBUFS) for V4L2_MEMORY_USERPTR ...");
-	if (xioctl(RUN(fd), VIDIOC_REQBUFS, &req) < 0) {
-		LOG_PERROR("Device '%s' doesn't support V4L2_MEMORY_USERPTR", dev->path);
-		return -1;
-	}
-
-	if (req.count < 1) {
-		LOG_ERROR("Insufficient buffer memory: %u", req.count);
-		return -1;
-	} else {
-		LOG_INFO("Requested %u device buffers, got %u", dev->n_bufs, req.count);
-	}
-
-	LOG_DEBUG("Allocating device buffers ...");
-
-	A_CALLOC(RUN(hw_bufs), req.count);
-
-	const unsigned page_size = getpagesize();
-	const unsigned buf_size = align_size(RUN(raw_size), page_size);
-
-	for (RUN(n_bufs) = 0; RUN(n_bufs) < req.count; ++RUN(n_bufs)) {
-#       define HW(_next) RUN(hw_bufs)[RUN(n_bufs)]._next
-		assert(HW(raw.data) = aligned_alloc(page_size, buf_size));
-		memset(HW(raw.data), 0, buf_size);
-		HW(raw.allocated) = buf_size;
-#		undef HW
-	}
-	return 0;
-}
-
-static int _device_open_queue_buffers(device_s *dev) {
-	for (unsigned index = 0; index < RUN(n_bufs); ++index) {
-		struct v4l2_buffer buf_info;
-		MEMSET_ZERO(buf_info);
-		buf_info.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
-		buf_info.memory = dev->io_method;
-		buf_info.index = index;
-		if (dev->io_method == V4L2_MEMORY_USERPTR) {
-			buf_info.m.userptr = (unsigned long)RUN(hw_bufs)[index].raw.data;
-			buf_info.length = RUN(hw_bufs)[index].raw.allocated;
-		}
-
-		LOG_DEBUG("Calling ioctl(VIDIOC_QBUF) for buffer %u ...", index);
-		if (xioctl(RUN(fd), VIDIOC_QBUF, &buf_info) < 0) {
-			LOG_PERROR("Can't VIDIOC_QBUF");
-			return -1;
-		}
-	}
-	return 0;
-}
-
-static int _device_apply_resolution(device_s *dev, unsigned width, unsigned height) {
-	// Тут VIDEO_MIN_* не используются из-за странностей минимального разрешения при отсутствии сигнала
-	// у некоторых устройств, например Auvidea B101
-	if (
-		width == 0 || width > VIDEO_MAX_WIDTH
-		|| height == 0 || height > VIDEO_MAX_HEIGHT
-	) {
-		LOG_ERROR("Requested forbidden resolution=%ux%u: min=1x1, max=%ux%u",
-			width, height, VIDEO_MAX_WIDTH, VIDEO_MAX_HEIGHT);
-		return -1;
-	}
-	RUN(width) = width;
-	RUN(height) = height;
-	return 0;
-}
-
-static void _device_apply_controls(device_s *dev) {
-#	define SET_CID_VALUE(_cid, _field, _value, _quiet) { \
-			struct v4l2_queryctrl query; \
-			if (_device_query_control(dev, &query, #_field, _cid, _quiet) == 0) { \
-				_device_set_control(dev, &query, #_field, _cid, _value, _quiet); \
-			} \
-		}
-
-#	define SET_CID_DEFAULT(_cid, _field, _quiet) { \
-			struct v4l2_queryctrl query; \
-			if (_device_query_control(dev, &query, #_field, _cid, _quiet) == 0) { \
-				_device_set_control(dev, &query, #_field, _cid, query.default_value, _quiet); \
-			} \
-		}
-
-#	define CONTROL_MANUAL_CID(_cid, _field) { \
-			if (dev->ctl._field.mode == CTL_MODE_VALUE) { \
-				SET_CID_VALUE(_cid, _field, dev->ctl._field.value, false); \
-			} else if (dev->ctl._field.mode == CTL_MODE_DEFAULT) { \
-				SET_CID_DEFAULT(_cid, _field, false); \
-			} \
-		}
-
-#	define CONTROL_AUTO_CID(_cid_auto, _cid_manual, _field) { \
-			if (dev->ctl._field.mode == CTL_MODE_VALUE) { \
-				SET_CID_VALUE(_cid_auto, _field##_auto, 0, true); \
-				SET_CID_VALUE(_cid_manual, _field, dev->ctl._field.value, false); \
-			} else if (dev->ctl._field.mode == CTL_MODE_AUTO) { \
-				SET_CID_VALUE(_cid_auto, _field##_auto, 1, false); \
-			} else if (dev->ctl._field.mode == CTL_MODE_DEFAULT) { \
-				SET_CID_VALUE(_cid_auto, _field##_auto, 0, true); /* Reset inactive flag */ \
-				SET_CID_DEFAULT(_cid_manual, _field, false); \
-				SET_CID_DEFAULT(_cid_auto, _field##_auto, false); \
-			} \
-		}
-
-	CONTROL_AUTO_CID	(V4L2_CID_AUTOBRIGHTNESS,		V4L2_CID_BRIGHTNESS,				brightness);
-	CONTROL_MANUAL_CID	(								V4L2_CID_CONTRAST,					contrast);
-	CONTROL_MANUAL_CID	(								V4L2_CID_SATURATION,				saturation);
-	CONTROL_AUTO_CID	(V4L2_CID_HUE_AUTO,				V4L2_CID_HUE,						hue);
-	CONTROL_MANUAL_CID	(								V4L2_CID_GAMMA,						gamma);
-	CONTROL_MANUAL_CID	(								V4L2_CID_SHARPNESS,					sharpness);
-	CONTROL_MANUAL_CID	(								V4L2_CID_BACKLIGHT_COMPENSATION,	backlight_compensation);
-	CONTROL_AUTO_CID	(V4L2_CID_AUTO_WHITE_BALANCE,	V4L2_CID_WHITE_BALANCE_TEMPERATURE,	white_balance);
-	CONTROL_AUTO_CID	(V4L2_CID_AUTOGAIN,				V4L2_CID_GAIN,						gain);
-	CONTROL_MANUAL_CID	(								V4L2_CID_COLORFX,					color_effect);
-	CONTROL_MANUAL_CID	(								V4L2_CID_ROTATE,	   				rotate);
-	CONTROL_MANUAL_CID	(								V4L2_CID_VFLIP,						flip_vertical);
-	CONTROL_MANUAL_CID	(								V4L2_CID_HFLIP,						flip_horizontal);
-
-#	undef CONTROL_AUTO_CID
-#	undef CONTROL_MANUAL_CID
-#	undef SET_CID_DEFAULT
-#	undef SET_CID_VALUE
-}
-
-static int _device_query_control(
-	device_s *dev, struct v4l2_queryctrl *query,
-	const char *name, unsigned cid, bool quiet) {
-
-	// cppcheck-suppress redundantPointerOp
-	MEMSET_ZERO(*query);
-	query->id = cid;
-
-	if (xioctl(RUN(fd), VIDIOC_QUERYCTRL, query) < 0 || query->flags & V4L2_CTRL_FLAG_DISABLED) {
-		if (!quiet) {
-			LOG_ERROR("Changing control %s is unsupported", name);
-		}
-		return -1;
-	}
-	return 0;
-}
-
-static void _device_set_control(
-	device_s *dev, struct v4l2_queryctrl *query,
-	const char *name, unsigned cid, int value, bool quiet) {
-
-	if (value < query->minimum || value > query->maximum || value % query->step != 0) {
-		if (!quiet) {
-			LOG_ERROR("Invalid value %d of control %s: min=%d, max=%d, default=%d, step=%u",
-				value, name, query->minimum, query->maximum, query->default_value, query->step);
-		}
-		return;
-	}
-
-	struct v4l2_control ctl;
-	MEMSET_ZERO(ctl);
-	ctl.id = cid;
-	ctl.value = value;
-
-	if (xioctl(RUN(fd), VIDIOC_S_CTRL, &ctl) < 0) {
-		if (!quiet) {
-			LOG_PERROR("Can't set control %s", name);
-		}
-	} else if (!quiet) {
-		LOG_INFO("Applying control %s: %d", name, ctl.value);
-	}
-}
-
-static const char *_format_to_string_nullable(unsigned format) {
-	for (unsigned index = 0; index < ARRAY_LEN(_FORMATS); ++index) {
-		if (format == _FORMATS[index].format) {
-			return _FORMATS[index].name;
-		}
-	}
-	return NULL;
-}
-
-static const char *_format_to_string_supported(unsigned format) {
-	const char *format_str = _format_to_string_nullable(format);
-	return (format_str == NULL ? "unsupported" : format_str);
-}
-
-static const char *_standard_to_string(v4l2_std_id standard) {
-	for (unsigned index = 0; index < ARRAY_LEN(_STANDARDS); ++index) {
-		if (standard == _STANDARDS[index].standard) {
-			return _STANDARDS[index].name;
-		}
-	}
-	return _STANDARDS[0].name;
-}
-
-static const char *_io_method_to_string_supported(enum v4l2_memory io_method) {
-	for (unsigned index = 0; index < ARRAY_LEN(_IO_METHODS); ++index) {
-		if (io_method == _IO_METHODS[index].io_method) {
-			return _IO_METHODS[index].name;
-		}
-	}
-	return "unsupported";
-}
-
-#	undef RUN
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/device.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/device.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/device.h	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/device.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,169 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stddef.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <string.h>
-#include <strings.h>
-#include <unistd.h>
-#include <fcntl.h>
-#include <errno.h>
-#include <assert.h>
-
-#include <sys/select.h>
-#include <sys/mman.h>
-#include <sys/time.h>
-
-#include <pthread.h>
-#include <linux/videodev2.h>
-#include <linux/v4l2-controls.h>
-#ifdef WITH_OMX
-#	include <interface/vcsm/user-vcsm.h>
-#endif
-
-#include "../libs/tools.h"
-#include "../libs/logging.h"
-#include "../libs/threading.h"
-#include "../libs/frame.h"
-
-#include "xioctl.h"
-
-
-#define VIDEO_MIN_WIDTH		((unsigned)160)
-#define VIDEO_MAX_WIDTH		((unsigned)10240)
-
-#define VIDEO_MIN_HEIGHT	((unsigned)120)
-#define VIDEO_MAX_HEIGHT	((unsigned)4320)
-
-#define VIDEO_MAX_FPS		((unsigned)120)
-
-#define STANDARD_UNKNOWN	V4L2_STD_UNKNOWN
-#define STANDARDS_STR		"PAL, NTSC, SECAM"
-
-#define FORMAT_UNKNOWN	-1
-#define FORMATS_STR		"YUYV, UYVY, RGB565, RGB24, MJPEG, JPEG"
-
-#define IO_METHOD_UNKNOWN	-1
-#define IO_METHODS_STR		"MMAP, USERPTR"
-
-
-typedef struct {
-	frame_s raw;
-
-	struct v4l2_buffer buf_info;
-
-#	ifdef WITH_OMX
-	int dma_fd;
-	int vcsm_handle;
-#	endif
-
-	pthread_mutex_t grabbed_mutex;
-	bool			grabbed;
-} hw_buffer_s;
-
-typedef struct {
-	int			fd;
-	unsigned	width;
-	unsigned	height;
-	unsigned	format;
-	unsigned	stride;
-	unsigned	hw_fps;
-	unsigned	jpeg_quality;
-	size_t		raw_size;
-	unsigned	n_bufs;
-	hw_buffer_s	*hw_bufs;
-	bool		capturing;
-	bool		persistent_timeout_reported;
-} device_runtime_s;
-
-typedef enum {
-	CTL_MODE_NONE = 0,
-	CTL_MODE_VALUE,
-	CTL_MODE_AUTO,
-	CTL_MODE_DEFAULT,
-} control_mode_e;
-
-typedef struct {
-	control_mode_e	mode;
-	int				value;
-} control_s;
-
-typedef struct {
-	control_s brightness;
-	control_s contrast;
-	control_s saturation;
-	control_s hue;
-	control_s gamma;
-	control_s sharpness;
-	control_s backlight_compensation;
-	control_s white_balance;
-	control_s gain;
-	control_s color_effect;
-	control_s rotate;
-	control_s flip_vertical;
-	control_s flip_horizontal;
-} controls_s;
-
-typedef struct {
-	char				*path;
-	unsigned			input;
-	unsigned			width;
-	unsigned			height;
-	unsigned			format;
-	unsigned			jpeg_quality;
-	v4l2_std_id			standard;
-	enum v4l2_memory	io_method;
-	bool				dv_timings;
-	unsigned			n_bufs;
-	unsigned			desired_fps;
-	size_t				min_frame_size;
-	bool				persistent;
-	unsigned			timeout;
-
-	controls_s ctl;
-
-	device_runtime_s *run;
-} device_s;
-
-
-device_s *device_init(void);
-void device_destroy(device_s *dev);
-
-int device_parse_format(const char *str);
-v4l2_std_id device_parse_standard(const char *str);
-int device_parse_io_method(const char *str);
-
-int device_open(device_s *dev);
-void device_close(device_s *dev);
-
-#ifdef WITH_OMX
-int device_export_to_vcsm(device_s *dev);
-#endif
-int device_switch_capturing(device_s *dev, bool enable);
-int device_select(device_s *dev, bool *has_read, bool *has_write, bool *has_error);
-int device_grab_buffer(device_s *dev, hw_buffer_s **hw);
-int device_release_buffer(device_s *dev, hw_buffer_s *hw);
-int device_consume_event(device_s *dev);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoder.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoder.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoder.c	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoder.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,289 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "encoder.h"
-
-
-static const struct {
-	const char *name;
-	const encoder_type_e type;
-} _ENCODER_TYPES[] = {
-	{"CPU",		ENCODER_TYPE_CPU},
-	{"HW",		ENCODER_TYPE_HW},
-#	ifdef WITH_OMX
-	{"OMX",		ENCODER_TYPE_OMX},
-#	endif
-	{"NOOP",	ENCODER_TYPE_NOOP},
-};
-
-
-static void *_worker_job_init(void *v_enc);
-static void _worker_job_destroy(void *v_job);
-static bool _worker_run_job(worker_s *wr);
-
-
-#define ER(_next)	enc->run->_next
-
-
-encoder_s *encoder_init(void) {
-	encoder_runtime_s *run;
-	A_CALLOC(run, 1);
-	run->type = ENCODER_TYPE_CPU;
-	run->quality = 80;
-	A_MUTEX_INIT(&run->mutex);
-
-	encoder_s *enc;
-	A_CALLOC(enc, 1);
-	enc->type = run->type;
-	enc->n_workers = get_cores_available();
-	enc->run = run;
-	return enc;
-}
-
-void encoder_destroy(encoder_s *enc) {
-#	ifdef WITH_OMX
-	if (ER(omxs)) {
-		for (unsigned index = 0; index < ER(n_omxs); ++index) {
-			if (ER(omxs[index])) {
-				omx_encoder_destroy(ER(omxs[index]));
-			}
-		}
-		free(ER(omxs));
-	}
-#	endif
-	A_MUTEX_DESTROY(&ER(mutex));
-	free(enc->run);
-	free(enc);
-}
-
-encoder_type_e encoder_parse_type(const char *str) {
-	for (unsigned index = 0; index < ARRAY_LEN(_ENCODER_TYPES); ++index) {
-		if (!strcasecmp(str, _ENCODER_TYPES[index].name)) {
-			return _ENCODER_TYPES[index].type;
-		}
-	}
-	return ENCODER_TYPE_UNKNOWN;
-}
-
-const char *encoder_type_to_string(encoder_type_e type) {
-	for (unsigned index = 0; index < ARRAY_LEN(_ENCODER_TYPES); ++index) {
-		if (_ENCODER_TYPES[index].type == type) {
-			return _ENCODER_TYPES[index].name;
-		}
-	}
-	return _ENCODER_TYPES[0].name;
-}
-
-workers_pool_s *encoder_workers_pool_init(encoder_s *enc, device_s *dev) {
-#	define DR(_next) dev->run->_next
-
-	encoder_type_e type = (ER(cpu_forced) ? ENCODER_TYPE_CPU : enc->type);
-	unsigned quality = dev->jpeg_quality;
-	unsigned n_workers = min_u(enc->n_workers, DR(n_bufs));
-	bool cpu_forced = false;
-
-	if (is_jpeg(DR(format)) && type != ENCODER_TYPE_HW) {
-		LOG_INFO("Switching to HW encoder: the input is (M)JPEG ...");
-		type = ENCODER_TYPE_HW;
-	}
-
-	if (type == ENCODER_TYPE_HW) {
-		if (!is_jpeg(DR(format))) {
-			LOG_INFO("Switching to CPU encoder: the input format is not (M)JPEG ...");
-			goto use_cpu;
-		}
-		quality = DR(jpeg_quality);
-		n_workers = 1;
-	}
-#	ifdef WITH_OMX
-	else if (type == ENCODER_TYPE_OMX) {
-		if (align_size(DR(width), 32) != DR(width)) {
-			LOG_INFO("Switching to CPU encoder: OMX can't handle width=%u ...", DR(width));
-			goto use_cpu;
-		}
-
-		LOG_DEBUG("Preparing OMX encoder ...");
-
-		if (n_workers > OMX_MAX_ENCODERS) {
-			LOG_INFO("OMX encoder sets limit for worker threads: %u", OMX_MAX_ENCODERS);
-			n_workers = OMX_MAX_ENCODERS;
-		}
-
-		if (ER(omxs) == NULL) {
-			A_CALLOC(ER(omxs), OMX_MAX_ENCODERS);
-		}
-
-		// Начинаем с нуля и доинициализируем на следующих заходах при необходимости
-		for (; ER(n_omxs) < n_workers; ++ER(n_omxs)) {
-			if ((ER(omxs[ER(n_omxs)]) = omx_encoder_init()) == NULL) {
-				LOG_ERROR("Can't initialize OMX encoder, falling back to CPU");
-				goto force_cpu;
-			}
-		}
-
-		frame_s frame;
-		MEMSET_ZERO(frame);
-		frame.width = DR(width);
-		frame.height = DR(height);
-		frame.format = DR(format);
-		frame.stride = DR(stride);
-
-		for (unsigned index = 0; index < ER(n_omxs); ++index) {
-			int omx_error = omx_encoder_prepare(ER(omxs[index]), &frame, quality);
-			if (omx_error == -2) {
-				goto use_cpu;
-			} else if (omx_error < 0) {
-				goto force_cpu;
-			}
-		}
-	}
-#	endif
-	else if (type == ENCODER_TYPE_NOOP) {
-		n_workers = 1;
-		quality = 0;
-	}
-
-	goto ok;
-
-#	ifdef WITH_OMX
-	force_cpu:
-		LOG_ERROR("Forced CPU encoder permanently");
-		cpu_forced = true;
-#	endif
-
-	use_cpu:
-		type = ENCODER_TYPE_CPU;
-		quality = dev->jpeg_quality;
-
-	ok:
-		if (type == ENCODER_TYPE_NOOP) {
-			LOG_INFO("Using JPEG NOOP encoder");
-		} else if (quality == 0) {
-			LOG_INFO("Using JPEG quality: encoder default");
-		} else {
-			LOG_INFO("Using JPEG quality: %u%%", quality);
-		}
-
-		A_MUTEX_LOCK(&ER(mutex));
-		ER(type) = type;
-		ER(quality) = quality;
-		if (cpu_forced) {
-			ER(cpu_forced) = true;
-		}
-		A_MUTEX_UNLOCK(&ER(mutex));
-
-		long double desired_interval = 0;
-		if (dev->desired_fps > 0 && (dev->desired_fps < dev->run->hw_fps || dev->run->hw_fps == 0)) {
-			desired_interval = (long double)1 / dev->desired_fps;
-		}
-
-		return workers_pool_init(
-			"JPEG", "jw", n_workers, desired_interval,
-			_worker_job_init, (void *)enc,
-			_worker_job_destroy,
-			_worker_run_job);
-
-#	undef DR
-}
-
-void encoder_get_runtime_params(encoder_s *enc, encoder_type_e *type, unsigned *quality) {
-	A_MUTEX_LOCK(&ER(mutex));
-	*type = ER(type);
-	*quality = ER(quality);
-	A_MUTEX_UNLOCK(&ER(mutex));
-}
-
-static void *_worker_job_init(void *v_enc) {
-	encoder_job_s *job;
-	A_CALLOC(job, 1);
-	job->enc = (encoder_s *)v_enc;
-	job->dest = frame_init();
-	return (void *)job;
-}
-
-static void _worker_job_destroy(void *v_job) {
-	encoder_job_s *job = (encoder_job_s *)v_job;
-	frame_destroy(job->dest);
-	free(job);
-}
-
-#undef ER
-
-static bool _worker_run_job(worker_s *wr) {
-	encoder_job_s *job = (encoder_job_s *)wr->job;
-	frame_s *src = &job->hw->raw;
-	frame_s *dest = job->dest;
-
-#	define ER(_next) job->enc->run->_next
-
-	LOG_DEBUG("Worker %s compressing JPEG from buffer %u ...", wr->name, job->hw->buf_info.index);
-
-	assert(ER(type) != ENCODER_TYPE_UNKNOWN);
-	assert(src->used > 0);
-
-	frame_copy_meta(src, dest);
-	dest->format = V4L2_PIX_FMT_JPEG;
-	dest->stride = 0;
-	dest->encode_begin_ts = get_now_monotonic();
-	dest->used = 0;
-
-	if (ER(type) == ENCODER_TYPE_CPU) {
-		LOG_VERBOSE("Compressing buffer using CPU");
-		cpu_encoder_compress(src, dest, ER(quality));
-	} else if (ER(type) == ENCODER_TYPE_HW) {
-		LOG_VERBOSE("Compressing buffer using HW (just copying)");
-		hw_encoder_compress(src, dest);
-	}
-#	ifdef WITH_OMX
-	else if (ER(type) == ENCODER_TYPE_OMX) {
-		LOG_VERBOSE("Compressing buffer using OMX");
-		if (omx_encoder_compress(ER(omxs[wr->number]), src, dest) < 0) {
-			goto error;
-		}
-	}
-#	endif
-	else if (ER(type) == ENCODER_TYPE_NOOP) {
-		LOG_VERBOSE("Compressing buffer using NOOP (do nothing)");
-		usleep(5000); // Просто чтобы работала логика desired_fps
-	}
-
-	dest->encode_end_ts = get_now_monotonic();
-	LOG_VERBOSE("Compressed new JPEG: size=%zu, time=%0.3Lf, worker=%s, buffer=%u",
-		job->dest->used,
-		job->dest->encode_end_ts - job->dest->encode_begin_ts,
-		wr->name,
-		job->hw->buf_info.index);
-
-	return true;
-
-#	ifdef WITH_OMX
-	error:
-		LOG_ERROR("Compression failed: worker=%s, buffer=%u", wr->name, job->hw->buf_info.index);
-		LOG_ERROR("Error while compressing buffer, falling back to CPU");
-		A_MUTEX_LOCK(&ER(mutex));
-		ER(cpu_forced) = true;
-		A_MUTEX_UNLOCK(&ER(mutex));
-		return false;
-#	endif
-
-#	undef ER
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoder.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoder.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoder.h	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoder.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,103 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <strings.h>
-#include <assert.h>
-
-#include <pthread.h>
-#include <linux/videodev2.h>
-
-#include "../libs/tools.h"
-#include "../libs/threading.h"
-#include "../libs/logging.h"
-#include "../libs/frame.h"
-
-#include "device.h"
-#include "workers.h"
-
-#include "encoders/cpu/encoder.h"
-#include "encoders/hw/encoder.h"
-
-#ifdef WITH_OMX
-#	include "encoders/omx/encoder.h"
-#	define ENCODER_TYPES_OMX_HINT ", OMX"
-#else
-#	define ENCODER_TYPES_OMX_HINT ""
-#endif
-
-
-#define ENCODER_TYPES_STR \
-	"CPU, HW" \
-	ENCODER_TYPES_OMX_HINT \
-	", NOOP"
-
-typedef enum {
-	ENCODER_TYPE_UNKNOWN, // Only for encoder_parse_type() and main()
-	ENCODER_TYPE_CPU,
-	ENCODER_TYPE_HW,
-#	ifdef WITH_OMX
-	ENCODER_TYPE_OMX,
-#	endif
-	ENCODER_TYPE_NOOP,
-} encoder_type_e;
-
-typedef struct {
-	encoder_type_e	type;
-	unsigned		quality;
-	bool			cpu_forced;
-	pthread_mutex_t	mutex;
-
-#	ifdef WITH_OMX
-	unsigned		n_omxs;
-	omx_encoder_s	**omxs;
-#	endif
-} encoder_runtime_s;
-
-typedef struct {
-	encoder_type_e	type;
-	unsigned		n_workers;
-
-	encoder_runtime_s *run;
-} encoder_s;
-
-typedef struct {
-	encoder_s	*enc;
-	hw_buffer_s	*hw;
-	char		*dest_role;
-	frame_s		*dest;
-} encoder_job_s;
-
-
-encoder_s *encoder_init(void);
-void encoder_destroy(encoder_s *enc);
-
-encoder_type_e encoder_parse_type(const char *str);
-const char *encoder_type_to_string(encoder_type_e type);
-
-workers_pool_s *encoder_workers_pool_init(encoder_s *enc, device_s *dev);
-void encoder_get_runtime_params(encoder_s *enc, encoder_type_e *type, unsigned *quality);
-
-int encoder_compress(encoder_s *enc, unsigned worker_number, frame_s *src, frame_s *dest);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.c	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,271 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    This source file based on code of MJPG-Streamer.                        #
-#                                                                            #
-#    Copyright (C) 2005-2006  Laurent Pinchart & Michel Xhaard               #
-#    Copyright (C) 2006  Gabriel A. Devenyi                                  #
-#    Copyright (C) 2007  Tom Stöveken                                        #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "encoder.h"
-
-
-typedef struct {
-	struct	jpeg_destination_mgr mgr; // Default manager
-	JOCTET	*buf; // Start of buffer
-	frame_s	*frame;
-} _jpeg_dest_manager_s;
-
-
-static void _jpeg_set_dest_frame(j_compress_ptr jpeg, frame_s *frame);
-
-static void _jpeg_write_scanlines_yuyv(struct jpeg_compress_struct *jpeg, const frame_s *frame);
-static void _jpeg_write_scanlines_uyvy(struct jpeg_compress_struct *jpeg, const frame_s *frame);
-static void _jpeg_write_scanlines_rgb565(struct jpeg_compress_struct *jpeg, const frame_s *frame);
-static void _jpeg_write_scanlines_rgb24(struct jpeg_compress_struct *jpeg, const frame_s *frame);
-
-static void _jpeg_init_destination(j_compress_ptr jpeg);
-static boolean _jpeg_empty_output_buffer(j_compress_ptr jpeg);
-static void _jpeg_term_destination(j_compress_ptr jpeg);
-
-
-void cpu_encoder_compress(const frame_s *src, frame_s *dest, unsigned quality) {
-	// This function based on compress_image_to_jpeg() from mjpg-streamer
-
-	struct jpeg_compress_struct jpeg;
-	struct jpeg_error_mgr jpeg_error;
-
-	jpeg.err = jpeg_std_error(&jpeg_error);
-	jpeg_create_compress(&jpeg);
-
-	_jpeg_set_dest_frame(&jpeg, dest);
-
-	jpeg.image_width = src->width;
-	jpeg.image_height = src->height;
-	jpeg.input_components = 3;
-	jpeg.in_color_space = JCS_RGB;
-
-	jpeg_set_defaults(&jpeg);
-	jpeg_set_quality(&jpeg, quality, TRUE);
-
-	jpeg_start_compress(&jpeg, TRUE);
-
-#	define WRITE_SCANLINES(_format, _func) \
-		case _format: { _func(&jpeg, src); break; }
-
-	switch (src->format) {
-		// https://www.fourcc.org/yuv.php
-		WRITE_SCANLINES(V4L2_PIX_FMT_YUYV, _jpeg_write_scanlines_yuyv);
-		WRITE_SCANLINES(V4L2_PIX_FMT_UYVY, _jpeg_write_scanlines_uyvy);
-		WRITE_SCANLINES(V4L2_PIX_FMT_RGB565, _jpeg_write_scanlines_rgb565);
-		WRITE_SCANLINES(V4L2_PIX_FMT_RGB24, _jpeg_write_scanlines_rgb24);
-		default: assert(0 && "Unsupported input format for CPU encoder");
-	}
-
-#	undef WRITE_SCANLINES
-
-	jpeg_finish_compress(&jpeg);
-	jpeg_destroy_compress(&jpeg);
-
-	assert(dest->used > 0);
-}
-
-static void _jpeg_set_dest_frame(j_compress_ptr jpeg, frame_s *frame) {
-	if (jpeg->dest == NULL) {
-		assert((jpeg->dest = (struct jpeg_destination_mgr *)(*jpeg->mem->alloc_small)(
-			(j_common_ptr) jpeg, JPOOL_PERMANENT, sizeof(_jpeg_dest_manager_s)
-		)));
-	}
-
-	_jpeg_dest_manager_s *dest = (_jpeg_dest_manager_s *)jpeg->dest;
-	dest->mgr.init_destination = _jpeg_init_destination;
-	dest->mgr.empty_output_buffer = _jpeg_empty_output_buffer;
-	dest->mgr.term_destination = _jpeg_term_destination;
-	dest->frame = frame;
-
-	frame->used = 0;
-}
-
-#define YUV_R(_y, _, _v)	(((_y) + (359 * (_v))) >> 8)
-#define YUV_G(_y, _u, _v)	(((_y) - (88 * (_u)) - (183 * (_v))) >> 8)
-#define YUV_B(_y, _u, _)	(((_y) + (454 * (_u))) >> 8)
-#define NORM_COMPONENT(_x)	(((_x) > 255) ? 255 : (((_x) < 0) ? 0 : (_x)))
-
-static void _jpeg_write_scanlines_yuyv(struct jpeg_compress_struct *jpeg, const frame_s *frame) {
-	uint8_t *line_buf;
-	A_CALLOC(line_buf, frame->width * 3);
-
-	const unsigned padding = frame_get_padding(frame);
-	const uint8_t *data = frame->data;
-	unsigned z = 0;
-
-	while (jpeg->next_scanline < frame->height) {
-		uint8_t *ptr = line_buf;
-
-		for (unsigned x = 0; x < frame->width; ++x) {
-			int y = (!z ? data[0] << 8 : data[2] << 8);
-			int u = data[1] - 128;
-			int v = data[3] - 128;
-
-			int r = YUV_R(y, u, v);
-			int g = YUV_G(y, u, v);
-			int b = YUV_B(y, u, v);
-
-			*(ptr++) = NORM_COMPONENT(r);
-			*(ptr++) = NORM_COMPONENT(g);
-			*(ptr++) = NORM_COMPONENT(b);
-
-			if (z++) {
-				z = 0;
-				data += 4;
-			}
-		}
-		data += padding;
-
-		JSAMPROW scanlines[1] = {line_buf};
-		jpeg_write_scanlines(jpeg, scanlines, 1);
-	}
-
-	free(line_buf);
-}
-
-static void _jpeg_write_scanlines_uyvy(struct jpeg_compress_struct *jpeg, const frame_s *frame) {
-	uint8_t *line_buf;
-	A_CALLOC(line_buf, frame->width * 3);
-
-	const unsigned padding = frame_get_padding(frame);
-	const uint8_t *data = frame->data;
-	unsigned z = 0;
-
-	while (jpeg->next_scanline < frame->height) {
-		uint8_t *ptr = line_buf;
-
-		for (unsigned x = 0; x < frame->width; ++x) {
-			int y = (!z ? data[1] << 8 : data[3] << 8);
-			int u = data[0] - 128;
-			int v = data[2] - 128;
-
-			int r = YUV_R(y, u, v);
-			int g = YUV_G(y, u, v);
-			int b = YUV_B(y, u, v);
-
-			*(ptr++) = NORM_COMPONENT(r);
-			*(ptr++) = NORM_COMPONENT(g);
-			*(ptr++) = NORM_COMPONENT(b);
-
-			if (z++) {
-				z = 0;
-				data += 4;
-			}
-		}
-		data += padding;
-
-		JSAMPROW scanlines[1] = {line_buf};
-		jpeg_write_scanlines(jpeg, scanlines, 1);
-	}
-
-	free(line_buf);
-}
-
-#undef NORM_COMPONENT
-#undef YUV_B
-#undef YUV_G
-#undef YUV_R
-
-static void _jpeg_write_scanlines_rgb565(struct jpeg_compress_struct *jpeg, const frame_s *frame) {
-	uint8_t *line_buf;
-	A_CALLOC(line_buf, frame->width * 3);
-
-	const unsigned padding = frame_get_padding(frame);
-	const uint8_t *data = frame->data;
-
-	while (jpeg->next_scanline < frame->height) {
-		uint8_t *ptr = line_buf;
-
-		for (unsigned x = 0; x < frame->width; ++x) {
-			unsigned int two_byte = (data[1] << 8) + data[0];
-
-			*(ptr++) = data[1] & 248; // Red
-			*(ptr++) = (uint8_t)((two_byte & 2016) >> 3); // Green
-			*(ptr++) = (data[0] & 31) * 8; // Blue
-
-			data += 2;
-		}
-		data += padding;
-
-		JSAMPROW scanlines[1] = {line_buf};
-		jpeg_write_scanlines(jpeg, scanlines, 1);
-	}
-
-	free(line_buf);
-}
-
-static void _jpeg_write_scanlines_rgb24(struct jpeg_compress_struct *jpeg, const frame_s *frame) {
-	const unsigned padding = frame_get_padding(frame);
-	uint8_t *data = frame->data;
-
-	while (jpeg->next_scanline < frame->height) {
-		JSAMPROW scanlines[1] = {data};
-		jpeg_write_scanlines(jpeg, scanlines, 1);
-
-		data += (jpeg->next_scanline * frame->width * 3) + padding;
-	}
-}
-
-#define JPEG_OUTPUT_BUFFER_SIZE ((size_t)4096)
-
-static void _jpeg_init_destination(j_compress_ptr jpeg) {
-	_jpeg_dest_manager_s *dest = (_jpeg_dest_manager_s *)jpeg->dest;
-
-	// Allocate the output buffer - it will be released when done with image
-	assert((dest->buf = (JOCTET *)(*jpeg->mem->alloc_small)(
-		(j_common_ptr) jpeg, JPOOL_IMAGE, JPEG_OUTPUT_BUFFER_SIZE * sizeof(JOCTET)
-	)));
-
-	dest->mgr.next_output_byte = dest->buf;
-	dest->mgr.free_in_buffer = JPEG_OUTPUT_BUFFER_SIZE;
-}
-
-static boolean _jpeg_empty_output_buffer(j_compress_ptr jpeg) {
-	// Called whenever local jpeg buffer fills up
-
-	_jpeg_dest_manager_s *dest = (_jpeg_dest_manager_s *)jpeg->dest;
-
-	frame_append_data(dest->frame, dest->buf, JPEG_OUTPUT_BUFFER_SIZE);
-
-	dest->mgr.next_output_byte = dest->buf;
-	dest->mgr.free_in_buffer = JPEG_OUTPUT_BUFFER_SIZE;
-
-	return TRUE;
-}
-
-static void _jpeg_term_destination(j_compress_ptr jpeg) {
-	// Called by jpeg_finish_compress after all data has been written.
-	// Usually needs to flush buffer.
-
-	_jpeg_dest_manager_s *dest = (_jpeg_dest_manager_s *)jpeg->dest;
-	size_t final = JPEG_OUTPUT_BUFFER_SIZE - dest->mgr.free_in_buffer;
-
-	// Write any data remaining in the buffer.
-	frame_append_data(dest->frame, dest->buf, final);
-}
-
-#undef JPEG_OUTPUT_BUFFER_SIZE
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.h	2023-12-15 01:51:35.142398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/cpu/encoder.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,38 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <stdint.h>
-#include <assert.h>
-
-#include <jpeglib.h>
-
-#include <linux/videodev2.h>
-
-#include "../../../libs/tools.h"
-#include "../../../libs/frame.h"
-
-
-void cpu_encoder_compress(const frame_s *src, frame_s *dest, unsigned quality);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.c	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,76 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    This source file based on code of MJPG-Streamer.                        #
-#                                                                            #
-#    Copyright (C) 2005-2006  Laurent Pinchart & Michel Xhaard               #
-#    Copyright (C) 2006  Gabriel A. Devenyi                                  #
-#    Copyright (C) 2007  Tom Stöveken                                        #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "encoder.h"
-
-
-void _copy_plus_huffman(const frame_s *src, frame_s *dest);
-static bool _is_huffman(const uint8_t *data);
-
-
-void hw_encoder_compress(const frame_s *src, frame_s *dest) {
-	assert(is_jpeg(src->format));
-	_copy_plus_huffman(src, dest);
-}
-
-void _copy_plus_huffman(const frame_s *src, frame_s *dest) {
-	if (!_is_huffman(src->data)) {
-		const uint8_t *src_ptr = src->data;
-		const uint8_t *src_end = src->data + src->used;
-
-		while ((((src_ptr[0] << 8) | src_ptr[1]) != 0xFFC0) && (src_ptr < src_end)) {
-			src_ptr += 1;
-		}
-		if (src_ptr >= src_end) {
-			dest->used = 0; // Error
-			return;
-		}
-
-		const size_t paste = src_ptr - src->data;
-
-		frame_set_data(dest, src->data, paste);
-		frame_append_data(dest, HUFFMAN_TABLE, sizeof(HUFFMAN_TABLE));
-		frame_append_data(dest, src_ptr, src->used - paste);
-	} else {
-		frame_set_data(dest, src->data, src->used);
-	}
-}
-
-static bool _is_huffman(const uint8_t *data) {
-	unsigned count = 0;
-
-	while ((((uint16_t)data[0] << 8) | data[1]) != 0xFFDA) {
-		if (count++ > 2048) {
-			return false;
-		}
-		if ((((uint16_t)data[0] << 8) | data[1]) == 0xFFC4) {
-			return true;
-		}
-		data += 1;
-	}
-	return false;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.h	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/encoder.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,37 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-#include <stdbool.h>
-#include <string.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include "../../../libs/frame.h"
-
-#include "huffman.h"
-
-
-void hw_encoder_compress(const frame_s *src, frame_s *dest);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/huffman.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/huffman.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/huffman.h	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/hw/huffman.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,69 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    This source file based on code of MJPG-Streamer.                        #
-#                                                                            #
-#    Copyright (C) 2005-2006  Laurent Pinchart & Michel Xhaard               #
-#    Copyright (C) 2006  Gabriel A. Devenyi                                  #
-#    Copyright (C) 2007  Tom Stöveken                                        #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdint.h>
-
-
-static const uint8_t HUFFMAN_TABLE[] = {
-	0xFF, 0xC4, 0x01, 0xA2, 0x00, 0x00, 0x01, 0x05, 0x01, 0x01, 0x01, 0x01,
-	0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02,
-	0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x01, 0x00, 0x03,
-	0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00,
-	0x00, 0x00, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09,
-	0x0A, 0x0B, 0x10, 0x00, 0x02, 0x01, 0x03, 0x03, 0x02, 0x04, 0x03, 0x05,
-	0x05, 0x04, 0x04, 0x00, 0x00, 0x01, 0x7D, 0x01, 0x02, 0x03, 0x00, 0x04,
-	0x11, 0x05, 0x12, 0x21, 0x31, 0x41, 0x06, 0x13, 0x51, 0x61, 0x07, 0x22,
-	0x71, 0x14, 0x32, 0x81, 0x91, 0xA1, 0x08, 0x23, 0x42, 0xB1, 0xC1, 0x15,
-	0x52, 0xD1, 0xF0, 0x24, 0x33, 0x62, 0x72, 0x82, 0x09, 0x0A, 0x16, 0x17,
-	0x18, 0x19, 0x1A, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x34, 0x35, 0x36,
-	0x37, 0x38, 0x39, 0x3A, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A,
-	0x53, 0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x63, 0x64, 0x65, 0x66,
-	0x67, 0x68, 0x69, 0x6A, 0x73, 0x74, 0x75, 0x76, 0x77, 0x78, 0x79, 0x7A,
-	0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A, 0x92, 0x93, 0x94, 0x95,
-	0x96, 0x97, 0x98, 0x99, 0x9A, 0xA2, 0xA3, 0xA4, 0xA5, 0xA6, 0xA7, 0xA8,
-	0xA9, 0xAA, 0xB2, 0xB3, 0xB4, 0xB5, 0xB6, 0xB7, 0xB8, 0xB9, 0xBA, 0xC2,
-	0xC3, 0xC4, 0xC5, 0xC6, 0xC7, 0xC8, 0xC9, 0xCA, 0xD2, 0xD3, 0xD4, 0xD5,
-	0xD6, 0xD7, 0xD8, 0xD9, 0xDA, 0xE1, 0xE2, 0xE3, 0xE4, 0xE5, 0xE6, 0xE7,
-	0xE8, 0xE9, 0xEA, 0xF1, 0xF2, 0xF3, 0xF4, 0xF5, 0xF6, 0xF7, 0xF8, 0xF9,
-	0xFA, 0x11, 0x00, 0x02, 0x01, 0x02, 0x04, 0x04, 0x03, 0x04, 0x07, 0x05,
-	0x04, 0x04, 0x00, 0x01, 0x02, 0x77, 0x00, 0x01, 0x02, 0x03, 0x11, 0x04,
-	0x05, 0x21, 0x31, 0x06, 0x12, 0x41, 0x51, 0x07, 0x61, 0x71, 0x13, 0x22,
-	0x32, 0x81, 0x08, 0x14, 0x42, 0x91, 0xA1, 0xB1, 0xC1, 0x09, 0x23, 0x33,
-	0x52, 0xF0, 0x15, 0x62, 0x72, 0xD1, 0x0A, 0x16, 0x24, 0x34, 0xE1, 0x25,
-	0xF1, 0x17, 0x18, 0x19, 0x1A, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x35, 0x36,
-	0x37, 0x38, 0x39, 0x3A, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A,
-	0x53, 0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x63, 0x64, 0x65, 0x66,
-	0x67, 0x68, 0x69, 0x6A, 0x73, 0x74, 0x75, 0x76, 0x77, 0x78, 0x79, 0x7A,
-	0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A, 0x92, 0x93, 0x94,
-	0x95, 0x96, 0x97, 0x98, 0x99, 0x9A, 0xA2, 0xA3, 0xA4, 0xA5, 0xA6, 0xA7,
-	0xA8, 0xA9, 0xAA, 0xB2, 0xB3, 0xB4, 0xB5, 0xB6, 0xB7, 0xB8, 0xB9, 0xBA,
-	0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7, 0xC8, 0xC9, 0xCA, 0xD2, 0xD3, 0xD4,
-	0xD5, 0xD6, 0xD7, 0xD8, 0xD9, 0xDA, 0xE2, 0xE3, 0xE4, 0xE5, 0xE6, 0xE7,
-	0xE8, 0xE9, 0xEA, 0xF2, 0xF3, 0xF4, 0xF5, 0xF6, 0xF7, 0xF8, 0xF9, 0xFA,
-};
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.c	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,154 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "component.h"
-
-
-static int _omx_component_wait_port_changed(OMX_HANDLETYPE *comp, OMX_U32 port, OMX_BOOL enabled);
-static int _omx_component_wait_state_changed(OMX_HANDLETYPE *comp, OMX_STATETYPE wanted);
-
-
-int omx_component_enable_port(OMX_HANDLETYPE *comp, OMX_U32 port) {
-	OMX_ERRORTYPE error;
-
-	LOG_DEBUG("Enabling OMX port %u ...", port);
-	if ((error = OMX_SendCommand(*comp, OMX_CommandPortEnable, port, NULL)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't enable OMX port %u", port);
-		return -1;
-	}
-	return _omx_component_wait_port_changed(comp, port, OMX_TRUE);
-}
-
-int omx_component_disable_port(OMX_HANDLETYPE *comp, OMX_U32 port) {
-	OMX_ERRORTYPE error;
-
-	LOG_DEBUG("Disabling OMX port %u ...", port);
-	if ((error = OMX_SendCommand(*comp, OMX_CommandPortDisable, port, NULL)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't disable OMX port %u", port);
-		return -1;
-	}
-	return _omx_component_wait_port_changed(comp, port, OMX_FALSE);
-}
-
-int omx_component_get_portdef(OMX_HANDLETYPE *comp, OMX_PARAM_PORTDEFINITIONTYPE *portdef, OMX_U32 port) {
-	OMX_ERRORTYPE error;
-
-	// cppcheck-suppress redundantPointerOp
-	OMX_INIT_STRUCTURE(*portdef);
-	portdef->nPortIndex = port;
-
-	LOG_DEBUG("Fetching OMX port %u definition ...", port);
-	if ((error = OMX_GetParameter(*comp, OMX_IndexParamPortDefinition, portdef)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't get OMX port %u definition", port);
-		return -1;
-	}
-	return 0;
-}
-
-int omx_component_set_portdef(OMX_HANDLETYPE *comp, OMX_PARAM_PORTDEFINITIONTYPE *portdef) {
-	OMX_ERRORTYPE error;
-
-	LOG_DEBUG("Writing OMX port %u definition ...", portdef->nPortIndex);
-	if ((error = OMX_SetParameter(*comp, OMX_IndexParamPortDefinition, portdef)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't set OMX port %u definition", portdef->nPortIndex);
-		return -1;
-	}
-	return 0;
-}
-
-int omx_component_set_state(OMX_HANDLETYPE *comp, OMX_STATETYPE state) {
-	const char *state_str = omx_state_to_string(state);
-	OMX_ERRORTYPE error;
-
-	LOG_DEBUG("Switching component state to %s ...", state_str);
-
-	int retries = 50;
-	do {
-		error = OMX_SendCommand(*comp, OMX_CommandStateSet, state, NULL);
-		if (error == OMX_ErrorNone) {
-			return _omx_component_wait_state_changed(comp, state);
-		} else if (error == OMX_ErrorInsufficientResources && retries) {
-			// Иногда железо не инициализируется, хз почему, просто ретраим, со второй попытки сработает
-			if (retries > 45) {
-				LOG_VERBOSE("Can't switch OMX component state to %s, need to retry: %s",
-					state_str, omx_error_to_string(error));
-			} else {
-				LOG_ERROR_OMX(error, "Can't switch OMX component state to %s, need to retry", state_str);
-			}
-			retries -= 1;
-			usleep(8000);
-		} else {
-			break;
-		}
-	} while (retries);
-
-	LOG_ERROR_OMX(error, "Can't switch OMX component state to %s", state_str);
-	return -1;
-}
-
-
-static int _omx_component_wait_port_changed(OMX_HANDLETYPE *comp, OMX_U32 port, OMX_BOOL enabled) {
-	OMX_ERRORTYPE error;
-
-	OMX_PARAM_PORTDEFINITIONTYPE portdef;
-	OMX_INIT_STRUCTURE(portdef);
-	portdef.nPortIndex = port;
-
-	int retries = 50;
-	do {
-		if ((error = OMX_GetParameter(*comp, OMX_IndexParamPortDefinition, &portdef)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Can't get OMX port %u definition for waiting", port);
-			return -1;
-		}
-
-		if (portdef.bEnabled != enabled) {
-			LOG_DEBUG("Waiting for OMX %s port %u", (enabled ? "enabling" : "disabling"), port);
-			retries -= 1;
-			usleep(8000);
-		}
-	} while (portdef.bEnabled != enabled && retries);
-
-	LOG_DEBUG("OMX port %u %s", port, (enabled ? "enabled" : "disabled"));
-	return (portdef.bEnabled == enabled ? 0 : -1);
-}
-
-static int _omx_component_wait_state_changed(OMX_HANDLETYPE *comp, OMX_STATETYPE wanted) {
-	OMX_ERRORTYPE error;
-	OMX_STATETYPE state;
-
-	int retries = 50;
-	do {
-		if ((error = OMX_GetState(*comp, &state)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Failed to get OMX component state");
-			return -1;
-		}
-
-		if (state != wanted) {
-			LOG_DEBUG("Waiting when OMX component state changes to %s", omx_state_to_string(wanted));
-			retries -= 1;
-			usleep(8000);
-		}
-	} while (state != wanted && retries);
-
-	LOG_DEBUG("Switched OMX component state to %s", omx_state_to_string(wanted))
-	return (state == wanted ? 0 : -1);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.h	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/component.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,53 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <string.h>
-#include <unistd.h>
-
-#include <IL/OMX_Core.h>
-#include <IL/OMX_Component.h>
-
-#include "../../../libs/logging.h"
-
-#include "formatters.h"
-
-
-#define OMX_INIT_STRUCTURE(_var) { \
-		memset(&(_var), 0, sizeof(_var)); \
-		(_var).nSize = sizeof(_var); \
-		(_var).nVersion.nVersion = OMX_VERSION; \
-		(_var).nVersion.s.nVersionMajor = OMX_VERSION_MAJOR; \
-		(_var).nVersion.s.nVersionMinor = OMX_VERSION_MINOR; \
-		(_var).nVersion.s.nRevision = OMX_VERSION_REVISION; \
-		(_var).nVersion.s.nStep = OMX_VERSION_STEP; \
-	}
-
-
-int omx_component_enable_port(OMX_HANDLETYPE *comp, OMX_U32 port);
-int omx_component_disable_port(OMX_HANDLETYPE *comp, OMX_U32 port);
-
-int omx_component_get_portdef(OMX_HANDLETYPE *comp, OMX_PARAM_PORTDEFINITIONTYPE *portdef, OMX_U32 port);
-int omx_component_set_portdef(OMX_HANDLETYPE *comp, OMX_PARAM_PORTDEFINITIONTYPE *portdef);
-
-int omx_component_set_state(OMX_HANDLETYPE *comp, OMX_STATETYPE state);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.c	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,444 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "encoder.h"
-
-
-static const OMX_U32 _INPUT_PORT = 340;
-static const OMX_U32 _OUTPUT_PORT = 341;
-
-
-static int _omx_init_component(omx_encoder_s *omx);
-static int _omx_init_disable_ports(omx_encoder_s *omx);
-static int _omx_setup_input(omx_encoder_s *omx, const frame_s *frame);
-static int _omx_setup_output(omx_encoder_s *omx, unsigned quality);
-static int _omx_encoder_clear_ports(omx_encoder_s *omx);
-
-static OMX_ERRORTYPE _omx_event_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, OMX_EVENTTYPE event, OMX_U32 data1,
-	UNUSED OMX_U32 data2, UNUSED OMX_PTR event_data);
-
-static OMX_ERRORTYPE _omx_input_required_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, UNUSED OMX_BUFFERHEADERTYPE *buf);
-
-static OMX_ERRORTYPE _omx_output_available_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, UNUSED OMX_BUFFERHEADERTYPE *buf);
-
-
-omx_encoder_s *omx_encoder_init(void) {
-	// Some theory:
-	//   - http://www.fourcc.org/yuv.php
-	//   - https://kwasi-ich.de/blog/2017/11/26/omx/
-	//   - https://github.com/hopkinskong/rpi-omx-jpeg-encode/blob/master/jpeg_bench.cpp
-	//   - https://github.com/kwasmich/OMXPlayground/blob/master/omxJPEGEnc.c
-	//   - https://github.com/gagle/raspberrypi-openmax-jpeg/blob/master/jpeg.c
-	//   - https://www.raspberrypi.org/forums/viewtopic.php?t=154790
-	//   - https://bitbucket.org/bensch128/omxjpegencode/src/master/jpeg_encoder.cpp
-	//   - http://home.nouwen.name/RaspberryPi/documentation/ilcomponents/image_encode.html
-
-	LOG_INFO("Initializing OMX encoder ...");
-
-	omx_encoder_s *omx;
-	A_CALLOC(omx, 1);
-
-	if (vcos_semaphore_create(&omx->handler_sem, "handler_sem", 0) != VCOS_SUCCESS) {
-		LOG_ERROR("Can't create VCOS semaphore");
-		goto error;
-	}
-	omx->i_handler_sem = true;
-
-	if (_omx_init_component(omx) < 0) {
-		goto error;
-	}
-
-	if (_omx_init_disable_ports(omx) < 0) {
-		goto error;
-	}
-
-	return omx;
-
-	error:
-		omx_encoder_destroy(omx);
-		return NULL;
-}
-
-void omx_encoder_destroy(omx_encoder_s *omx) {
-	LOG_INFO("Destroying OMX encoder ...");
-
-	omx_component_set_state(&omx->comp, OMX_StateIdle);
-	_omx_encoder_clear_ports(omx);
-	omx_component_set_state(&omx->comp, OMX_StateLoaded);
-
-	if (omx->i_handler_sem) {
-		vcos_semaphore_delete(&omx->handler_sem);
-	}
-
-	if (omx->i_encoder) {
-		OMX_ERRORTYPE error;
-		if ((error = OMX_FreeHandle(omx->comp)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Can't free OMX.broadcom.image_encode");
-		}
-	}
-
-	free(omx);
-}
-
-int omx_encoder_prepare(omx_encoder_s *omx, const frame_s *frame, unsigned quality) {
-	if (align_size(frame->width, 32) != frame->width && frame_get_padding(frame) == 0) {
-		LOG_ERROR("%u %u", frame->width, frame->stride);
-		LOG_ERROR("OMX encoder can't handle unaligned width");
-		return -2;
-	}
-	if (omx_component_set_state(&omx->comp, OMX_StateIdle) < 0) {
-		return -1;
-	}
-	if (_omx_encoder_clear_ports(omx) < 0) {
-		return -1;
-	}
-	if (_omx_setup_input(omx, frame) < 0) {
-		return -1;
-	}
-	if (_omx_setup_output(omx, quality) < 0) {
-		return -1;
-	}
-	if (omx_component_set_state(&omx->comp, OMX_StateExecuting) < 0) {
-		return -1;
-	}
-	return 0;
-}
-
-int omx_encoder_compress(omx_encoder_s *omx, const frame_s *src, frame_s *dest) {
-#	define IN(_next)	omx->input_buf->_next
-#	define OUT(_next)	omx->output_buf->_next
-
-	OMX_ERRORTYPE error;
-
-	if ((error = OMX_FillThisBuffer(omx->comp, omx->output_buf)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Failed to request filling of the output buffer on encoder");
-		return -1;
-	}
-
-	dest->width = align_size(src->width, 32);
-	dest->used = 0;
-
-	omx->output_available = false;
-	omx->input_required = true;
-
-	size_t slice_size = (IN(nAllocLen) < src->used ? IN(nAllocLen) : src->used);
-	size_t pos = 0;
-
-	while (true) {
-		if (omx->failed) {
-			return -1;
-		}
-
-		if (omx->output_available) {
-			omx->output_available = false;
-
-			frame_append_data(dest, OUT(pBuffer) + OUT(nOffset), OUT(nFilledLen));
-
-			if (OUT(nFlags) & OMX_BUFFERFLAG_ENDOFFRAME) {
-				OUT(nFlags) = 0;
-				break;
-			}
-
-			if ((error = OMX_FillThisBuffer(omx->comp, omx->output_buf)) != OMX_ErrorNone) {
-				LOG_ERROR_OMX(error, "Failed to request filling of the output buffer on encoder");
-				return -1;
-			}
-		}
-
-		if (omx->input_required) {
-			omx->input_required = false;
-
-			if (pos == src->used) {
-				continue;
-			}
-
-			memcpy(IN(pBuffer), src->data + pos, slice_size);
-			IN(nOffset) = 0;
-			IN(nFilledLen) = slice_size;
-
-			pos += slice_size;
-
-			if (pos + slice_size > src->used) {
-				slice_size = src->used - pos;
-			}
-
-			if ((error = OMX_EmptyThisBuffer(omx->comp, omx->input_buf)) != OMX_ErrorNone) {
-				LOG_ERROR_OMX(error, "Failed to request emptying of the input buffer on encoder");
-				return -1;
-			}
-		}
-
-		if (vcos_my_semwait("", &omx->handler_sem, 1) < 0) {
-			return -1;
-		}
-	}
-
-#	undef OUT
-#	undef IN
-	return 0;
-}
-
-static int _omx_init_component(omx_encoder_s *omx) {
-	OMX_ERRORTYPE error;
-
-	OMX_CALLBACKTYPE callbacks;
-	MEMSET_ZERO(callbacks);
-	callbacks.EventHandler = _omx_event_handler;
-	callbacks.EmptyBufferDone = _omx_input_required_handler;
-	callbacks.FillBufferDone = _omx_output_available_handler;
-
-	LOG_DEBUG("Initializing OMX.broadcom.image_encode ...");
-	if ((error = OMX_GetHandle(&omx->comp, "OMX.broadcom.image_encode", omx, &callbacks)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't initialize OMX.broadcom.image_encode");
-		return -1;
-	}
-	omx->i_encoder = true;
-	return 0;
-}
-
-static int _omx_init_disable_ports(omx_encoder_s *omx) {
-	OMX_ERRORTYPE error;
-	OMX_INDEXTYPE types[] = {
-		OMX_IndexParamAudioInit, OMX_IndexParamVideoInit,
-		OMX_IndexParamImageInit, OMX_IndexParamOtherInit,
-	};
-	OMX_PORT_PARAM_TYPE ports;
-
-	OMX_INIT_STRUCTURE(ports);
-	if ((error = OMX_GetParameter(omx->comp, OMX_IndexParamImageInit, &ports)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't OMX_GetParameter(OMX_IndexParamImageInit)");
-		return -1;
-	}
-
-	for (unsigned index = 0; index < 4; ++index) {
-		if ((error = OMX_GetParameter(omx->comp, types[index], &ports)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Can't OMX_GetParameter(types[%u])", index);
-			return -1;
-		}
-		for (OMX_U32 port = ports.nStartPortNumber; port < ports.nStartPortNumber + ports.nPorts; ++port) {
-			if (omx_component_disable_port(&omx->comp, port) < 0) {
-				return -1;
-			}
-		}
-	}
-	return 0;
-}
-
-static int _omx_setup_input(omx_encoder_s *omx, const frame_s *frame) {
-	LOG_DEBUG("Setting up OMX JPEG input port ...");
-
-	OMX_ERRORTYPE error;
-	OMX_PARAM_PORTDEFINITIONTYPE portdef;
-
-	if (omx_component_get_portdef(&omx->comp, &portdef, _INPUT_PORT) < 0) {
-		LOG_ERROR("... first");
-		return -1;
-	}
-
-#	define IFMT(_next) portdef.format.image._next
-	IFMT(nFrameWidth) = align_size(frame->width, 32);
-	IFMT(nFrameHeight) = frame->height;
-	IFMT(nStride) = align_size(frame->width, 32) << 1;
-	IFMT(nSliceHeight) = align_size(frame->height, 16);
-	IFMT(bFlagErrorConcealment) = OMX_FALSE;
-	IFMT(eCompressionFormat) = OMX_IMAGE_CodingUnused;
-	portdef.nBufferSize = ((frame->width * frame->height) << 1) * 2;
-	switch (frame->format) {
-		// https://www.fourcc.org/yuv.php
-		// Also see comments inside OMX_IVCommon.h
-		case V4L2_PIX_FMT_YUYV:		IFMT(eColorFormat) = OMX_COLOR_FormatYCbYCr; break;
-		case V4L2_PIX_FMT_UYVY:		IFMT(eColorFormat) = OMX_COLOR_FormatCbYCrY; break;
-		case V4L2_PIX_FMT_RGB565:	IFMT(eColorFormat) = OMX_COLOR_Format16bitRGB565; break;
-		case V4L2_PIX_FMT_RGB24:	IFMT(eColorFormat) = OMX_COLOR_Format24bitRGB888; break;
-		// TODO: найти устройство с RGB565 и протестить его.
-		// FIXME: RGB24 не работает нормально, нижняя половина экрана зеленая.
-		// FIXME: Китайский EasyCap тоже не работает, мусор на экране.
-		// Вероятно обе проблемы вызваны некорректной реализацией OMX на пае.
-		default: assert(0 && "Unsupported pixelformat");
-	}
-#	undef IFMT
-
-	if (omx_component_set_portdef(&omx->comp, &portdef) < 0) {
-		return -1;
-	}
-
-	if (omx_component_get_portdef(&omx->comp, &portdef, _INPUT_PORT) < 0) {
-		LOG_ERROR("... second");
-		return -1;
-	}
-
-	if (omx_component_enable_port(&omx->comp, _INPUT_PORT) < 0) {
-		return -1;
-	}
-	omx->i_input_port_enabled = true;
-
-	if ((error = OMX_AllocateBuffer(omx->comp, &omx->input_buf, _INPUT_PORT, NULL, portdef.nBufferSize)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't allocate OMX JPEG input buffer");
-		return -1;
-	}
-	return 0;
-}
-
-static int _omx_setup_output(omx_encoder_s *omx, unsigned quality) {
-	LOG_DEBUG("Setting up OMX JPEG output port ...");
-
-	OMX_ERRORTYPE error;
-	OMX_PARAM_PORTDEFINITIONTYPE portdef;
-
-	if (omx_component_get_portdef(&omx->comp, &portdef, _OUTPUT_PORT) < 0) {
-		LOG_ERROR("... first");
-		return -1;
-	}
-
-#	define OFMT(_next) portdef.format.image._next
-	OFMT(bFlagErrorConcealment) = OMX_FALSE;
-	OFMT(eCompressionFormat) = OMX_IMAGE_CodingJPEG;
-	OFMT(eColorFormat) = OMX_COLOR_FormatYCbYCr;
-#	undef OFMT
-
-	if (omx_component_set_portdef(&omx->comp, &portdef) < 0) {
-		return -1;
-	}
-
-	if (omx_component_get_portdef(&omx->comp, &portdef, _OUTPUT_PORT) < 0) {
-		LOG_ERROR("... second");
-		return -1;
-	}
-
-#	define SET_PARAM(_key, _value) { \
-			if ((error = OMX_SetParameter(omx->comp, OMX_IndexParam##_key, _value)) != OMX_ErrorNone) { \
-				LOG_ERROR_OMX(error, "Can't set OMX param %s", #_key); \
-				return -1; \
-			} \
-		}
-
-	OMX_CONFIG_BOOLEANTYPE exif;
-	OMX_INIT_STRUCTURE(exif);
-	exif.bEnabled = OMX_FALSE;
-	SET_PARAM(BrcmDisableEXIF, &exif);
-
-	OMX_PARAM_IJGSCALINGTYPE ijg;
-	OMX_INIT_STRUCTURE(ijg);
-	ijg.nPortIndex = _OUTPUT_PORT;
-	ijg.bEnabled = OMX_TRUE;
-	SET_PARAM(BrcmEnableIJGTableScaling, &ijg);
-
-	OMX_IMAGE_PARAM_QFACTORTYPE qfactor;
-	OMX_INIT_STRUCTURE(qfactor);
-	qfactor.nPortIndex = _OUTPUT_PORT;
-	qfactor.nQFactor = quality;
-	SET_PARAM(QFactor, &qfactor);
-
-#	undef SET_PARAM
-
-	if (omx_component_enable_port(&omx->comp, _OUTPUT_PORT) < 0) {
-		return -1;
-	}
-	omx->i_output_port_enabled = true;
-
-	if ((error = OMX_AllocateBuffer(omx->comp, &omx->output_buf, _OUTPUT_PORT, NULL, portdef.nBufferSize)) != OMX_ErrorNone) {
-		LOG_ERROR_OMX(error, "Can't allocate OMX JPEG output buffer");
-		return -1;
-	}
-	return 0;
-}
-
-static int _omx_encoder_clear_ports(omx_encoder_s *omx) {
-	OMX_ERRORTYPE error;
-	int retval = 0;
-
-	if (omx->i_output_port_enabled) {
-		retval -= omx_component_disable_port(&omx->comp, _OUTPUT_PORT);
-		omx->i_output_port_enabled = false;
-	}
-	if (omx->i_input_port_enabled) {
-		retval -= omx_component_disable_port(&omx->comp, _INPUT_PORT);
-		omx->i_input_port_enabled = false;
-	}
-
-	if (omx->input_buf) {
-		if ((error = OMX_FreeBuffer(omx->comp, _INPUT_PORT, omx->input_buf)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Can't free OMX JPEG input buffer");
-			// retval -= 1;
-		}
-		omx->input_buf = NULL;
-	}
-	if (omx->output_buf) {
-		if ((error = OMX_FreeBuffer(omx->comp, _OUTPUT_PORT, omx->output_buf)) != OMX_ErrorNone) {
-			LOG_ERROR_OMX(error, "Can't free OMX JPEG output buffer");
-			// retval -= 1;
-		}
-		omx->output_buf = NULL;
-	}
-	return retval;
-}
-
-static OMX_ERRORTYPE _omx_event_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, OMX_EVENTTYPE event, OMX_U32 data1,
-	UNUSED OMX_U32 data2, UNUSED OMX_PTR event_data) {
-
-	// OMX calls this handler for all the events it emits
-
-	omx_encoder_s *omx = (omx_encoder_s *)v_omx;
-
-	if (event == OMX_EventError) {
-		LOG_ERROR_OMX((OMX_ERRORTYPE)data1, "OMX error event received");
-		omx->failed = true;
-		assert(vcos_semaphore_post(&omx->handler_sem) == VCOS_SUCCESS);
-	}
-	return OMX_ErrorNone;
-}
-
-static OMX_ERRORTYPE _omx_input_required_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, UNUSED OMX_BUFFERHEADERTYPE *buf) {
-
-	// Called by OMX when the encoder component requires
-	// the input buffer to be filled with RAW image data
-
-	omx_encoder_s *omx = (omx_encoder_s *)v_omx;
-
-	omx->input_required = true;
-	assert(vcos_semaphore_post(&omx->handler_sem) == VCOS_SUCCESS);
-	return OMX_ErrorNone;
-}
-
-static OMX_ERRORTYPE _omx_output_available_handler(
-	UNUSED OMX_HANDLETYPE comp,
-	OMX_PTR v_omx, UNUSED OMX_BUFFERHEADERTYPE *buf) {
-
-	// Called by OMX when the encoder component has filled
-	// the output buffer with JPEG data
-
-	omx_encoder_s *omx = (omx_encoder_s *)v_omx;
-
-	omx->output_available = true;
-	assert(vcos_semaphore_post(&omx->handler_sem) == VCOS_SUCCESS);
-	return OMX_ErrorNone;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.h	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/encoder.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,73 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <unistd.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include <IL/OMX_Core.h>
-#include <IL/OMX_Component.h>
-#include <IL/OMX_Broadcom.h>
-#include <interface/vcos/vcos_semaphore.h>
-
-#include "../../../libs/tools.h"
-#include "../../../libs/logging.h"
-#include "../../../libs/frame.h"
-
-#include "vcos.h"
-#include "formatters.h"
-#include "component.h"
-
-
-#ifndef CFG_OMX_MAX_ENCODERS
-#	define CFG_OMX_MAX_ENCODERS 3 // Raspberry Pi limitation
-#endif
-#define OMX_MAX_ENCODERS ((unsigned)(CFG_OMX_MAX_ENCODERS))
-
-
-typedef struct {
-	OMX_HANDLETYPE			comp;
-	OMX_BUFFERHEADERTYPE	*input_buf;
-	OMX_BUFFERHEADERTYPE	*output_buf;
-	bool					input_required;
-	bool					output_available;
-	bool					failed;
-	VCOS_SEMAPHORE_T		handler_sem;
-
-	bool	i_handler_sem;
-	bool	i_encoder;
-	bool	i_input_port_enabled;
-	bool	i_output_port_enabled;
-} omx_encoder_s;
-
-
-omx_encoder_s *omx_encoder_init(void);
-void omx_encoder_destroy(omx_encoder_s *omx);
-
-int omx_encoder_prepare(omx_encoder_s *omx, const frame_s *frame, unsigned quality);
-int omx_encoder_compress(omx_encoder_s *omx, const frame_s *src, frame_s *dest);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.c	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,95 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "formatters.h"
-
-
-#define CASE_TO_STRING(_value) \
-	case _value: { return #_value; }
-
-const char *omx_error_to_string(OMX_ERRORTYPE error) {
-	switch (error) {
-		CASE_TO_STRING(OMX_ErrorNone);
-		CASE_TO_STRING(OMX_ErrorInsufficientResources);
-		CASE_TO_STRING(OMX_ErrorUndefined);
-		CASE_TO_STRING(OMX_ErrorInvalidComponentName);
-		CASE_TO_STRING(OMX_ErrorComponentNotFound);
-		CASE_TO_STRING(OMX_ErrorInvalidComponent);
-		CASE_TO_STRING(OMX_ErrorBadParameter);
-		CASE_TO_STRING(OMX_ErrorNotImplemented);
-		CASE_TO_STRING(OMX_ErrorUnderflow);
-		CASE_TO_STRING(OMX_ErrorOverflow);
-		CASE_TO_STRING(OMX_ErrorHardware);
-		CASE_TO_STRING(OMX_ErrorInvalidState);
-		CASE_TO_STRING(OMX_ErrorStreamCorrupt);
-		CASE_TO_STRING(OMX_ErrorPortsNotCompatible);
-		CASE_TO_STRING(OMX_ErrorResourcesLost);
-		CASE_TO_STRING(OMX_ErrorNoMore);
-		CASE_TO_STRING(OMX_ErrorVersionMismatch);
-		CASE_TO_STRING(OMX_ErrorNotReady);
-		CASE_TO_STRING(OMX_ErrorTimeout);
-		CASE_TO_STRING(OMX_ErrorSameState);
-		CASE_TO_STRING(OMX_ErrorResourcesPreempted);
-		CASE_TO_STRING(OMX_ErrorPortUnresponsiveDuringAllocation);
-		CASE_TO_STRING(OMX_ErrorPortUnresponsiveDuringDeallocation);
-		CASE_TO_STRING(OMX_ErrorPortUnresponsiveDuringStop);
-		CASE_TO_STRING(OMX_ErrorIncorrectStateTransition);
-		CASE_TO_STRING(OMX_ErrorIncorrectStateOperation);
-		CASE_TO_STRING(OMX_ErrorUnsupportedSetting);
-		CASE_TO_STRING(OMX_ErrorUnsupportedIndex);
-		CASE_TO_STRING(OMX_ErrorBadPortIndex);
-		CASE_TO_STRING(OMX_ErrorPortUnpopulated);
-		CASE_TO_STRING(OMX_ErrorComponentSuspended);
-		CASE_TO_STRING(OMX_ErrorDynamicResourcesUnavailable);
-		CASE_TO_STRING(OMX_ErrorMbErrorsInFrame);
-		CASE_TO_STRING(OMX_ErrorFormatNotDetected);
-		CASE_TO_STRING(OMX_ErrorContentPipeOpenFailed);
-		CASE_TO_STRING(OMX_ErrorContentPipeCreationFailed);
-		CASE_TO_STRING(OMX_ErrorSeperateTablesUsed);
-		CASE_TO_STRING(OMX_ErrorTunnelingUnsupported);
-		CASE_TO_STRING(OMX_ErrorKhronosExtensions);
-		CASE_TO_STRING(OMX_ErrorVendorStartUnused);
-		CASE_TO_STRING(OMX_ErrorDiskFull);
-		CASE_TO_STRING(OMX_ErrorMaxFileSize);
-		CASE_TO_STRING(OMX_ErrorDrmUnauthorised);
-		CASE_TO_STRING(OMX_ErrorDrmExpired);
-		CASE_TO_STRING(OMX_ErrorDrmGeneral);
-		default: return "Unknown OMX error";
-	}
-}
-
-const char *omx_state_to_string(OMX_STATETYPE state) {
-	switch (state) {
-		CASE_TO_STRING(OMX_StateInvalid);
-		CASE_TO_STRING(OMX_StateLoaded);
-		CASE_TO_STRING(OMX_StateIdle);
-		CASE_TO_STRING(OMX_StateExecuting);
-		CASE_TO_STRING(OMX_StatePause);
-		CASE_TO_STRING(OMX_StateWaitForResources);
-		// cppcheck-suppress constArgument
-		// cppcheck-suppress knownArgument
-		default: break;
-	}
-	assert(0 && "Unsupported OMX state");
-}
-
-#undef CASE_TO_STRING
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.h	2023-12-15 01:51:35.146398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/formatters.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,42 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <assert.h>
-
-#include <IL/OMX_IVCommon.h>
-#include <IL/OMX_Core.h>
-#include <IL/OMX_Image.h>
-
-#include "../../../libs/tools.h"
-#include "../../../libs/logging.h"
-
-
-#define LOG_ERROR_OMX(_error, _msg, ...) { \
-		LOG_ERROR(_msg ": %s", ##__VA_ARGS__, omx_error_to_string(_error)); \
-	}
-
-
-const char *omx_error_to_string(OMX_ERRORTYPE error);
-const char *omx_state_to_string(OMX_STATETYPE state);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.c	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,55 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "vcos.h"
-
-
-int vcos_my_semwait(const char *prefix, VCOS_SEMAPHORE_T *sem, long double timeout) {
-	// vcos_semaphore_wait() can wait infinite
-	// vcos_semaphore_wait_timeout() is broken by design:
-	//   - https://github.com/pikvm/ustreamer/issues/56
-	//   - https://github.com/raspberrypi/userland/issues/658
-	//   - The current approach is an ugly busyloop
-	// Три стула.
-
-	long double deadline_ts = get_now_monotonic() + timeout;
-	VCOS_STATUS_T sem_status;
-
-	while (true) {
-		sem_status = vcos_semaphore_trywait(sem);
-		if (sem_status == VCOS_SUCCESS) {
-			return 0;
-		} else if (sem_status != VCOS_EAGAIN || get_now_monotonic() > deadline_ts) {
-			break;
-		}
-		if (usleep(1000) < 0) {
-			break;
-		}
-	}
-
-	switch (sem_status) {
-		case VCOS_EAGAIN: LOG_ERROR("%sCan't wait VCOS semaphore: EAGAIN (timeout)", prefix); break;
-		case VCOS_EINVAL: LOG_ERROR("%sCan't wait VCOS semaphore: EINVAL", prefix); break;
-		default: LOG_ERROR("%sCan't wait VCOS semaphore: %d", prefix, sem_status); break;
-	}
-	return -1;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.h	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/encoders/omx/vcos.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,31 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <interface/vcos/vcos_semaphore.h>
-
-#include "../../../libs/tools.h"
-#include "../../../libs/logging.h"
-
-
-int vcos_my_semwait(const char *prefix, VCOS_SEMAPHORE_T *sem, long double timeout);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.c	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,129 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "gpio.h"
-
-
-gpio_s us_gpio = {
-	.path = "/dev/gpiochip0",
-	.consumer_prefix = "ustreamer",
-
-#	define MAKE_OUTPUT(_role) { \
-		.pin = -1, \
-		.role = _role, \
-		.consumer = NULL, \
-		.line = NULL, \
-		.state = false \
-	}
-
-	.prog_running = MAKE_OUTPUT("prog-running"),
-	.stream_online = MAKE_OUTPUT("stream-online"),
-	.has_http_clients = MAKE_OUTPUT("has-http-clients"),
-
-#	undef MAKE_OUTPUT
-
-	// mutex uninitialized
-	.chip = NULL
-};
-
-
-static void _gpio_output_init(gpio_output_s *output);
-static void _gpio_output_destroy(gpio_output_s *output);
-
-
-void gpio_init(void) {
-	assert(us_gpio.chip == NULL);
-	if (
-		us_gpio.prog_running.pin >= 0
-		|| us_gpio.stream_online.pin >= 0
-		|| us_gpio.has_http_clients.pin >= 0
-	) {
-		A_MUTEX_INIT(&us_gpio.mutex);
-		LOG_INFO("GPIO: Using chip device: %s", us_gpio.path);
-		if ((us_gpio.chip = gpiod_chip_open(us_gpio.path)) != NULL) {
-			_gpio_output_init(&us_gpio.prog_running);
-			_gpio_output_init(&us_gpio.stream_online);
-			_gpio_output_init(&us_gpio.has_http_clients);
-		} else {
-			LOG_PERROR("GPIO: Can't initialize chip device %s", us_gpio.path);
-		}
-	}
-}
-
-void gpio_destroy(void) {
-	_gpio_output_destroy(&us_gpio.prog_running);
-	_gpio_output_destroy(&us_gpio.stream_online);
-	_gpio_output_destroy(&us_gpio.has_http_clients);
-	if (us_gpio.chip) {
-		gpiod_chip_close(us_gpio.chip);
-		us_gpio.chip = NULL;
-		A_MUTEX_DESTROY(&us_gpio.mutex);
-	}
-}
-
-int gpio_inner_set(gpio_output_s *output, bool state) {
-	int retval = 0;
-
-	assert(us_gpio.chip);
-	assert(output->line);
-	assert(output->state != state); // Must be checked in macro for the performance
-	A_MUTEX_LOCK(&us_gpio.mutex);
-
-	if (gpiod_line_set_value(output->line, (int)state) < 0) { \
-		LOG_PERROR("GPIO: Can't write value %d to line %s (will be disabled)", state, output->consumer); \
-		_gpio_output_destroy(output);
-		retval = -1;
-	}
-
-	A_MUTEX_UNLOCK(&us_gpio.mutex);
-	return retval;
-}
-
-static void _gpio_output_init(gpio_output_s *output) {
-	assert(us_gpio.chip);
-	assert(output->line == NULL);
-
-	A_ASPRINTF(output->consumer, "%s::%s", us_gpio.consumer_prefix, output->role);
-
-	if (output->pin >= 0) {
-		if ((output->line = gpiod_chip_get_line(us_gpio.chip, output->pin)) != NULL) {
-			if (gpiod_line_request_output(output->line, output->consumer, 0) < 0) {
-				LOG_PERROR("GPIO: Can't request pin=%d as %s", output->pin, output->consumer);
-				_gpio_output_destroy(output);
-			}
-		} else {
-			LOG_PERROR("GPIO: Can't get pin=%d as %s", output->pin, output->consumer);
-		}
-	}
-}
-
-static void _gpio_output_destroy(gpio_output_s *output) {
-	if (output->line) {
-		gpiod_line_release(output->line);
-		output->line = NULL;
-	}
-	if (output->consumer) {
-		free(output->consumer);
-		output->consumer = NULL;
-	}
-	output->state = false;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.h	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/gpio/gpio.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,87 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <assert.h>
-
-#include <pthread.h>
-#include <gpiod.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-#include "../../libs/threading.h"
-
-
-typedef struct {
-	int					pin;
-	const char			*role;
-	char 				*consumer;
-	struct gpiod_line	*line;
-	bool				state;
-} gpio_output_s;
-
-typedef struct {
-	char *path;
-	char *consumer_prefix;
-
-	gpio_output_s prog_running;
-	gpio_output_s stream_online;
-	gpio_output_s has_http_clients;
-
-	pthread_mutex_t		mutex;
-	struct gpiod_chip	*chip;
-} gpio_s;
-
-
-extern gpio_s us_gpio;
-
-
-void gpio_init(void);
-void gpio_destroy(void);
-int gpio_inner_set(gpio_output_s *output, bool state);
-
-
-#define SET_STATE(_output, _state) { \
-		if (_output.line && _output.state != _state) { \
-			if (!gpio_inner_set(&_output, _state)) { \
-				_output.state = _state; \
-			} \
-		} \
-	}
-
-INLINE void gpio_set_prog_running(bool state) {
-	SET_STATE(us_gpio.prog_running, state);
-}
-
-INLINE void gpio_set_stream_online(bool state) {
-	SET_STATE(us_gpio.stream_online, state);
-}
-
-INLINE void gpio_set_has_http_clients(bool state) {
-	SET_STATE(us_gpio.has_http_clients, state);
-}
-
-#undef SET_STATE
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.c	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,395 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "encoder.h"
-
-
-static void _h264_encoder_cleanup(h264_encoder_s *enc);
-static int _h264_encoder_compress_raw(h264_encoder_s *enc, const frame_s *src, int src_vcsm_handle, frame_s *dest, bool force_key);
-
-static void _mmal_callback(MMAL_WRAPPER_T *wrapper);
-static const char *_mmal_error_to_string(MMAL_STATUS_T error);
-
-
-#define LOG_ERROR_MMAL(_error, _msg, ...) { \
-		LOG_ERROR(_msg ": %s", ##__VA_ARGS__, _mmal_error_to_string(_error)); \
-	}
-
-
-h264_encoder_s *h264_encoder_init(unsigned bitrate, unsigned gop, unsigned fps) {
-	LOG_INFO("H264: Initializing MMAL encoder ...");
-	LOG_INFO("H264: Using bitrate: %u Kbps", bitrate);
-	LOG_INFO("H264: Using GOP: %u", gop);
-
-	h264_encoder_s *enc;
-	A_CALLOC(enc, 1);
-	enc->bitrate = bitrate; // Kbps
-	enc->gop = gop; // Interval between keyframes
-	enc->fps = fps;
-
-	enc->last_online = -1;
-
-	if (vcos_semaphore_create(&enc->handler_sem, "h264_handler_sem", 0) != VCOS_SUCCESS) {
-		LOG_PERROR("H264: Can't create VCOS semaphore");
-		goto error;
-	}
-	enc->i_handler_sem = true;
-
-	MMAL_STATUS_T error = mmal_wrapper_create(&enc->wrapper, MMAL_COMPONENT_DEFAULT_VIDEO_ENCODER);
-	if (error != MMAL_SUCCESS) {
-		LOG_ERROR_MMAL(error, "H264: Can't create MMAL wrapper");
-		enc->wrapper = NULL;
-		goto error;
-	}
-	enc->wrapper->user_data = (void *)enc;
-	enc->wrapper->callback = _mmal_callback;
-
-	return enc;
-
-	error:
-		h264_encoder_destroy(enc);
-		return NULL;
-}
-
-void h264_encoder_destroy(h264_encoder_s *enc) {
-	LOG_INFO("H264: Destroying MMAL encoder ...");
-
-	_h264_encoder_cleanup(enc);
-
-	if (enc->wrapper) {
-		MMAL_STATUS_T error = mmal_wrapper_destroy(enc->wrapper);
-		if (error != MMAL_SUCCESS) {
-			LOG_ERROR_MMAL(error, "H264: Can't destroy MMAL encoder");
-		}
-	}
-
-	if (enc->i_handler_sem) {
-		vcos_semaphore_delete(&enc->handler_sem);
-	}
-
-	free(enc);
-}
-
-bool h264_encoder_is_prepared_for(h264_encoder_s *enc, const frame_s *frame, bool zero_copy) {
-#	define EQ(_field) (enc->_field == frame->_field)
-	return (EQ(width) && EQ(height) && EQ(format) && EQ(stride) && (enc->zero_copy == zero_copy));
-#	undef EQ
-}
-
-int h264_encoder_prepare(h264_encoder_s *enc, const frame_s *frame, bool zero_copy) {
-	LOG_INFO("H264: Configuring MMAL encoder: zero_copy=%d ...", zero_copy);
-
-	_h264_encoder_cleanup(enc);
-
-	enc->width = frame->width;
-	enc->height = frame->height;
-	enc->format = frame->format;
-	enc->stride = frame->stride;
-	enc->zero_copy = zero_copy;
-
-	if (align_size(frame->width, 32) != frame->width && frame_get_padding(frame) == 0) {
-		LOG_ERROR("H264: MMAL encoder can't handle unaligned width");
-		goto error;
-	}
-
-	MMAL_STATUS_T error;
-
-#	define PREPARE_PORT(_id) { \
-			enc->_id##_port = enc->wrapper->_id[0]; \
-			if (enc->_id##_port->is_enabled) { \
-				if ((error = mmal_wrapper_port_disable(enc->_id##_port)) != MMAL_SUCCESS) { \
-					LOG_ERROR_MMAL(error, "H264: Can't disable MMAL %s port while configuring", #_id); \
-					goto error; \
-				} \
-			} \
-		}
-
-#	define COMMIT_PORT(_id) { \
-			if ((error = mmal_port_format_commit(enc->_id##_port)) != MMAL_SUCCESS) { \
-				LOG_ERROR_MMAL(error, "H264: Can't commit MMAL %s port", #_id); \
-				goto error; \
-			} \
-		}
-
-#	define SET_PORT_PARAM(_id, _type, _key, _value) { \
-			if ((error = mmal_port_parameter_set_##_type(enc->_id##_port, MMAL_PARAMETER_##_key, _value)) != MMAL_SUCCESS) { \
-				LOG_ERROR_MMAL(error, "H264: Can't set %s for the %s port", #_key, #_id); \
-				goto error; \
-			} \
-		}
-
-#	define ENABLE_PORT(_id) { \
-			if ((error = mmal_wrapper_port_enable(enc->_id##_port, MMAL_WRAPPER_FLAG_PAYLOAD_ALLOCATE)) != MMAL_SUCCESS) { \
-				LOG_ERROR_MMAL(error, "H264: Can't enable MMAL %s port", #_id); \
-				goto error; \
-			} \
-		}
-
-	{
-		PREPARE_PORT(input);
-
-#		define IFMT(_next) enc->input_port->format->_next
-		IFMT(type) = MMAL_ES_TYPE_VIDEO;
-		switch (frame->format) {
-			case V4L2_PIX_FMT_YUYV:		IFMT(encoding) = MMAL_ENCODING_YUYV; break;
-			case V4L2_PIX_FMT_UYVY:		IFMT(encoding) = MMAL_ENCODING_UYVY; break;
-			case V4L2_PIX_FMT_RGB565:	IFMT(encoding) = MMAL_ENCODING_RGB16; break;
-			case V4L2_PIX_FMT_RGB24:	IFMT(encoding) = MMAL_ENCODING_RGB24; break;
-			default: assert(0 && "Unsupported pixelformat");
-		}
-		IFMT(es->video.width) = align_size(frame->width, 32);
-		IFMT(es->video.height) = align_size(frame->height, 16);
-		IFMT(es->video.crop.x) = 0;
-		IFMT(es->video.crop.y) = 0;
-		IFMT(es->video.crop.width) = frame->width;
-		IFMT(es->video.crop.height) = frame->height;
-		IFMT(flags) = MMAL_ES_FORMAT_FLAG_FRAMED;
-		enc->input_port->buffer_size = 1000 * 1000;
-		enc->input_port->buffer_num = enc->input_port->buffer_num_recommended * 4;
-#		undef IFMT
-
-		COMMIT_PORT(input);
-		SET_PORT_PARAM(input, boolean, ZERO_COPY, zero_copy);
-	}
-
-	{
-		PREPARE_PORT(output);
-
-#		define OFMT(_next) enc->output_port->format->_next
-		OFMT(type) = MMAL_ES_TYPE_VIDEO;
-		OFMT(encoding) = MMAL_ENCODING_H264;
-		OFMT(encoding_variant) = MMAL_ENCODING_VARIANT_H264_DEFAULT;
-		OFMT(bitrate) = enc->bitrate * 1000;
-		OFMT(es->video.frame_rate.num) = enc->fps;
-		OFMT(es->video.frame_rate.den) = 1;
-		enc->output_port->buffer_size = enc->output_port->buffer_size_recommended * 4;
-		enc->output_port->buffer_num = enc->output_port->buffer_num_recommended;
-#		undef OFMT
-
-		COMMIT_PORT(output);
-		{
-			MMAL_PARAMETER_VIDEO_PROFILE_T profile;
-			MEMSET_ZERO(profile);
-			profile.hdr.id = MMAL_PARAMETER_PROFILE;
-			profile.hdr.size = sizeof(profile);
-			// http://blog.mediacoderhq.com/h264-profiles-and-levels
-			profile.profile[0].profile = MMAL_VIDEO_PROFILE_H264_CONSTRAINED_BASELINE;
-			profile.profile[0].level = MMAL_VIDEO_LEVEL_H264_4; // Supports 1080p
-			if ((error = mmal_port_parameter_set(enc->output_port, &profile.hdr)) != MMAL_SUCCESS) {
-				LOG_ERROR_MMAL(error, "H264: Can't set MMAL_PARAMETER_PROFILE for the output port");
-				goto error;
-			}
-		}
-
-		SET_PORT_PARAM(output, boolean,	ZERO_COPY,					MMAL_TRUE);
-		SET_PORT_PARAM(output, uint32,	INTRAPERIOD,				enc->gop);
-		SET_PORT_PARAM(output, uint32,	NALUNITFORMAT,				MMAL_VIDEO_NALUNITFORMAT_STARTCODES);
-		SET_PORT_PARAM(output, boolean,	MINIMISE_FRAGMENTATION,		MMAL_TRUE);
-		SET_PORT_PARAM(output, uint32,	MB_ROWS_PER_SLICE,			0);
-		SET_PORT_PARAM(output, boolean,	VIDEO_IMMUTABLE_INPUT,		MMAL_TRUE);
-		SET_PORT_PARAM(output, boolean,	VIDEO_DROPPABLE_PFRAMES,	MMAL_FALSE);
-		SET_PORT_PARAM(output, boolean,	VIDEO_ENCODE_INLINE_HEADER,	MMAL_TRUE); // SPS/PPS: https://github.com/raspberrypi/userland/issues/443
-		SET_PORT_PARAM(output, uint32,	VIDEO_BIT_RATE,				enc->bitrate * 1000);
-		SET_PORT_PARAM(output, uint32,	VIDEO_ENCODE_PEAK_RATE,		enc->bitrate * 1000);
-		SET_PORT_PARAM(output, uint32,	VIDEO_ENCODE_MIN_QUANT,				16);
-		SET_PORT_PARAM(output, uint32,	VIDEO_ENCODE_MAX_QUANT,				34);
-		// Этот параметр с этим значением фризит кодирование изображения из черно-белой консоли
-		// SET_PORT_PARAM(output, uint32,	VIDEO_ENCODE_FRAME_LIMIT_BITS,		1000000);
-		SET_PORT_PARAM(output, uint32,	VIDEO_ENCODE_H264_AU_DELIMITERS,	MMAL_FALSE);
-	}
-
-	ENABLE_PORT(input);
-	ENABLE_PORT(output);
-
-	enc->ready = true;
-	return 0;
-
-	error:
-		_h264_encoder_cleanup(enc);
-		LOG_ERROR("H264: Encoder destroyed due an error (prepare)");
-		return -1;
-
-#	undef ENABLE_PORT
-#	undef SET_PORT_PARAM
-#	undef COMMIT_PORT
-#	undef PREPARE_PORT
-}
-
-static void _h264_encoder_cleanup(h264_encoder_s *enc) {
-	MMAL_STATUS_T error;
-
-#	define DISABLE_PORT(_id) { \
-			if (enc->_id##_port) { \
-				if ((error = mmal_wrapper_port_disable(enc->_id##_port)) != MMAL_SUCCESS) { \
-					LOG_ERROR_MMAL(error, "H264: Can't disable MMAL %s port", #_id); \
-				} \
-				enc->_id##_port = NULL; \
-			} \
-		}
-
-	DISABLE_PORT(input);
-	DISABLE_PORT(output);
-
-#	undef DISABLE_PORT
-
-	if (enc->wrapper) {
-		enc->wrapper->status = MMAL_SUCCESS; // Это реально надо?
-	}
-
-	enc->last_online = -1;
-	enc->ready = false;
-}
-
-int h264_encoder_compress(h264_encoder_s *enc, const frame_s *src, int src_vcsm_handle, frame_s *dest, bool force_key) {
-	assert(enc->ready);
-	assert(src->used > 0);
-	assert(enc->width == src->width);
-	assert(enc->height == src->height);
-	assert(enc->format == src->format);
-	assert(enc->stride == src->stride);
-
-	frame_copy_meta(src, dest);
-	dest->encode_begin_ts = get_now_monotonic();
-	dest->format = V4L2_PIX_FMT_H264;
-	dest->stride = 0;
-
-	force_key = (force_key || enc->last_online != src->online);
-
-	if (_h264_encoder_compress_raw(enc, src, src_vcsm_handle, dest, force_key) < 0) {
-		_h264_encoder_cleanup(enc);
-		LOG_ERROR("H264: Encoder destroyed due an error (compress)");
-		return -1;
-	}
-
-	dest->encode_end_ts = get_now_monotonic();
-	LOG_VERBOSE("H264: Compressed new frame: size=%zu, time=%0.3Lf, force_key=%d",
-		dest->used, dest->encode_end_ts - dest->encode_begin_ts, force_key);
-
-	enc->last_online = src->online;
-	return 0;
-}
-
-static int _h264_encoder_compress_raw(h264_encoder_s *enc, const frame_s *src, int src_vcsm_handle, frame_s *dest, bool force_key) {
-	LOG_DEBUG("H264: Compressing new frame; force_key=%d ...", force_key);
-
-	MMAL_STATUS_T error;
-
-	if (force_key) {
-		if ((error = mmal_port_parameter_set_boolean(
-			enc->output_port,
-			MMAL_PARAMETER_VIDEO_REQUEST_I_FRAME,
-			MMAL_TRUE
-		)) != MMAL_SUCCESS) {
-			LOG_ERROR_MMAL(error, "H264: Can't request keyframe");
-			return -1;
-		}
-	}
-
-	MMAL_BUFFER_HEADER_T *out = NULL;
-	MMAL_BUFFER_HEADER_T *in = NULL;
-	bool eos = false;
-	bool sent = false;
-
-	dest->used = 0;
-
-	while (!eos) {
-		out = NULL;
-		while (mmal_wrapper_buffer_get_empty(enc->output_port, &out, 0) == MMAL_SUCCESS) {
-			if ((error = mmal_port_send_buffer(enc->output_port, out)) != MMAL_SUCCESS) {
-				LOG_ERROR_MMAL(error, "H264: Can't send MMAL output buffer");
-				return -1;
-			}
-		}
-
-		in = NULL;
-		if (!sent && mmal_wrapper_buffer_get_empty(enc->input_port, &in, 0) == MMAL_SUCCESS) {
-			if (enc->zero_copy && src_vcsm_handle > 0) {
-				in->data = (uint8_t *)vcsm_vc_hdl_from_hdl(src_vcsm_handle);
-			} else {
-				in->data = src->data;
-			}
-			in->alloc_size = src->used;
-			in->length = src->used;
-			in->offset = 0;
-			in->flags = MMAL_BUFFER_HEADER_FLAG_EOS;
-			if ((error = mmal_port_send_buffer(enc->input_port, in)) != MMAL_SUCCESS) {
-				LOG_ERROR_MMAL(error, "H264: Can't send MMAL input buffer");
-				return -1;
-			}
-			sent = true;
-		}
-
-		error = mmal_wrapper_buffer_get_full(enc->output_port, &out, 0);
-		if (error == MMAL_EAGAIN) {
-			if (vcos_my_semwait("H264: ", &enc->handler_sem, 1) < 0) {
-				return -1;
-			}
-			continue;
-		} else if (error != MMAL_SUCCESS) {
-			LOG_ERROR_MMAL(error, "H264: Can't get MMAL output buffer");
-			return -1;
-		}
-
-		frame_append_data(dest, out->data, out->length);
-		dest->key = out->flags & MMAL_BUFFER_HEADER_FLAG_KEYFRAME;
-
-		eos = out->flags & MMAL_BUFFER_HEADER_FLAG_EOS;
-		mmal_buffer_header_release(out);
-	}
-
-	if ((error = mmal_port_flush(enc->output_port)) != MMAL_SUCCESS) {
-		LOG_ERROR_MMAL(error, "H264: Can't flush MMAL output buffer; ignored");
-	}
-	return 0;
-}
-
-static void _mmal_callback(MMAL_WRAPPER_T *wrapper) {
-	vcos_semaphore_post(&((h264_encoder_s *)(wrapper->user_data))->handler_sem);
-}
-
-static const char *_mmal_error_to_string(MMAL_STATUS_T error) {
-	// http://www.jvcref.com/files/PI/documentation/html/group___mmal_types.html
-#	define CASE_ERROR(_name, _msg) case MMAL_##_name: return "MMAL_" #_name " [" _msg "]"
-	switch (error) {
-		case MMAL_SUCCESS: return "MMAL_SUCCESS";
-		CASE_ERROR(ENOMEM,		"Out of memory");
-		CASE_ERROR(ENOSPC,		"Out of resources");
-		CASE_ERROR(EINVAL,		"Invalid argument");
-		CASE_ERROR(ENOSYS,		"Function not implemented");
-		CASE_ERROR(ENOENT,		"No such file or directory");
-		CASE_ERROR(ENXIO,		"No such device or address");
-		CASE_ERROR(EIO,			"IO error");
-		CASE_ERROR(ESPIPE,		"Illegal seek");
-		CASE_ERROR(ECORRUPT,	"Data is corrupt");
-		CASE_ERROR(ENOTREADY,	"Component is not ready");
-		CASE_ERROR(ECONFIG,		"Component is not configured");
-		CASE_ERROR(EISCONN,		"Port is already connected");
-		CASE_ERROR(ENOTCONN,	"Port is disconnected");
-		CASE_ERROR(EAGAIN,		"Resource temporarily unavailable");
-		CASE_ERROR(EFAULT,		"Bad address");
-		case MMAL_STATUS_MAX: break; // Makes cpplint happy
-	}
-	return "Unknown error";
-#	undef CASE_ERROR
-}
-
-#undef LOG_ERROR_MMAL
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.h	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/encoder.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,71 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <assert.h>
-
-#include <linux/videodev2.h>
-
-#include <interface/mmal/mmal.h>
-#include <interface/mmal/mmal_format.h>
-#include <interface/mmal/util/mmal_default_components.h>
-#include <interface/mmal/util/mmal_component_wrapper.h>
-#include <interface/mmal/util/mmal_util_params.h>
-#include <interface/vcsm/user-vcsm.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-#include "../../libs/frame.h"
-#include "../encoders/omx/vcos.h"
-
-
-typedef struct {
-	unsigned bitrate; // Kbit-per-sec
-	unsigned gop; // Interval between keyframes
-	unsigned fps;
-
-	MMAL_WRAPPER_T		*wrapper;
-	MMAL_PORT_T			*input_port;
-	MMAL_PORT_T			*output_port;
-	VCOS_SEMAPHORE_T	handler_sem;
-	bool				i_handler_sem;
-
-	int last_online;
-
-	unsigned	width;
-	unsigned	height;
-	unsigned	format;
-	unsigned	stride;
-	bool		zero_copy;
-	bool		ready;
-} h264_encoder_s;
-
-
-h264_encoder_s *h264_encoder_init(unsigned bitrate, unsigned gop, unsigned fps);
-void h264_encoder_destroy(h264_encoder_s *enc);
-
-bool h264_encoder_is_prepared_for(h264_encoder_s *enc, const frame_s *frame, bool zero_copy);
-int h264_encoder_prepare(h264_encoder_s *enc, const frame_s *frame, bool zero_copy);
-int h264_encoder_compress(h264_encoder_s *enc, const frame_s *src, int src_vcsm_handle, frame_s *dest, bool force_key);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.c	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,96 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "stream.h"
-
-
-h264_stream_s *h264_stream_init(memsink_s *sink, unsigned bitrate, unsigned gop) {
-	h264_stream_s *h264;
-	A_CALLOC(h264, 1);
-	h264->sink = sink;
-	h264->tmp_src = frame_init();
-	h264->dest = frame_init();
-	atomic_init(&h264->online, false);
-
-	// FIXME: 30 or 0? https://github.com/6by9/yavta/blob/master/yavta.c#L2100
-	// По логике вещей правильно 0, но почему-то на низких разрешениях типа 640x480
-	// енкодер через несколько секунд перестает производить корректные фреймы.
-	if ((h264->enc = h264_encoder_init(bitrate, gop, 30)) == NULL) {
-		goto error;
-	}
-
-	return h264;
-
-	error:
-		h264_stream_destroy(h264);
-		return NULL;
-}
-
-void h264_stream_destroy(h264_stream_s *h264) {
-	if (h264->enc) {
-		h264_encoder_destroy(h264->enc);
-	}
-	frame_destroy(h264->dest);
-	frame_destroy(h264->tmp_src);
-	free(h264);
-}
-
-void h264_stream_process(h264_stream_s *h264, const frame_s *frame, int vcsm_handle, bool force_key) {
-	if (!memsink_server_check(h264->sink, frame)) {
-		return;
-	}
-
-	long double now = get_now_monotonic();
-	bool zero_copy = false;
-
-	if (is_jpeg(frame->format)) {
-		assert(vcsm_handle <= 0);
-		LOG_DEBUG("H264: Input frame is JPEG; decoding ...");
-		if (unjpeg(frame, h264->tmp_src, true) < 0) {
-			return;
-		}
-		frame = h264->tmp_src;
-		LOG_VERBOSE("H264: JPEG decoded; time=%.3Lf", get_now_monotonic() - now);
-	} else if (vcsm_handle > 0) {
-		LOG_DEBUG("H264: Zero-copy available for the input");
-		zero_copy = true;
-	} else {
-		LOG_DEBUG("H264: Copying source to tmp buffer ...");
-		frame_copy(frame, h264->tmp_src);
-		frame = h264->tmp_src;
-		LOG_VERBOSE("H264: Source copied; time=%.3Lf", get_now_monotonic() - now);
-	}
-
-	bool online = false;
-
-	if (!h264_encoder_is_prepared_for(h264->enc, frame, zero_copy)) {
-		h264_encoder_prepare(h264->enc, frame, zero_copy);
-	}
-
-	if (h264->enc->ready) {
-		if (h264_encoder_compress(h264->enc, frame, vcsm_handle, h264->dest, force_key) == 0) {
-			online = !memsink_server_put(h264->sink, h264->dest);
-		}
-	}
-
-	atomic_store(&h264->online, online);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.h	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/h264/stream.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,49 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdbool.h>
-#include <stdatomic.h>
-#include <assert.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-#include "../../libs/frame.h"
-#include "../../libs/memsink.h"
-#include "../../libs/unjpeg.h"
-
-#include "encoder.h"
-
-
-typedef struct {
-	memsink_s		*sink;
-	frame_s			*tmp_src;
-	frame_s			*dest;
-	h264_encoder_s	*enc;
-	atomic_bool		online;
-} h264_stream_s;
-
-
-h264_stream_s *h264_stream_init(memsink_s *sink, unsigned bitrate, unsigned gop);
-void h264_stream_destroy(h264_stream_s *h264);
-void h264_stream_process(h264_stream_s *h264, const frame_s *frame, int vcsm_handle, bool force_key);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/bev.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/bev.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/bev.c	2023-12-15 01:51:35.150398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/bev.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,58 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "bev.h"
-
-
-char *bufferevent_my_format_reason(short what) {
-	char *reason;
-	A_CALLOC(reason, 2048);
-
-	char perror_buf[1024] = {0};
-	char *perror_ptr = errno_to_string(EVUTIL_SOCKET_ERROR(), perror_buf, 1024); // evutil_socket_error_to_string() is not thread-safe
-	bool first = true;
-
-	strcat(reason, perror_ptr);
-	strcat(reason, " (");
-
-#	define FILL_REASON(_bev, _name) { \
-			if (what & _bev) { \
-				if (first) { \
-					first = false; \
-				} else { \
-					strcat(reason, ","); \
-				} \
-				strcat(reason, _name); \
-			} \
-		}
-
-	FILL_REASON(BEV_EVENT_READING, "reading");
-	FILL_REASON(BEV_EVENT_WRITING, "writing");
-	FILL_REASON(BEV_EVENT_ERROR, "error");
-	FILL_REASON(BEV_EVENT_TIMEOUT, "timeout");
-	FILL_REASON(BEV_EVENT_EOF, "eof"); // cppcheck-suppress unreadVariable
-
-#	undef FILL_REASON
-
-	strcat(reason, ")");
-	return reason;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/bev.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/bev.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/bev.h	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/bev.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,35 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <string.h>
-#include <errno.h>
-
-#include <event2/util.h>
-#include <event2/bufferevent.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-
-
-char *bufferevent_my_format_reason(short what);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/mime.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/mime.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/mime.c	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/mime.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,65 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "mime.h"
-
-
-static const struct {
-	const char *ext;
-	const char *mime;
-} _MIME_TYPES[] = {
-	{"html",	"text/html"},
-	{"htm",		"text/html"},
-	{"css",		"text/css"},
-	{"js",		"text/javascript"},
-	{"txt",		"text/plain"},
-	{"jpg",		"image/jpeg"},
-	{"jpeg",	"image/jpeg"},
-	{"png",		"image/png"},
-	{"gif",		"image/gif"},
-	{"ico",		"image/x-icon"},
-	{"bmp",		"image/bmp"},
-	{"svg",		"image/svg+xml"},
-	{"swf",		"application/x-shockwave-flash"},
-	{"cab",		"application/x-shockwave-flash"},
-	{"jar",		"application/java-archive"},
-	{"json",	"application/json"},
-};
-
-
-const char *guess_mime_type(const char *path) {
-	// FIXME: false-positive cppcheck
-	char *dot = strrchr(path, '.'); // cppcheck-suppress ctunullpointer
-	if (dot == NULL || strchr(dot, '/') != NULL) {
-		goto misc;
-	}
-
-	char *ext = dot + 1;
-	for (unsigned index = 0; index < ARRAY_LEN(_MIME_TYPES); ++index) {
-		if (!evutil_ascii_strcasecmp(ext, _MIME_TYPES[index].ext)) {
-			return _MIME_TYPES[index].mime;
-		}
-	}
-
-	misc:
-		return "application/misc";
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/mime.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/mime.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/mime.h	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/mime.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,32 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <string.h>
-
-#include <event2/util.h>
-
-#include "../../libs/tools.h"
-
-
-const char *guess_mime_type(const char *str);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/path.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/path.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/path.c	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/path.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,176 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "path.h"
-
-
-char *simplify_request_path(const char *str) {
-	// Based on Lighttpd sources:
-	//   - https://github.com/lighttpd/lighttpd1.4/blob/b31e7840d5403bc640579135b7004793b9ccd6c0/src/buffer.c#L840
-	//   - https://github.com/lighttpd/lighttpd1.4/blob/77c01f981725512653c01cde5ca74c11633dfec4/src/t/test_buffer.c
-
-	char ch; // Current character
-	char pre1; // The one before
-	char pre2; // The one before that
-	char *simplified;
-	char *start;
-	char *out;
-	char *slash;
-
-	A_CALLOC(simplified, strlen(str) + 1);
-
-	if (str[0] == '\0') {
-		simplified[0] = '\0';
-		return simplified;
-	}
-
-	start = simplified;
-	out = simplified;
-	slash = simplified;
-
-	// Skip leading spaces
-	for (; *str == ' '; ++str);
-
-	if (*str == '.') {
-		if (str[1] == '/' || str[1] == '\0') {
-			++str;
-		} else if (str[1] == '.' && (str[2] == '/' || str[2] == '\0')) {
-			str += 2;
-		}
-	}
-
-	pre1 = '\0';
-	ch = *(str++);
-
-	while (ch != '\0') {
-		pre2 = pre1;
-		pre1 = ch;
-
-		// Possibly: out == str - need to read first
-		ch = *str;
-		*out = pre1;
-
-		out++;
-		str++;
-		// (out <= str) still true; also now (slash < out)
-
-		if (ch == '/' || ch == '\0') {
-			size_t toklen = out - slash;
-
-			if (toklen == 3 && pre2 == '.' && pre1 == '.' && *slash == '/') {
-				// "/../" or ("/.." at end of string)
-				out = slash;
-				// If there is something before "/..", there is at least one
-				// component, which needs to be removed
-				if (out > start) {
-					--out;
-					for (; out > start && *out != '/'; --out);
-				}
-
-				// Don't kill trailing '/' at end of path
-				if (ch == '\0') {
-					++out;
-				}
-				// slash < out before, so out_new <= slash + 1 <= out_before <= str
-			} else if (toklen == 1 || (pre2 == '/' && pre1 == '.')) {
-				// "//" or "/./" or (("/" or "/.") at end of string)
-				out = slash;
-				// Don't kill trailing '/' at end of path
-				if (ch == '\0') {
-					++out;
-				}
-				// Slash < out before, so out_new <= slash + 1 <= out_before <= str
-			}
-
-			slash = out;
-		}
-	}
-
-	*out = '\0';
-	return simplified;
-}
-
-#ifdef TEST_HTTP_PATH
-
-int test_simplify_request_path(const char *sample, const char *expected) {
-	char *result = simplify_request_path(sample);
-	int retval = -!!strcmp(result, expected);
-
-	printf("Testing '%s' -> '%s' ... ", sample, expected);
-	if (retval == 0) {
-		printf("ok\n");
-	} else {
-		printf("FAILED; got '%s'\n", result);
-	}
-	free(result);
-	return retval;
-}
-
-int main(void) {
-	int retval = 0;
-
-#	define TEST_SIMPLIFY_REQUEST_PATH(_sample, _expected) { \
-			retval += test_simplify_request_path(_sample, _expected); \
-		}
-
-	TEST_SIMPLIFY_REQUEST_PATH("", "");
-	TEST_SIMPLIFY_REQUEST_PATH("   ", "");
-	TEST_SIMPLIFY_REQUEST_PATH("/", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("//", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("abc", "abc");
-	TEST_SIMPLIFY_REQUEST_PATH("abc//", "abc/");
-	TEST_SIMPLIFY_REQUEST_PATH("abc/./xyz", "abc/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("abc/.//xyz", "abc/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("abc/../xyz", "/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("/abc/./xyz", "/abc/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("/abc//./xyz", "/abc/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("/abc/../xyz", "/xyz");
-	TEST_SIMPLIFY_REQUEST_PATH("abc/../xyz/.", "/xyz/");
-	TEST_SIMPLIFY_REQUEST_PATH("/abc/../xyz/.", "/xyz/");
-	TEST_SIMPLIFY_REQUEST_PATH("abc/./xyz/..", "abc/");
-	TEST_SIMPLIFY_REQUEST_PATH("/abc/./xyz/..", "/abc/");
-	TEST_SIMPLIFY_REQUEST_PATH(".", "");
-	TEST_SIMPLIFY_REQUEST_PATH("..", "");
-	TEST_SIMPLIFY_REQUEST_PATH("...", "...");
-	TEST_SIMPLIFY_REQUEST_PATH("....", "....");
-	TEST_SIMPLIFY_REQUEST_PATH(".../", ".../");
-	TEST_SIMPLIFY_REQUEST_PATH("./xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH(".//xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("/./xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH(".././xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("/.././xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("/.././xyz/..", "/");
-	TEST_SIMPLIFY_REQUEST_PATH("../../../etc/passwd", "/etc/passwd");
-	TEST_SIMPLIFY_REQUEST_PATH("/../../../etc/passwd", "/etc/passwd");
-	TEST_SIMPLIFY_REQUEST_PATH("   ../../../etc/passwd", "/etc/passwd");
-	TEST_SIMPLIFY_REQUEST_PATH("   /../../../etc/passwd", "/etc/passwd");
-	TEST_SIMPLIFY_REQUEST_PATH("   /foo/bar/../../../etc/passwd", "/etc/passwd");
-
-#	undef TEST_SIMPLIFY_REQUEST_PATH
-
-	if (retval < 0) {
-		printf("===== TEST FAILED =====\n");
-	}
-	return retval;
-}
-
-#endif
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/path.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/path.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/path.h	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/path.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,34 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#ifdef TEST_HTTP_PATH
-#	include <stdio.h>
-#	include <stdlib.h>
-#endif
-#include <string.h>
-
-#include "../../libs/tools.h"
-
-
-char *simplify_request_path(const char *str);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/server.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/server.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/server.c	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/server.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,929 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "server.h"
-
-
-static int _http_preprocess_request(struct evhttp_request *request, server_s *server);
-
-static int _http_check_run_compat_action(struct evhttp_request *request, void *v_server);
-
-static void _http_callback_root(struct evhttp_request *request, void *v_server);
-static void _http_callback_static(struct evhttp_request *request, void *v_server);
-static void _http_callback_state(struct evhttp_request *request, void *v_server);
-static void _http_callback_snapshot(struct evhttp_request *request, void *v_server);
-
-static void _http_callback_stream(struct evhttp_request *request, void *v_server);
-static void _http_callback_stream_write(struct bufferevent *buf_event, void *v_ctx);
-static void _http_callback_stream_error(struct bufferevent *buf_event, short what, void *v_ctx);
-
-static void _http_request_watcher(int fd, short event, void *v_server);
-static void _http_refresher(int fd, short event, void *v_server);
-static void _http_queue_send_stream(server_s *server, bool stream_updated, bool frame_updated);
-
-static bool _expose_new_frame(server_s *server);
-
-static char *_http_get_client_hostport(struct evhttp_request *request);
-
-
-#define RUN(_next)		server->run->_next
-#define STREAM(_next)	RUN(stream->_next)
-#define VID(_next)		STREAM(run->video->_next)
-#define EX(_next)		RUN(exposed->_next)
-
-
-server_s *server_init(stream_s *stream) {
-	exposed_s *exposed;
-	A_CALLOC(exposed, 1);
-	exposed->frame = frame_init();
-
-	server_runtime_s *run;
-	A_CALLOC(run, 1);
-	run->stream = stream;
-	run->exposed = exposed;
-
-	server_s *server;
-	A_CALLOC(server, 1);
-	server->host = "127.0.0.1";
-	server->port = 8080;
-	server->unix_path = "";
-	server->user = "";
-	server->passwd = "";
-	server->static_path = "";
-	server->allow_origin = "";
-	server->timeout = 10;
-	server->run = run;
-
-	assert(!evthread_use_pthreads());
-	assert((run->base = event_base_new()));
-	assert((run->http = evhttp_new(run->base)));
-	evhttp_set_allowed_methods(run->http, EVHTTP_REQ_GET|EVHTTP_REQ_HEAD);
-	return server;
-}
-
-void server_destroy(server_s *server) {
-	if (RUN(refresher)) {
-		event_del(RUN(refresher));
-		event_free(RUN(refresher));
-	}
-
-	if (RUN(request_watcher)) {
-		event_del(RUN(request_watcher));
-		event_free(RUN(request_watcher));
-	}
-
-	evhttp_free(RUN(http));
-	if (RUN(ext_fd)) {
-		close(RUN(ext_fd));
-	}
-	event_base_free(RUN(base));
-
-#	if LIBEVENT_VERSION_NUMBER >= 0x02010100
-	libevent_global_shutdown();
-#	endif
-
-	LIST_ITERATE(RUN(stream_clients), client, {
-		free(client->key);
-		free(client->hostport);
-		free(client);
-	});
-
-	if (RUN(auth_token)) {
-		free(RUN(auth_token));
-	}
-
-	frame_destroy(EX(frame));
-	free(RUN(exposed));
-	free(server->run);
-	free(server);
-}
-
-int server_listen(server_s *server) {
-	{
-		if (server->static_path[0] != '\0') {
-			LOG_INFO("Enabling HTTP file server: %s", server->static_path);
-			evhttp_set_gencb(RUN(http), _http_callback_static, (void *)server);
-		} else {
-			assert(!evhttp_set_cb(RUN(http), "/", _http_callback_root, (void *)server));
-		}
-		assert(!evhttp_set_cb(RUN(http), "/state", _http_callback_state, (void *)server));
-		assert(!evhttp_set_cb(RUN(http), "/snapshot", _http_callback_snapshot, (void *)server));
-		assert(!evhttp_set_cb(RUN(http), "/stream", _http_callback_stream, (void *)server));
-	}
-
-	frame_copy(STREAM(blank), EX(frame));
-	EX(notify_last_width) = EX(frame->width);
-	EX(notify_last_height) = EX(frame->height);
-
-	if (server->exit_on_no_clients > 0) {
-		RUN(last_request_ts) = get_now_monotonic();
-		struct timeval interval = {0};
-		interval.tv_usec = 100000;
-		assert((RUN(request_watcher) = event_new(RUN(base), -1, EV_PERSIST, _http_request_watcher, server)));
-		assert(!event_add(RUN(request_watcher), &interval));
-	}
-
-	{
-		struct timeval interval = {0};
-		if (STREAM(dev->desired_fps) > 0) {
-			interval.tv_usec = 1000000 / (STREAM(dev->desired_fps) * 2);
-		} else {
-			interval.tv_usec = 16000; // ~60fps
-		}
-		assert((RUN(refresher) = event_new(RUN(base), -1, EV_PERSIST, _http_refresher, server)));
-		assert(!event_add(RUN(refresher), &interval));
-	}
-
-	evhttp_set_timeout(RUN(http), server->timeout);
-
-	if (server->user[0] != '\0') {
-		char *encoded_token = NULL;
-
-		char *raw_token;
-		A_ASPRINTF(raw_token, "%s:%s", server->user, server->passwd);
-		base64_encode((uint8_t *)raw_token, strlen(raw_token), &encoded_token, NULL);
-		free(raw_token);
-
-		A_ASPRINTF(RUN(auth_token), "Basic %s", encoded_token);
-		free(encoded_token);
-
-		LOG_INFO("Using HTTP basic auth");
-	}
-
-	if (server->unix_path[0] != '\0') {
-		LOG_DEBUG("Binding HTTP to UNIX socket '%s' ...", server->unix_path);
-		if ((RUN(ext_fd) = evhttp_my_bind_unix(
-			RUN(http),
-			server->unix_path,
-			server->unix_rm,
-			server->unix_mode)) < 0
-		) {
-			return -1;
-		}
-		LOG_INFO("Listening HTTP on UNIX socket '%s'", server->unix_path);
-
-#	ifdef WITH_SYSTEMD
-	} else if (server->systemd) {
-		LOG_DEBUG("Binding HTTP to systemd socket ...");
-		if ((RUN(ext_fd) = evhttp_my_bind_systemd(RUN(http))) < 0) {
-			return -1;
-		}
-		LOG_INFO("Listening systemd socket ...");
-#	endif
-
-	} else {
-		LOG_DEBUG("Binding HTTP to [%s]:%u ...", server->host, server->port);
-		if (evhttp_bind_socket(RUN(http), server->host, server->port) < 0) {
-			LOG_PERROR("Can't bind HTTP on [%s]:%u", server->host, server->port)
-			return -1;
-		}
-		LOG_INFO("Listening HTTP on [%s]:%u", server->host, server->port);
-	}
-
-	return 0;
-}
-
-void server_loop(server_s *server) {
-	LOG_INFO("Starting HTTP eventloop ...");
-	event_base_dispatch(RUN(base));
-	LOG_INFO("HTTP eventloop stopped");
-}
-
-void server_loop_break(server_s *server) {
-	event_base_loopbreak(RUN(base));
-}
-
-#define ADD_HEADER(_key, _value) \
-	assert(!evhttp_add_header(evhttp_request_get_output_headers(request), _key, _value))
-
-static int _http_preprocess_request(struct evhttp_request *request, server_s *server) {
-	RUN(last_request_ts) = get_now_monotonic();
-
-	if (RUN(auth_token)) {
-		const char *token = evhttp_find_header(evhttp_request_get_input_headers(request), "Authorization");
-
-		if (token == NULL || strcmp(token, RUN(auth_token)) != 0) {
-			ADD_HEADER("WWW-Authenticate", "Basic realm=\"Restricted area\"");
-			evhttp_send_reply(request, 401, "Unauthorized", NULL);
-			return -1;
-		}
-	}
-
-	if (evhttp_request_get_command(request) == EVHTTP_REQ_HEAD) { \
-		evhttp_send_reply(request, HTTP_OK, "OK", NULL); \
-		return -1;
-	}
-
-	return 0;
-}
-
-#define PREPROCESS_REQUEST { \
-		if (_http_preprocess_request(request, server) < 0) { \
-			return; \
-		} \
-	}
-
-static int _http_check_run_compat_action(struct evhttp_request *request, void *v_server) {
-	// MJPG-Streamer compatibility layer
-
-	struct evkeyvalq params;
-	int error = 0;
-
-	evhttp_parse_query(evhttp_request_get_uri(request), &params);
-	const char *action = evhttp_find_header(&params, "action");
-
-	if (action && !strcmp(action, "snapshot")) {
-		_http_callback_snapshot(request, v_server);
-		goto ok;
-	} else if (action && !strcmp(action, "stream")) {
-		_http_callback_stream(request, v_server);
-		goto ok;
-	}
-
-	error = -1;
-	ok:
-		evhttp_clear_headers(&params);
-		return error;
-}
-
-#define COMPAT_REQUEST { \
-		if (_http_check_run_compat_action(request, v_server) == 0) { \
-			return; \
-		} \
-	}
-
-static void _http_callback_root(struct evhttp_request *request, void *v_server) {
-	server_s *server = (server_s *)v_server;
-
-	PREPROCESS_REQUEST;
-	COMPAT_REQUEST;
-
-	struct evbuffer *buf;
-
-	assert((buf = evbuffer_new()));
-	assert(evbuffer_add_printf(buf, "%s", HTML_INDEX_PAGE));
-	ADD_HEADER("Content-Type", "text/html");
-	evhttp_send_reply(request, HTTP_OK, "OK", buf);
-
-	evbuffer_free(buf);
-}
-
-static void _http_callback_static(struct evhttp_request *request, void *v_server) {
-	server_s *server = (server_s *)v_server;
-
-	PREPROCESS_REQUEST;
-	COMPAT_REQUEST;
-
-	struct evbuffer *buf = NULL;
-	struct evhttp_uri *uri = NULL;
-	char *decoded_path = NULL;
-	char *static_path = NULL;
-	int fd = -1;
-
-	{
-		char *uri_path;
-
-		if ((uri = evhttp_uri_parse(evhttp_request_get_uri(request))) == NULL) {
-			goto bad_request;
-		}
-		if ((uri_path = (char *)evhttp_uri_get_path(uri)) == NULL) {
-			uri_path = "/";
-		}
-
-		if ((decoded_path = evhttp_uridecode(uri_path, 0, NULL)) == NULL) {
-			goto bad_request;
-		}
-	}
-
-	assert((buf = evbuffer_new()));
-
-	if ((static_path = find_static_file_path(server->static_path, decoded_path)) == NULL) {
-		goto not_found;
-	}
-
-	if ((fd = open(static_path, O_RDONLY)) < 0) {
-		LOG_PERROR("HTTP: Can't open found static file %s", static_path);
-		goto not_found;
-	}
-
-	{
-		struct stat st;
-
-		if (fstat(fd, &st) < 0) {
-			LOG_PERROR("HTTP: Can't stat() found static file %s", static_path);
-			goto not_found;
-		}
-		if (st.st_size > 0 && evbuffer_add_file(buf, fd, 0, st.st_size) < 0) {
-			LOG_ERROR("HTTP: Can't serve static file %s", static_path);
-			goto not_found;
-		}
-
-		// evbuffer_add_file() owns the resulting file descriptor
-		// and will close it when finished transferring data
-		fd = -1;
-
-		ADD_HEADER("Content-Type", guess_mime_type(static_path));
-		evhttp_send_reply(request, HTTP_OK, "OK", buf);
-		goto cleanup;
-	}
-
-	bad_request:
-		evhttp_send_error(request, HTTP_BADREQUEST, NULL);
-		goto cleanup;
-
-	not_found:
-		evhttp_send_error(request, HTTP_NOTFOUND, NULL);
-		goto cleanup;
-
-	cleanup:
-		if (fd >= 0) {
-			close(fd);
-		}
-		if (static_path) {
-			free(static_path);
-		}
-		if (buf) {
-			evbuffer_free(buf);
-		}
-		if (decoded_path) {
-			free(decoded_path);
-		}
-		if (uri) {
-			evhttp_uri_free(uri);
-		}
-}
-
-#undef COMPAT_REQUEST
-
-static void _http_callback_state(struct evhttp_request *request, void *v_server) {
-	server_s *server = (server_s *)v_server;
-
-	PREPROCESS_REQUEST;
-
-	encoder_type_e enc_type;
-	unsigned enc_quality;
-	encoder_get_runtime_params(STREAM(enc), &enc_type, &enc_quality);
-
-	struct evbuffer *buf;
-	assert((buf = evbuffer_new()));
-
-	assert(evbuffer_add_printf(buf,
-		"{\"ok\": true, \"result\": {"
-		" \"encoder\": {\"type\": \"%s\", \"quality\": %u},",
-		encoder_type_to_string(enc_type),
-		enc_quality
-	));
-
-#	ifdef WITH_OMX
-	if (STREAM(run->h264)) {
-		assert(evbuffer_add_printf(buf,
-			" \"h264\": {\"bitrate\": %u, \"gop\": %u, \"online\": %s},",
-			STREAM(h264_bitrate),
-			STREAM(h264_gop),
-			bool_to_string(atomic_load(&STREAM(run->h264->online)))
-		));
-	}
-#	endif
-
-	if (
-		STREAM(sink)
-#	ifdef WITH_OMX
-		|| STREAM(h264_sink)
-#	endif
-	) {
-		assert(evbuffer_add_printf(buf, " \"sinks\": {"));
-		if (STREAM(sink)) {
-			assert(evbuffer_add_printf(buf,
-				"\"jpeg\": {\"has_clients\": %s}",
-				bool_to_string(atomic_load(&STREAM(sink->has_clients)))
-			));
-		}
-#	ifdef WITH_OMX
-		if (STREAM(h264_sink)) {
-			assert(evbuffer_add_printf(buf,
-				"%s\"h264\": {\"has_clients\": %s}",
-				(STREAM(sink) ? ", " : ""),
-				bool_to_string(atomic_load(&STREAM(h264_sink->has_clients)))
-			));
-		}
-#	endif
-		assert(evbuffer_add_printf(buf, "},"));
-	}
-
-	assert(evbuffer_add_printf(buf,
-		" \"source\": {\"resolution\": {\"width\": %u, \"height\": %u},"
-		" \"online\": %s, \"desired_fps\": %u, \"captured_fps\": %u},"
-		" \"stream\": {\"queued_fps\": %u, \"clients\": %u, \"clients_stat\": {",
-		(server->fake_width ? server->fake_width : EX(frame->width)),
-		(server->fake_height ? server->fake_height : EX(frame->height)),
-		bool_to_string(EX(frame->online)),
-		STREAM(dev->desired_fps),
-		EX(captured_fps),
-		EX(queued_fps),
-		RUN(stream_clients_count)
-	));
-
-	LIST_ITERATE(RUN(stream_clients), client, {
-		assert(evbuffer_add_printf(buf,
-			"\"%" PRIx64 "\": {\"fps\": %u, \"extra_headers\": %s, \"advance_headers\": %s,"
-			" \"dual_final_frames\": %s, \"zero_data\": %s, \"key\": \"%s\"}%s",
-			client->id,
-			client->fps,
-			bool_to_string(client->extra_headers),
-			bool_to_string(client->advance_headers),
-			bool_to_string(client->dual_final_frames),
-			bool_to_string(client->zero_data),
-			(client->key != NULL ? client->key : "0"),
-			(client->next ? ", " : "")
-		));
-	});
-
-	assert(evbuffer_add_printf(buf, "}}}}"));
-
-	ADD_HEADER("Content-Type", "application/json");
-	evhttp_send_reply(request, HTTP_OK, "OK", buf);
-	evbuffer_free(buf);
-}
-
-static void _http_callback_snapshot(struct evhttp_request *request, void *v_server) {
-	server_s *server = (server_s *)v_server;
-
-	PREPROCESS_REQUEST;
-
-	struct evbuffer *buf;
-	assert((buf = evbuffer_new()));
-	assert(!evbuffer_add(buf, (const void *)EX(frame->data), EX(frame->used)));
-
-	if (server->allow_origin[0] != '\0') {
-		ADD_HEADER("Access-Control-Allow-Origin", server->allow_origin);
-	}
-	ADD_HEADER("Cache-Control", "no-store, no-cache, must-revalidate, proxy-revalidate, pre-check=0, post-check=0, max-age=0");
-	ADD_HEADER("Pragma", "no-cache");
-	ADD_HEADER("Expires", "Mon, 3 Jan 2000 12:34:56 GMT");
-
-	char header_buf[256];
-
-#	define ADD_TIME_HEADER(_key, _value) { \
-			snprintf(header_buf, 255, "%.06Lf", _value); \
-			ADD_HEADER(_key, header_buf); \
-		}
-
-#	define ADD_UNSIGNED_HEADER(_key, _value) { \
-			snprintf(header_buf, 255, "%u", _value); \
-			ADD_HEADER(_key, header_buf); \
-		}
-
-	ADD_TIME_HEADER("X-Timestamp", get_now_real());
-
-	ADD_HEADER("X-UStreamer-Online",						bool_to_string(EX(frame->online)));
-	ADD_UNSIGNED_HEADER("X-UStreamer-Dropped",				EX(dropped));
-	ADD_UNSIGNED_HEADER("X-UStreamer-Width",				EX(frame->width));
-	ADD_UNSIGNED_HEADER("X-UStreamer-Height",				EX(frame->height));
-	ADD_TIME_HEADER("X-UStreamer-Grab-Timestamp",			EX(frame->grab_ts));
-	ADD_TIME_HEADER("X-UStreamer-Encode-Begin-Timestamp",	EX(frame->encode_begin_ts));
-	ADD_TIME_HEADER("X-UStreamer-Encode-End-Timestamp",		EX(frame->encode_end_ts));
-	ADD_TIME_HEADER("X-UStreamer-Expose-Begin-Timestamp",	EX(expose_begin_ts));
-	ADD_TIME_HEADER("X-UStreamer-Expose-Cmp-Timestamp",		EX(expose_cmp_ts));
-	ADD_TIME_HEADER("X-UStreamer-Expose-End-Timestamp",		EX(expose_end_ts));
-	ADD_TIME_HEADER("X-UStreamer-Send-Timestamp",			get_now_monotonic());
-
-#	undef ADD_UNSUGNED_HEADER
-#	undef ADD_TIME_HEADER
-
-	ADD_HEADER("Content-Type", "image/jpeg");
-
-	evhttp_send_reply(request, HTTP_OK, "OK", buf);
-	evbuffer_free(buf);
-}
-
-#undef ADD_HEADER
-
-static void _http_callback_stream(struct evhttp_request *request, void *v_server) {
-	// https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/http.c#L2814
-	// https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/http.c#L2789
-	// https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/http.c#L362
-	// https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/http.c#L791
-	// https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/http.c#L1458
-
-	server_s *server = (server_s *)v_server;
-
-	PREPROCESS_REQUEST;
-
-	struct evhttp_connection *conn;
-	conn = evhttp_request_get_connection(request);
-
-	if (conn) {
-		stream_client_s *client;
-		A_CALLOC(client, 1);
-		client->server = server;
-		client->request = request;
-		client->need_initial = true;
-		client->need_first_frame = true;
-
-		struct evkeyvalq params;
-		evhttp_parse_query(evhttp_request_get_uri(request), &params);
-#		define PARSE_PARAM(_type, _name) client->_name = uri_get_##_type(&params, #_name)
-		PARSE_PARAM(string, key);
-		PARSE_PARAM(true, extra_headers);
-		PARSE_PARAM(true, advance_headers);
-		PARSE_PARAM(true, dual_final_frames);
-		PARSE_PARAM(true, zero_data);
-#		undef PARSE_PARAM
-		evhttp_clear_headers(&params);
-
-		client->hostport = _http_get_client_hostport(request);
-		client->id = get_now_id();
-
-		LIST_APPEND_C(RUN(stream_clients), client, RUN(stream_clients_count));
-
-		if (RUN(stream_clients_count) == 1) {
-			atomic_store(&VID(has_clients), true);
-#			ifdef WITH_GPIO
-			gpio_set_has_http_clients(true);
-#			endif
-		}
-
-		LOG_INFO("HTTP: Registered client: %s, id=%" PRIx64 "; clients now: %u",
-			client->hostport, client->id, RUN(stream_clients_count));
-
-		struct bufferevent *buf_event = evhttp_connection_get_bufferevent(conn);
-		if (server->tcp_nodelay && !RUN(ext_fd)) {
-			evutil_socket_t fd;
-			int on = 1;
-
-			LOG_DEBUG("HTTP: Setting up TCP_NODELAY to the client %s ...", client->hostport);
-			assert((fd = bufferevent_getfd(buf_event)) >= 0);
-			if (setsockopt(fd, IPPROTO_TCP, TCP_NODELAY, (void *)&on, sizeof(on)) != 0) {
-				LOG_PERROR("HTTP: Can't set TCP_NODELAY to the client %s", client->hostport);
-			}
-		}
-		bufferevent_setcb(buf_event, NULL, NULL, _http_callback_stream_error, (void *)client);
-		bufferevent_enable(buf_event, EV_READ);
-	} else {
-		evhttp_request_free(request);
-	}
-}
-
-#undef PREPROCESS_REQUEST
-
-static void _http_callback_stream_write(struct bufferevent *buf_event, void *v_client) {
-#	define BOUNDARY "boundarydonotcross"
-
-	stream_client_s *client = (stream_client_s *)v_client;
-	server_s *server = client->server;
-
-	long double now = get_now_monotonic();
-	long long now_second = floor_ms(now);
-
-	if (now_second != client->fps_accum_second) {
-		client->fps = client->fps_accum;
-		client->fps_accum = 0;
-		client->fps_accum_second = now_second;
-	}
-	client->fps_accum += 1;
-
-	struct evbuffer *buf;
-	assert((buf = evbuffer_new()));
-
-	// В хроме и его производных есть фундаментальный баг: он отрисовывает
-	// фрейм с задержкой на один, как только ему придут заголовки следующего.
-	// В сочетании с drop_same_frames это дает значительный лаг стрима
-	// при большом количестве дропов (на статичном изображении, где внезапно
-	// что-то изменилось.
-	//
-	// https://bugs.chromium.org/p/chromium/issues/detail?id=527446
-	//
-	// Включение advance_headers заставляет стример отсылать заголовки
-	// будущего фрейма сразу после данных текущего, чтобы триггернуть отрисовку.
-	// Естественным следствием этого является невозможность установки заголовка
-	// Content-Length, так как предсказывать будущее мы еще не научились.
-	// Его наличие не требуется RFC, однако никаких стандартов на MJPG over HTTP
-	// в природе не существует, и никто не может гарантировать, что отсутствие
-	// Content-Length не сломает вещание для каких-нибудь маргинальных браузеров.
-	//
-	// Кроме того, advance_headers форсит отключение заголовков X-UStreamer-*
-	// по тем же причинам, по которым у нас нет Content-Length.
-
-#	define ADD_ADVANCE_HEADERS \
-		assert(evbuffer_add_printf(buf, \
-			"Content-Type: image/jpeg" RN "X-Timestamp: %.06Lf" RN RN, get_now_real()))
-
-	if (client->need_initial) {
-		assert(evbuffer_add_printf(buf, "HTTP/1.0 200 OK" RN));
-		if (client->server->allow_origin[0] != '\0') {
-			assert(evbuffer_add_printf(buf, "Access-Control-Allow-Origin: %s" RN, client->server->allow_origin));
-		}
-		assert(evbuffer_add_printf(buf,
-			"Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, pre-check=0, post-check=0, max-age=0" RN
-			"Pragma: no-cache" RN
-			"Expires: Mon, 3 Jan 2000 12:34:56 GMT" RN
-			"Set-Cookie: stream_client=%s/%" PRIx64 "; path=/; max-age=30" RN
-			"Content-Type: multipart/x-mixed-replace;boundary=" BOUNDARY RN
-			RN
-			"--" BOUNDARY RN,
-			(client->key != NULL ? client->key : "0"),
-			client->id
-		));
-
-		if (client->advance_headers) {
-			ADD_ADVANCE_HEADERS;
-		}
-
-		assert(!bufferevent_write_buffer(buf_event, buf));
-		client->need_initial = false;
-	}
-
-	if (!client->advance_headers) {
-		assert(evbuffer_add_printf(buf,
-			"Content-Type: image/jpeg" RN
-			"Content-Length: %zu" RN
-			"X-Timestamp: %.06Lf" RN
-			"%s",
-			(!client->zero_data ? EX(frame->used) : 0),
-			get_now_real(),
-			(client->extra_headers ? "" : RN)
-		));
-		if (client->extra_headers) {
-			assert(evbuffer_add_printf(buf,
-				"X-UStreamer-Online: %s" RN
-				"X-UStreamer-Dropped: %u" RN
-				"X-UStreamer-Width: %u" RN
-				"X-UStreamer-Height: %u" RN
-				"X-UStreamer-Client-FPS: %u" RN
-				"X-UStreamer-Grab-Time: %.06Lf" RN
-				"X-UStreamer-Encode-Begin-Time: %.06Lf" RN
-				"X-UStreamer-Encode-End-Time: %.06Lf" RN
-				"X-UStreamer-Expose-Begin-Time: %.06Lf" RN
-				"X-UStreamer-Expose-Cmp-Time: %.06Lf" RN
-				"X-UStreamer-Expose-End-Time: %.06Lf" RN
-				"X-UStreamer-Send-Time: %.06Lf" RN
-				"X-UStreamer-Latency: %.06Lf" RN
-				RN,
-				bool_to_string(EX(frame->online)),
-				EX(dropped),
-				EX(frame->width),
-				EX(frame->height),
-				client->fps,
-				EX(frame->grab_ts),
-				EX(frame->encode_begin_ts),
-				EX(frame->encode_end_ts),
-				EX(expose_begin_ts),
-				EX(expose_cmp_ts),
-				EX(expose_end_ts),
-				now,
-				now - EX(frame->grab_ts)
-			));
-		}
-	}
-
-	if (!client->zero_data) {
-		assert(!evbuffer_add(buf, (void *)EX(frame->data), EX(frame->used)));
-	}
-	assert(evbuffer_add_printf(buf, RN "--" BOUNDARY RN));
-
-	if (client->advance_headers) {
-		ADD_ADVANCE_HEADERS;
-	}
-
-	assert(!bufferevent_write_buffer(buf_event, buf));
-	evbuffer_free(buf);
-
-	bufferevent_setcb(buf_event, NULL, NULL, _http_callback_stream_error, (void *)client);
-	bufferevent_enable(buf_event, EV_READ);
-
-#	undef ADD_ADVANCE_HEADERS
-#	undef BOUNDARY
-}
-
-static void _http_callback_stream_error(UNUSED struct bufferevent *buf_event, UNUSED short what, void *v_client) {
-	stream_client_s *client = (stream_client_s *)v_client;
-	server_s *server = client->server;
-
-	LIST_REMOVE_C(RUN(stream_clients), client, RUN(stream_clients_count));
-
-	if (RUN(stream_clients_count) == 0) {
-		atomic_store(&VID(has_clients), false);
-#		ifdef WITH_GPIO
-		gpio_set_has_http_clients(false);
-#		endif
-	}
-
-	char *reason = bufferevent_my_format_reason(what);
-	LOG_INFO("HTTP: Disconnected client: %s, id=%" PRIx64 ", %s; clients now: %u",
-		client->hostport, client->id, reason, RUN(stream_clients_count));
-	free(reason);
-
-	struct evhttp_connection *conn = evhttp_request_get_connection(client->request);
-	if (conn) {
-		evhttp_connection_free(conn);
-	}
-
-	free(client->key);
-	free(client->hostport);
-	free(client);
-}
-
-static void _http_queue_send_stream(server_s *server, bool stream_updated, bool frame_updated) {
-	bool has_clients = false;
-	bool queued = false;
-
-	LIST_ITERATE(RUN(stream_clients), client, {
-		struct evhttp_connection *conn = evhttp_request_get_connection(client->request);
-		if (conn) {
-			// Фикс для бага WebKit. При включенной опции дропа одинаковых фреймов,
-			// WebKit отрисовывает последний фрейм в серии с некоторой задержкой,
-			// и нужно послать два фрейма, чтобы серия была вовремя завершена.
-			// Это похоже на баг Blink (см. _http_callback_stream_write() и advance_headers),
-			// но фикс для него не лечит проблему вебкита. Такие дела.
-
-			bool dual_update = (
-				server->drop_same_frames
-				&& client->dual_final_frames
-				&& stream_updated
-				&& client->updated_prev
-				&& !frame_updated
-			);
-
-			if (dual_update || frame_updated || client->need_first_frame) {
-				struct bufferevent *buf_event = evhttp_connection_get_bufferevent(conn);
-				bufferevent_setcb(buf_event, NULL, _http_callback_stream_write, _http_callback_stream_error, (void *)client);
-				bufferevent_enable(buf_event, EV_READ|EV_WRITE);
-
-				client->need_first_frame = false;
-				client->updated_prev = (frame_updated || client->need_first_frame); // Игнорировать dual
-				queued = true;
-			} else if (stream_updated) { // Для dual
-				client->updated_prev = false;
-			}
-
-			has_clients = true;
-		}
-	});
-
-	if (queued) {
-		static unsigned queued_fps_accum = 0;
-		static long long queued_fps_second = 0;
-		long long now = floor_ms(get_now_monotonic());
-		if (now != queued_fps_second) {
-			EX(queued_fps) = queued_fps_accum;
-			queued_fps_accum = 0;
-			queued_fps_second = now;
-		}
-		queued_fps_accum += 1;
-	} else if (!has_clients) {
-		EX(queued_fps) = 0;
-	}
-}
-
-static void _http_request_watcher(UNUSED int fd, UNUSED short what, void *v_server) {
-	server_s *server = (server_s *)v_server;
-	const long double now = get_now_monotonic();
-
-	if (stream_has_clients(RUN(stream))) {
-		RUN(last_request_ts) = now;
-	} else if (RUN(last_request_ts) + server->exit_on_no_clients < now) {
-		LOG_INFO("HTTP: No requests or HTTP/sink clients found in last %u seconds, exiting ...",
-			server->exit_on_no_clients);
-		process_suicide();
-		RUN(last_request_ts) = now;
-	}
-}
-
-static void _http_refresher(UNUSED int fd, UNUSED short what, void *v_server) {
-	server_s *server = (server_s *)v_server;
-	bool stream_updated = false;
-	bool frame_updated = false;
-
-	if (atomic_load(&VID(updated))) {
-		frame_updated = _expose_new_frame(server);
-		stream_updated = true;
-	} else if (EX(expose_end_ts) + 1 < get_now_monotonic()) {
-		LOG_DEBUG("HTTP: Repeating exposed ...");
-		EX(expose_begin_ts) = get_now_monotonic();
-		EX(expose_cmp_ts) = EX(expose_begin_ts);
-		EX(expose_end_ts) = EX(expose_begin_ts);
-		frame_updated = true;
-		stream_updated = true;
-	}
-
-	_http_queue_send_stream(server, stream_updated, frame_updated);
-
-	if (
-		frame_updated
-		&& server->notify_parent
-		&& (
-			EX(notify_last_online) != EX(frame->online)
-			|| EX(notify_last_width) != EX(frame->width)
-			|| EX(notify_last_height) != EX(frame->height)
-		)
-	) {
-		EX(notify_last_online) = EX(frame->online);
-		EX(notify_last_width) = EX(frame->width);
-		EX(notify_last_height) = EX(frame->height);
-		process_notify_parent();
-	}
-}
-
-static bool _expose_new_frame(server_s *server) {
-	bool updated = false;
-
-	A_MUTEX_LOCK(&VID(mutex));
-
-	LOG_DEBUG("HTTP: Updating exposed frame (online=%d) ...", VID(frame->online));
-
-	EX(captured_fps) = VID(captured_fps);
-	EX(expose_begin_ts) = get_now_monotonic();
-
-	if (server->drop_same_frames && VID(frame->online)) {
-		bool need_drop = false;
-		bool maybe_same = false;
-		if (
-			(need_drop = (EX(dropped) < server->drop_same_frames))
-			&& (maybe_same = frame_compare(EX(frame), VID(frame)))
-		) {
-			EX(expose_cmp_ts) = get_now_monotonic();
-			EX(expose_end_ts) = EX(expose_cmp_ts);
-			LOG_VERBOSE("HTTP: Dropped same frame number %u; cmp_time=%.06Lf",
-				EX(dropped), EX(expose_cmp_ts) - EX(expose_begin_ts));
-			EX(dropped) += 1;
-			goto not_updated;
-		} else {
-			EX(expose_cmp_ts) = get_now_monotonic();
-			LOG_VERBOSE("HTTP: Passed same frame check (need_drop=%d, maybe_same=%d); cmp_time=%.06Lf",
-				need_drop, maybe_same, (EX(expose_cmp_ts) - EX(expose_begin_ts)));
-		}
-	}
-
-	frame_copy(VID(frame), EX(frame));
-
-	EX(dropped) = 0;
-	EX(expose_cmp_ts) = EX(expose_begin_ts);
-	EX(expose_end_ts) = get_now_monotonic();
-
-	LOG_VERBOSE("HTTP: Exposed frame: online=%d, exp_time=%.06Lf",
-		 EX(frame->online), EX(expose_end_ts) - EX(expose_begin_ts));
-
-	updated = true;
-	not_updated:
-		atomic_store(&VID(updated), false);
-		A_MUTEX_UNLOCK(&VID(mutex));
-		return updated;
-}
-
-#undef EX
-#undef VID
-#undef STREAM
-#undef RUN
-
-static char *_http_get_client_hostport(struct evhttp_request *request) {
-	char *addr = NULL;
-	unsigned short port = 0;
-	struct evhttp_connection *conn = evhttp_request_get_connection(request);
-	if (conn) {
-		char *peer;
-		evhttp_connection_get_peer(conn, &peer, &port);
-		assert(addr = strdup(peer));
-	}
-
-	const char *xff = evhttp_find_header(evhttp_request_get_input_headers(request), "X-Forwarded-For");
-	if (xff) {
-		if (addr) {
-			free(addr);
-		}
-		assert(addr = strndup(xff, 1024));
-		for (unsigned index = 0; addr[index]; ++index) {
-			if (addr[index] == ',') {
-				addr[index] = '\0';
-				break;
-			}
-		}
-	}
-
-	if (addr == NULL) {
-		assert(addr = strdup("???"));
-	}
-
-	char *hostport;
-	A_ASPRINTF(hostport, "[%s]:%u", addr, port);
-	free(addr);
-	return hostport;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/server.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/server.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/server.h	2023-12-15 01:51:35.154398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/server.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,169 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <stdint.h>
-#include <stdbool.h>
-#include <stdatomic.h>
-#include <string.h>
-#include <inttypes.h>
-#include <unistd.h>
-#include <fcntl.h>
-#include <assert.h>
-
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <sys/time.h>
-#include <netinet/tcp.h>
-#include <netinet/in.h>
-#include <netinet/ip.h>
-
-#include <event2/util.h>
-#include <event2/event.h>
-#include <event2/thread.h>
-#include <event2/http.h>
-#include <event2/buffer.h>
-#include <event2/bufferevent.h>
-#include <event2/keyvalq_struct.h>
-
-#ifndef EVTHREAD_USE_PTHREADS_IMPLEMENTED
-#	error Required libevent-pthreads support
-#endif
-
-#include "../../libs/tools.h"
-#include "../../libs/threading.h"
-#include "../../libs/logging.h"
-#include "../../libs/process.h"
-#include "../../libs/frame.h"
-#include "../../libs/base64.h"
-#include "../../libs/list.h"
-#include "../data/index_html.h"
-#include "../encoder.h"
-#include "../stream.h"
-#ifdef WITH_GPIO
-#	include "../gpio/gpio.h"
-#endif
-
-#include "bev.h"
-#include "unix.h"
-#include "uri.h"
-#include "mime.h"
-#include "static.h"
-#ifdef WITH_SYSTEMD
-#	include "systemd/systemd.h"
-#endif
-
-
-typedef struct stream_client_sx {
-	struct server_sx *server;
-	struct evhttp_request *request;
-
-	char			*key;
-	bool			extra_headers;
-	bool			advance_headers;
-	bool			dual_final_frames;
-	bool			zero_data;
-
-	char			*hostport;
-	uint64_t		id;
-	bool			need_initial;
-	bool			need_first_frame;
-	bool			updated_prev;
-	unsigned		fps;
-	unsigned		fps_accum;
-	long long		fps_accum_second;
-
-	LIST_STRUCT(struct stream_client_sx);
-} stream_client_s;
-
-typedef struct {
-	frame_s			*frame;
-	unsigned		captured_fps;
-	unsigned		queued_fps;
-	unsigned		dropped;
-	long double		expose_begin_ts;
-	long double		expose_cmp_ts;
-	long double		expose_end_ts;
-
-	bool		notify_last_online;
-	unsigned	notify_last_width;
-	unsigned	notify_last_height;
-} exposed_s;
-
-typedef struct {
-	struct event_base	*base;
-	struct evhttp		*http;
-	evutil_socket_t		ext_fd; // Unix or socket activation
-
-	char				*auth_token;
-
-	struct event		*request_watcher;
-	long double			last_request_ts;
-
-	struct event		*refresher;
-	stream_s			*stream;
-	exposed_s			*exposed;
-
-	stream_client_s		*stream_clients;
-	unsigned			stream_clients_count;
-} server_runtime_s;
-
-typedef struct server_sx {
-	char		*host;
-	unsigned	port;
-
-	char		*unix_path;
-	bool		unix_rm;
-	mode_t		unix_mode;
-
-#	ifdef WITH_SYSTEMD
-	bool		systemd;
-#	endif
-
-	bool		tcp_nodelay;
-	unsigned	timeout;
-
-	char		*user;
-	char		*passwd;
-	char		*static_path;
-	char		*allow_origin;
-
-	unsigned	drop_same_frames;
-	unsigned	fake_width;
-	unsigned	fake_height;
-
-	bool		notify_parent;
-	unsigned	exit_on_no_clients;
-
-	server_runtime_s *run;
-} server_s;
-
-
-server_s *server_init(stream_s *stream);
-void server_destroy(server_s *server);
-
-int server_listen(server_s *server);
-void server_loop(server_s *server);
-void server_loop_break(server_s *server);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/static.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/static.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/static.c	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/static.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,77 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "static.h"
-
-
-char *find_static_file_path(const char *root_path, const char *request_path) {
-	char *path = NULL;
-
-	char *simplified_path = simplify_request_path(request_path);
-	if (simplified_path[0] == '\0') {
-		LOG_VERBOSE("HTTP: Invalid request path %s to static", request_path);
-		goto error;
-	}
-
-	A_CALLOC(path, strlen(root_path) + strlen(simplified_path) + 16); // + reserved for /index.html
-	sprintf(path, "%s/%s", root_path, simplified_path);
-
-	struct stat st;
-#	define LOAD_STAT { \
-			if (lstat(path, &st) < 0) { \
-				LOG_VERBOSE_PERROR("HTTP: Can't stat() static path %s", path); \
-				goto error; \
-			} \
-		}
-
-	LOAD_STAT;
-	if (S_ISDIR(st.st_mode)) {
-		LOG_VERBOSE("HTTP: Requested static path %s is a directory, trying %s/index.html", path, path);
-		strcat(path, "/index.html");
-		LOAD_STAT;
-	}
-
-#	undef LOAD_STAT
-
-	if (!S_ISREG(st.st_mode)) {
-		LOG_VERBOSE("HTTP: Not a regular file: %s", path);
-		goto error;
-	}
-
-	if (access(path, R_OK) < 0) {
-		LOG_VERBOSE_PERROR("HTTP: Can't access() R_OK file %s", path);
-		goto error;
-	}
-
-	goto ok;
-
-	error:
-		if (path) {
-			free(path);
-		}
-		path = NULL;
-
-	ok:
-		free(simplified_path);
-
-	return path;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/static.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/static.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/static.h	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/static.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,38 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <string.h>
-#include <unistd.h>
-
-#include <sys/stat.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-
-#include "path.h"
-
-
-char *find_static_file_path(const char *root_path, const char *request_path);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.c	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,46 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPEG-HTTP streamer.                   #
-#                                                                            #
-#    Copyright (C) 2018-2022  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "systemd.h"
-
-
-evutil_socket_t evhttp_my_bind_systemd(struct evhttp *http) {
-	int fds = sd_listen_fds(1);
-	if (fds < 1) {
-		LOG_ERROR("No available systemd sockets");
-		return -1;
-	}
-
-	int fd;
-	for (fd = 1; fd < fds; ++fd) {
-		close(SD_LISTEN_FDS_START + fd);
-	}
-	fd = SD_LISTEN_FDS_START;
-
-	assert(!evutil_make_socket_nonblocking(fd));
-
-	if (evhttp_accept_socket(http, fd) < 0) {
-		LOG_PERROR("Can't evhttp_accept_socket() systemd socket");
-		return -1;
-	}
-	return fd;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.h	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/systemd/systemd.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,37 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPEG-HTTP streamer.                   #
-#                                                                            #
-#    Copyright (C) 2018-2022  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <unistd.h>
-#include <assert.h>
-
-#include <event2/http.h>
-#include <event2/util.h>
-
-#include <systemd/sd-daemon.h>
-
-#include "../../../libs/tools.h"
-#include "../../../libs/logging.h"
-
-
-evutil_socket_t evhttp_my_bind_systemd(struct evhttp *http);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/unix.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/unix.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/unix.c	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/unix.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,69 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "unix.h"
-
-
-evutil_socket_t evhttp_my_bind_unix(struct evhttp *http, const char *path, bool rm, mode_t mode) {
-	struct sockaddr_un addr;
-
-#	define MAX_SUN_PATH (sizeof(addr.sun_path) - 1)
-
-	if (strlen(path) > MAX_SUN_PATH) {
-		LOG_ERROR("UNIX socket path is too long; max=%zu", MAX_SUN_PATH);
-		return -1;
-	}
-
-	MEMSET_ZERO(addr);
-	strncpy(addr.sun_path, path, MAX_SUN_PATH);
-	addr.sun_family = AF_UNIX;
-
-#	undef MAX_SUN_PATH
-
-	evutil_socket_t fd = -1;
-	assert((fd = socket(AF_UNIX, SOCK_STREAM, 0)) >= 0);
-	assert(!evutil_make_socket_nonblocking(fd));
-
-	if (rm && unlink(path) < 0) {
-		if (errno != ENOENT) {
-			LOG_PERROR("Can't remove old UNIX socket '%s'", path);
-			return -1;
-		}
-	}
-	if (bind(fd, (struct sockaddr *)&addr, sizeof(struct sockaddr_un)) < 0) {
-		LOG_PERROR("Can't bind HTTP to UNIX socket '%s'", path);
-		return -1;
-	}
-	if (mode && chmod(path, mode) < 0) {
-		LOG_PERROR("Can't set permissions %o to UNIX socket '%s'", mode, path);
-		return -1;
-	}
-	if (listen(fd, 128) < 0) {
-		LOG_PERROR("Can't listen UNIX socket '%s'", path);
-		return -1;
-	}
-	if (evhttp_accept_socket(http, fd) < 0) {
-		LOG_PERROR("Can't evhttp_accept_socket() UNIX socket '%s'", path);
-		return -1;
-	}
-	return fd;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/unix.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/unix.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/unix.h	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/unix.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,42 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdbool.h>
-#include <string.h>
-#include <unistd.h>
-#include <errno.h>
-#include <assert.h>
-
-#include <sys/socket.h>
-#include <sys/un.h>
-#include <sys/stat.h>
-
-#include <event2/http.h>
-#include <event2/util.h>
-
-#include "../../libs/tools.h"
-#include "../../libs/logging.h"
-
-
-evutil_socket_t evhttp_my_bind_unix(struct evhttp *http, const char *path, bool rm, mode_t mode);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/uri.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/uri.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/uri.c	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/uri.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,46 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "uri.h"
-
-
-bool uri_get_true(struct evkeyvalq *params, const char *key) {
-	const char *value_str = evhttp_find_header(params, key);
-	if (value_str != NULL) {
-		if (
-			value_str[0] == '1'
-			|| !evutil_ascii_strcasecmp(value_str, "true")
-			|| !evutil_ascii_strcasecmp(value_str, "yes")
-		) {
-			return true;
-		}
-	}
-	return false;
-}
-
-char *uri_get_string(struct evkeyvalq *params, const char *key) {
-	const char *value_str = evhttp_find_header(params, key);
-	if (value_str != NULL) {
-		return evhttp_encode_uri(value_str);
-	}
-	return NULL;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/uri.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/uri.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/http/uri.h	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/http/uri.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,33 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdbool.h>
-
-#include <event2/util.h>
-#include <event2/http.h>
-#include <event2/keyvalq_struct.h>
-
-
-bool uri_get_true(struct evkeyvalq *params, const char *key);
-char *uri_get_string(struct evkeyvalq *params, const char *key);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/main.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/main.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/main.c	2023-12-15 01:51:35.158398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/main.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,197 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include <assert.h>
-#ifdef NDEBUG
-#	error WTF dude? Asserts are good things!
-#endif
-
-#include <limits.h>
-#if CHAR_BIT != 8
-#	error There are not 8 bits in a char!
-#endif
-
-#include <stdio.h>
-#include <stdbool.h>
-#include <signal.h>
-
-#include <pthread.h>
-#ifdef WITH_OMX
-#	include <bcm_host.h>
-#	include <IL/OMX_Core.h>
-#endif
-
-#include "../libs/tools.h"
-#include "../libs/threading.h"
-#include "../libs/logging.h"
-
-#include "options.h"
-#include "device.h"
-#include "encoder.h"
-#include "stream.h"
-#include "http/server.h"
-#ifdef WITH_GPIO
-#	include "gpio/gpio.h"
-#endif
-
-
-typedef struct {
-	stream_s *stream;
-	server_s *server;
-} _main_context_s;
-
-static _main_context_s *_ctx;
-
-static void _block_thread_signals(void) {
-	sigset_t mask;
-	assert(!sigemptyset(&mask));
-	assert(!sigaddset(&mask, SIGINT));
-	assert(!sigaddset(&mask, SIGTERM));
-	assert(!pthread_sigmask(SIG_BLOCK, &mask, NULL));
-}
-
-static void *_stream_loop_thread(UNUSED void *arg) {
-	A_THREAD_RENAME("stream");
-	_block_thread_signals();
-	stream_loop(_ctx->stream);
-	return NULL;
-}
-
-static void *_server_loop_thread(UNUSED void *arg) {
-	A_THREAD_RENAME("http");
-	_block_thread_signals();
-	server_loop(_ctx->server);
-	return NULL;
-}
-
-static void _signal_handler(int signum) {
-	switch (signum) {
-		case SIGTERM:	LOG_INFO_NOLOCK("===== Stopping by SIGTERM ====="); break;
-		case SIGINT:	LOG_INFO_NOLOCK("===== Stopping by SIGINT ====="); break;
-		default:		LOG_INFO_NOLOCK("===== Stopping by %d =====", signum); break;
-	}
-	stream_loop_break(_ctx->stream);
-	server_loop_break(_ctx->server);
-}
-
-static void _install_signal_handlers(void) {
-	struct sigaction sig_act;
-	MEMSET_ZERO(sig_act);
-
-	assert(!sigemptyset(&sig_act.sa_mask));
-	sig_act.sa_handler = _signal_handler;
-	assert(!sigaddset(&sig_act.sa_mask, SIGINT));
-	assert(!sigaddset(&sig_act.sa_mask, SIGTERM));
-
-	LOG_DEBUG("Installing SIGINT handler ...");
-	assert(!sigaction(SIGINT, &sig_act, NULL));
-
-	LOG_DEBUG("Installing SIGTERM handler ...");
-	assert(!sigaction(SIGTERM, &sig_act, NULL));
-
-	LOG_DEBUG("Ignoring SIGPIPE ...");
-	assert(signal(SIGPIPE, SIG_IGN) != SIG_ERR);
-}
-
-int main(int argc, char *argv[]) {
-	assert(argc >= 0);
-	int exit_code = 0;
-
-	LOGGING_INIT;
-	A_THREAD_RENAME("main");
-
-	options_s *options = options_init(argc, argv);
-	device_s *dev = device_init();
-	encoder_s *enc = encoder_init();
-	stream_s *stream = stream_init(dev, enc);
-	server_s *server = server_init(stream);
-
-#	ifdef WITH_OMX
-	bool i_bcm_host = false;
-	OMX_ERRORTYPE omx_error = OMX_ErrorUndefined;
-#	endif
-
-	if ((exit_code = options_parse(options, dev, enc, stream, server)) == 0) {
-#		ifdef WITH_OMX
-		if (enc->type == ENCODER_TYPE_OMX || stream->h264_sink) {
-			bcm_host_init();
-			i_bcm_host = true;
-		}
-		if (enc->type == ENCODER_TYPE_OMX) {
-			if ((omx_error = OMX_Init()) != OMX_ErrorNone) {
-				LOG_ERROR_OMX(omx_error, "Can't initialize OMX Core; forced CPU encoder");
-				enc->type = ENCODER_TYPE_CPU;
-			}
-		}
-#		endif
-
-#		ifdef WITH_GPIO
-		gpio_init();
-#		endif
-
-		_install_signal_handlers();
-
-		_main_context_s ctx;
-		ctx.stream = stream;
-		ctx.server = server;
-		_ctx = &ctx;
-
-		if ((exit_code = server_listen(server)) == 0) {
-#			ifdef WITH_GPIO
-			gpio_set_prog_running(true);
-#			endif
-
-			pthread_t stream_loop_tid;
-			pthread_t server_loop_tid;
-			A_THREAD_CREATE(&stream_loop_tid, _stream_loop_thread, NULL);
-			A_THREAD_CREATE(&server_loop_tid, _server_loop_thread, NULL);
-			A_THREAD_JOIN(server_loop_tid);
-			A_THREAD_JOIN(stream_loop_tid);
-		}
-
-#		ifdef WITH_GPIO
-		gpio_set_prog_running(false);
-		gpio_destroy();
-#		endif
-	}
-
-	server_destroy(server);
-	stream_destroy(stream);
-	encoder_destroy(enc);
-	device_destroy(dev);
-	options_destroy(options);
-
-#	ifdef WITH_OMX
-	if (omx_error == OMX_ErrorNone) {
-		OMX_Deinit();
-	}
-	if (i_bcm_host) {
-		bcm_host_deinit();
-	}
-#	endif
-
-	if (exit_code == 0) {
-		LOG_INFO("Bye-bye");
-	}
-	LOGGING_DESTROY;
-	return (exit_code < 0 ? 1 : 0);
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/options.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/options.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/options.c	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/options.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,746 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "options.h"
-
-
-enum _OPT_VALUES {
-	_O_DEVICE = 'd',
-	_O_INPUT = 'i',
-	_O_RESOLUTION = 'r',
-	_O_FORMAT = 'm',
-	_O_TV_STANDARD = 'a',
-	_O_IO_METHOD = 'I',
-	_O_DESIRED_FPS = 'f',
-	_O_MIN_FRAME_SIZE = 'z',
-	_O_PERSISTENT = 'n',
-	_O_DV_TIMINGS = 't',
-	_O_BUFFERS = 'b',
-	_O_WORKERS = 'w',
-	_O_QUALITY = 'q',
-	_O_ENCODER = 'c',
-#	ifdef WITH_OMX
-	_O_GLITCHED_RESOLUTIONS = 'g',
-#	endif
-	_O_BLANK = 'k',
-	_O_LAST_AS_BLANK = 'K',
-	_O_SLOWDOWN = 'l',
-
-	_O_HOST = 's',
-	_O_PORT = 'p',
-	_O_UNIX = 'U',
-	_O_UNIX_RM = 'D',
-	_O_UNIX_MODE = 'M',
-#	ifdef WITH_SYSTEMD
-	_O_SYSTEMD = 'S',
-#	endif
-	_O_DROP_SAME_FRAMES = 'e',
-	_O_FAKE_RESOLUTION = 'R',
-
-	_O_HELP = 'h',
-	_O_VERSION = 'v',
-
-	// Longs only
-
-	_O_DEVICE_TIMEOUT = 10000,
-	_O_DEVICE_ERROR_DELAY,
-
-	_O_IMAGE_DEFAULT,
-	_O_BRIGHTNESS,
-	_O_CONTRAST,
-	_O_SATURATION,
-	_O_HUE,
-	_O_GAMMA,
-	_O_SHARPNESS,
-	_O_BACKLIGHT_COMPENSATION,
-	_O_WHITE_BALANCE,
-	_O_GAIN,
-	_O_COLOR_EFFECT,
-	_O_ROTATE,
-	_O_FLIP_VERTICAL,
-	_O_FLIP_HORIZONTAL,
-
-	_O_USER,
-	_O_PASSWD,
-	_O_STATIC,
-	_O_ALLOW_ORIGIN,
-	_O_TCP_NODELAY,
-	_O_SERVER_TIMEOUT,
-
-#	define ADD_SINK(_prefix) \
-		_O_##_prefix, \
-		_O_##_prefix##_MODE, \
-		_O_##_prefix##_RM, \
-		_O_##_prefix##_CLIENT_TTL, \
-		_O_##_prefix##_TIMEOUT,
-	ADD_SINK(SINK)
-	ADD_SINK(RAW_SINK)
-#	ifdef WITH_OMX
-	ADD_SINK(H264_SINK)
-	_O_H264_BITRATE,
-	_O_H264_GOP,
-#	endif
-#	undef ADD_SINK
-
-#	ifdef WITH_GPIO
-	_O_GPIO_DEVICE,
-	_O_GPIO_CONSUMER_PREFIX,
-	_O_GPIO_PROG_RUNNING,
-	_O_GPIO_STREAM_ONLINE,
-	_O_GPIO_HAS_HTTP_CLIENTS,
-#	endif
-
-#	ifdef HAS_PDEATHSIG
-	_O_EXIT_ON_PARENT_DEATH,
-#	endif
-	_O_EXIT_ON_NO_CLIENTS,
-#	ifdef WITH_SETPROCTITLE
-	_O_PROCESS_NAME_PREFIX,
-#	endif
-	_O_NOTIFY_PARENT,
-
-	_O_LOG_LEVEL,
-	_O_PERF,
-	_O_VERBOSE,
-	_O_DEBUG,
-	_O_FORCE_LOG_COLORS,
-	_O_NO_LOG_COLORS,
-
-	_O_FEATURES,
-};
-
-static const struct option _LONG_OPTS[] = {
-	{"device",					required_argument,	NULL,	_O_DEVICE},
-	{"input",					required_argument,	NULL,	_O_INPUT},
-	{"resolution",				required_argument,	NULL,	_O_RESOLUTION},
-	{"format",					required_argument,	NULL,	_O_FORMAT},
-	{"tv-standard",				required_argument,	NULL,	_O_TV_STANDARD},
-	{"io-method",				required_argument,	NULL,	_O_IO_METHOD},
-	{"desired-fps",				required_argument,	NULL,	_O_DESIRED_FPS},
-	{"min-frame-size",			required_argument,	NULL,	_O_MIN_FRAME_SIZE},
-	{"persistent",				no_argument,		NULL,	_O_PERSISTENT},
-	{"dv-timings",				no_argument,		NULL,	_O_DV_TIMINGS},
-	{"buffers",					required_argument,	NULL,	_O_BUFFERS},
-	{"workers",					required_argument,	NULL,	_O_WORKERS},
-	{"quality",					required_argument,	NULL,	_O_QUALITY},
-	{"encoder",					required_argument,	NULL,	_O_ENCODER},
-#	ifdef WITH_OMX
-	{"glitched-resolutions",	required_argument,	NULL,	_O_GLITCHED_RESOLUTIONS},
-#	endif
-	{"blank",					required_argument,	NULL,	_O_BLANK},
-	{"last-as-blank",			required_argument,	NULL,	_O_LAST_AS_BLANK},
-	{"slowdown",				no_argument,		NULL,	_O_SLOWDOWN},
-	{"device-timeout",			required_argument,	NULL,	_O_DEVICE_TIMEOUT},
-	{"device-error-delay",		required_argument,	NULL,	_O_DEVICE_ERROR_DELAY},
-
-	{"image-default",			no_argument,		NULL,	_O_IMAGE_DEFAULT},
-	{"brightness",				required_argument,	NULL,	_O_BRIGHTNESS},
-	{"contrast",				required_argument,	NULL,	_O_CONTRAST},
-	{"saturation",				required_argument,	NULL,	_O_SATURATION},
-	{"hue",						required_argument,	NULL,	_O_HUE},
-	{"gamma",					required_argument,	NULL,	_O_GAMMA},
-	{"sharpness",				required_argument,	NULL,	_O_SHARPNESS},
-	{"backlight-compensation",	required_argument,	NULL,	_O_BACKLIGHT_COMPENSATION},
-	{"white-balance",			required_argument,	NULL,	_O_WHITE_BALANCE},
-	{"gain",					required_argument,	NULL,	_O_GAIN},
-	{"color-effect",			required_argument,	NULL,	_O_COLOR_EFFECT},
-	{"rotate",				required_argument,	NULL,	_O_ROTATE},
-	{"flip-vertical",			required_argument,	NULL,	_O_FLIP_VERTICAL},
-	{"flip-horizontal",			required_argument,	NULL,	_O_FLIP_HORIZONTAL},
-
-	{"host",					required_argument,	NULL,	_O_HOST},
-	{"port",					required_argument,	NULL,	_O_PORT},
-	{"unix",					required_argument,	NULL,	_O_UNIX},
-	{"unix-rm",					no_argument,		NULL,	_O_UNIX_RM},
-	{"unix-mode",				required_argument,	NULL,	_O_UNIX_MODE},
-#	ifdef WITH_SYSTEMD
-	{"systemd",					no_argument,		NULL,	_O_SYSTEMD},
-#	endif
-	{"user",					required_argument,	NULL,	_O_USER},
-	{"passwd",					required_argument,	NULL,	_O_PASSWD},
-	{"static",					required_argument,	NULL,	_O_STATIC},
-	{"drop-same-frames",		required_argument,	NULL,	_O_DROP_SAME_FRAMES},
-	{"allow-origin",			required_argument,	NULL,	_O_ALLOW_ORIGIN},
-	{"fake-resolution",			required_argument,	NULL,	_O_FAKE_RESOLUTION},
-	{"tcp-nodelay",				no_argument,		NULL,	_O_TCP_NODELAY},
-	{"server-timeout",			required_argument,	NULL,	_O_SERVER_TIMEOUT},
-
-#	define ADD_SINK(_opt, _prefix) \
-		{_opt "sink",				required_argument,	NULL,	_O_##_prefix}, \
-		{_opt "sink-mode",			required_argument,	NULL,	_O_##_prefix##_MODE}, \
-		{_opt "sink-rm",			no_argument,		NULL,	_O_##_prefix##_RM}, \
-		{_opt "sink-client-ttl",	required_argument,	NULL,	_O_##_prefix##_CLIENT_TTL}, \
-		{_opt "sink-timeout",		required_argument,	NULL,	_O_##_prefix##_TIMEOUT},
-	ADD_SINK("", SINK)
-	ADD_SINK("raw-", RAW_SINK)
-#	ifdef WITH_OMX
-	ADD_SINK("h264-", H264_SINK)
-	{"h264-bitrate",			required_argument,	NULL,	_O_H264_BITRATE},
-	{"h264-gop",				required_argument,	NULL,	_O_H264_GOP},
-#	endif
-#	undef ADD_SINK
-
-#	ifdef WITH_GPIO
-	{"gpio-device",				required_argument,	NULL,	_O_GPIO_DEVICE},
-	{"gpio-consumer-prefix",	required_argument,	NULL,	_O_GPIO_CONSUMER_PREFIX},
-	{"gpio-prog-running",		required_argument,	NULL,	_O_GPIO_PROG_RUNNING},
-	{"gpio-stream-online",		required_argument,	NULL,	_O_GPIO_STREAM_ONLINE},
-	{"gpio-has-http-clients",	required_argument,	NULL,	_O_GPIO_HAS_HTTP_CLIENTS},
-#	endif
-
-#	ifdef HAS_PDEATHSIG
-	{"exit-on-parent-death",	no_argument,		NULL,	_O_EXIT_ON_PARENT_DEATH},
-#	endif
-	{"exit-on-no-clients",		required_argument,	NULL,	_O_EXIT_ON_NO_CLIENTS},
-#	ifdef WITH_SETPROCTITLE
-	{"process-name-prefix",		required_argument,	NULL,	_O_PROCESS_NAME_PREFIX},
-#	endif
-	{"notify-parent",			no_argument,		NULL,	_O_NOTIFY_PARENT},
-
-	{"log-level",				required_argument,	NULL,	_O_LOG_LEVEL},
-	{"perf",					no_argument,		NULL,	_O_PERF},
-	{"verbose",					no_argument,		NULL,	_O_VERBOSE},
-	{"debug",					no_argument,		NULL,	_O_DEBUG},
-	{"force-log-colors",		no_argument,		NULL,	_O_FORCE_LOG_COLORS},
-	{"no-log-colors",			no_argument,		NULL,	_O_NO_LOG_COLORS},
-
-	{"help",					no_argument,		NULL,	_O_HELP},
-	{"version",					no_argument,		NULL,	_O_VERSION},
-	{"features",				no_argument,		NULL,	_O_FEATURES},
-
-	{NULL, 0, NULL, 0},
-};
-
-
-static int _parse_resolution(const char *str, unsigned *width, unsigned *height, bool limited);
-
-static void _features(void);
-static void _help(FILE *fp, device_s *dev, encoder_s *enc, stream_s *stream, server_s *server);
-
-
-options_s *options_init(unsigned argc, char *argv[]) {
-	options_s *options;
-	A_CALLOC(options, 1);
-	options->argc = argc;
-	options->argv = argv;
-
-	A_CALLOC(options->argv_copy, argc);
-	for (unsigned index = 0; index < argc; ++index) {
-		assert(options->argv_copy[index] = strdup(argv[index]));
-	}
-	return options;
-}
-
-void options_destroy(options_s *options) {
-#	define ADD_SINK(_prefix) { \
-			if (options->_prefix) { \
-				memsink_destroy(options->_prefix); \
-			} \
-		}
-	ADD_SINK(sink);
-	ADD_SINK(raw_sink);
-#	ifdef WITH_OMX
-	ADD_SINK(h264_sink);
-#	endif
-#	undef ADD_SINK
-
-	if (options->blank) {
-		frame_destroy(options->blank);
-	}
-
-	for (unsigned index = 0; index < options->argc; ++index) {
-		free(options->argv_copy[index]);
-	}
-	free(options->argv_copy);
-
-	free(options);
-}
-
-
-int options_parse(options_s *options, device_s *dev, encoder_s *enc, stream_s *stream, server_s *server) {
-#	define OPT_SET(_dest, _value) { \
-			_dest = _value; \
-			break; \
-		}
-
-#	define OPT_NUMBER(_name, _dest, _min, _max, _base) { \
-			errno = 0; char *_end = NULL; long long _tmp = strtoll(optarg, &_end, _base); \
-			if (errno || *_end || _tmp < _min || _tmp > _max) { \
-				printf("Invalid value for '%s=%s': min=%lld, max=%lld\n", _name, optarg, (long long)_min, (long long)_max); \
-				return -1; \
-			} \
-			_dest = _tmp; \
-			break; \
-		}
-
-#	define OPT_RESOLUTION(_name, _dest_width, _dest_height, _limited) { \
-			switch (_parse_resolution(optarg, &_dest_width, &_dest_height, _limited)) { \
-				case -1: \
-					printf("Invalid resolution format for '%s=%s'\n", _name, optarg); \
-					return -1; \
-				case -2: \
-					printf("Invalid width of '%s=%s': min=%u, max=%u\n", _name, optarg, VIDEO_MIN_WIDTH, VIDEO_MAX_WIDTH); \
-					return -1; \
-				case -3: \
-					printf("Invalid height of '%s=%s': min=%u, max=%u\n", _name, optarg, VIDEO_MIN_HEIGHT, VIDEO_MAX_HEIGHT); \
-					return -1; \
-				case 0: break; \
-				default: assert(0 && "Unknown error"); \
-			} \
-			break; \
-		}
-
-#	define OPT_PARSE(_name, _dest, _func, _invalid, _available) { \
-			if ((_dest = _func(optarg)) == _invalid) { \
-				printf("Unknown " _name ": %s; available: %s\n", optarg, _available); \
-				return -1; \
-			} \
-			break; \
-		}
-
-#	define OPT_CTL_DEFAULT_NOBREAK(_dest) { \
-			dev->ctl._dest.mode = CTL_MODE_DEFAULT; \
-		}
-
-#	define OPT_CTL_MANUAL(_dest) { \
-			if (!strcasecmp(optarg, "default")) { \
-				OPT_CTL_DEFAULT_NOBREAK(_dest); \
-			} else { \
-				dev->ctl._dest.mode = CTL_MODE_VALUE; \
-				OPT_NUMBER("--"#_dest, dev->ctl._dest.value, INT_MIN, INT_MAX, 0); \
-			} \
-			break; \
-		}
-
-#	define OPT_CTL_AUTO(_dest) { \
-			if (!strcasecmp(optarg, "default")) { \
-				OPT_CTL_DEFAULT_NOBREAK(_dest); \
-			} else if (!strcasecmp(optarg, "auto")) { \
-				dev->ctl._dest.mode = CTL_MODE_AUTO; \
-			} else { \
-				dev->ctl._dest.mode = CTL_MODE_VALUE; \
-				OPT_NUMBER("--"#_dest, dev->ctl._dest.value, INT_MIN, INT_MAX, 0); \
-			} \
-			break; \
-		}
-
-	char *blank_path = NULL;
-
-#	define ADD_SINK(_prefix) \
-		char *_prefix##_name = NULL; \
-		mode_t _prefix##_mode = 0660; \
-		bool _prefix##_rm = false; \
-		unsigned _prefix##_client_ttl = 10; \
-		unsigned _prefix##_timeout = 1;
-	ADD_SINK(sink);
-	ADD_SINK(raw_sink);
-#	ifdef WITH_OMX
-	ADD_SINK(h264_sink);
-#	endif
-#	undef ADD_SINK
-
-#	ifdef WITH_SETPROCTITLE
-	char *process_name_prefix = NULL;
-#	endif
-
-	char short_opts[128];
-	build_short_options(_LONG_OPTS, short_opts, 128);
-
-	for (int ch; (ch = getopt_long(options->argc, options->argv_copy, short_opts, _LONG_OPTS, NULL)) >= 0;) {
-		switch (ch) {
-			case _O_DEVICE:			OPT_SET(dev->path, optarg);
-			case _O_INPUT:			OPT_NUMBER("--input", dev->input, 0, 128, 0);
-			case _O_RESOLUTION:		OPT_RESOLUTION("--resolution", dev->width, dev->height, true);
-#			pragma GCC diagnostic ignored "-Wsign-compare"
-#			pragma GCC diagnostic push
-			case _O_FORMAT:			OPT_PARSE("pixel format", dev->format, device_parse_format, FORMAT_UNKNOWN, FORMATS_STR);
-#			pragma GCC diagnostic pop
-			case _O_TV_STANDARD:	OPT_PARSE("TV standard", dev->standard, device_parse_standard, STANDARD_UNKNOWN, STANDARDS_STR);
-			case _O_IO_METHOD:		OPT_PARSE("IO method", dev->io_method, device_parse_io_method, IO_METHOD_UNKNOWN, IO_METHODS_STR);
-			case _O_DESIRED_FPS:	OPT_NUMBER("--desired-fps", dev->desired_fps, 0, VIDEO_MAX_FPS, 0);
-			case _O_MIN_FRAME_SIZE:	OPT_NUMBER("--min-frame-size", dev->min_frame_size, 1, 8192, 0);
-			case _O_PERSISTENT:		OPT_SET(dev->persistent, true);
-			case _O_DV_TIMINGS:		OPT_SET(dev->dv_timings, true);
-			case _O_BUFFERS:		OPT_NUMBER("--buffers", dev->n_bufs, 1, 32, 0);
-			case _O_WORKERS:		OPT_NUMBER("--workers", enc->n_workers, 1, 32, 0);
-			case _O_QUALITY:		OPT_NUMBER("--quality", dev->jpeg_quality, 1, 100, 0);
-			case _O_ENCODER:		OPT_PARSE("encoder type", enc->type, encoder_parse_type, ENCODER_TYPE_UNKNOWN, ENCODER_TYPES_STR);
-#			ifdef WITH_OMX
-			case _O_GLITCHED_RESOLUTIONS: break;
-#			endif
-			case _O_BLANK:				OPT_SET(blank_path, optarg);
-			case _O_LAST_AS_BLANK:		OPT_NUMBER("--last-as-blank", stream->last_as_blank, 0, 86400, 0);
-			case _O_SLOWDOWN:			OPT_SET(stream->slowdown, true);
-			case _O_DEVICE_TIMEOUT:		OPT_NUMBER("--device-timeout", dev->timeout, 1, 60, 0);
-			case _O_DEVICE_ERROR_DELAY:	OPT_NUMBER("--device-error-delay", stream->error_delay, 1, 60, 0);
-
-			case _O_IMAGE_DEFAULT:
-				OPT_CTL_DEFAULT_NOBREAK(brightness);
-				OPT_CTL_DEFAULT_NOBREAK(contrast);
-				OPT_CTL_DEFAULT_NOBREAK(saturation);
-				OPT_CTL_DEFAULT_NOBREAK(hue);
-				OPT_CTL_DEFAULT_NOBREAK(gamma);
-				OPT_CTL_DEFAULT_NOBREAK(sharpness);
-				OPT_CTL_DEFAULT_NOBREAK(backlight_compensation);
-				OPT_CTL_DEFAULT_NOBREAK(white_balance);
-				OPT_CTL_DEFAULT_NOBREAK(gain);
-				OPT_CTL_DEFAULT_NOBREAK(color_effect);
-				OPT_CTL_DEFAULT_NOBREAK(rotate);
-				OPT_CTL_DEFAULT_NOBREAK(flip_vertical);
-				OPT_CTL_DEFAULT_NOBREAK(flip_horizontal);
-				break;
-			case _O_BRIGHTNESS:				OPT_CTL_AUTO(brightness);
-			case _O_CONTRAST:				OPT_CTL_MANUAL(contrast);
-			case _O_SATURATION:				OPT_CTL_MANUAL(saturation);
-			case _O_HUE:					OPT_CTL_AUTO(hue);
-			case _O_GAMMA:					OPT_CTL_MANUAL(gamma);
-			case _O_SHARPNESS:				OPT_CTL_MANUAL(sharpness);
-			case _O_BACKLIGHT_COMPENSATION:	OPT_CTL_MANUAL(backlight_compensation);
-			case _O_WHITE_BALANCE:			OPT_CTL_AUTO(white_balance);
-			case _O_GAIN:					OPT_CTL_AUTO(gain);
-			case _O_COLOR_EFFECT:			OPT_CTL_MANUAL(color_effect);
-			case _O_ROTATE:			 	OPT_CTL_MANUAL(rotate);
-			case _O_FLIP_VERTICAL:			OPT_CTL_MANUAL(flip_vertical);
-			case _O_FLIP_HORIZONTAL:		OPT_CTL_MANUAL(flip_horizontal);
-
-			case _O_HOST:				OPT_SET(server->host, optarg);
-			case _O_PORT:				OPT_NUMBER("--port", server->port, 1, 65535, 0);
-			case _O_UNIX:				OPT_SET(server->unix_path, optarg);
-			case _O_UNIX_RM:			OPT_SET(server->unix_rm, true);
-			case _O_UNIX_MODE:			OPT_NUMBER("--unix-mode", server->unix_mode, INT_MIN, INT_MAX, 8);
-#			ifdef WITH_SYSTEMD
-			case _O_SYSTEMD:			OPT_SET(server->systemd, true);
-#			endif
-			case _O_USER:				OPT_SET(server->user, optarg);
-			case _O_PASSWD:				OPT_SET(server->passwd, optarg);
-			case _O_STATIC:				OPT_SET(server->static_path, optarg);
-			case _O_DROP_SAME_FRAMES:	OPT_NUMBER("--drop-same-frames", server->drop_same_frames, 0, VIDEO_MAX_FPS, 0);
-			case _O_FAKE_RESOLUTION:	OPT_RESOLUTION("--fake-resolution", server->fake_width, server->fake_height, false);
-			case _O_ALLOW_ORIGIN:		OPT_SET(server->allow_origin, optarg);
-			case _O_TCP_NODELAY:		OPT_SET(server->tcp_nodelay, true);
-			case _O_SERVER_TIMEOUT:		OPT_NUMBER("--server-timeout", server->timeout, 1, 60, 0);
-
-#			define ADD_SINK(_opt, _lp, _up) \
-				case _O_##_up:				OPT_SET(_lp##_name, optarg); \
-				case _O_##_up##_MODE:		OPT_NUMBER("--" #_opt "sink-mode", _lp##_mode, INT_MIN, INT_MAX, 8); \
-				case _O_##_up##_RM:			OPT_SET(_lp##_rm, true); \
-				case _O_##_up##_CLIENT_TTL:	OPT_NUMBER("--" #_opt "sink-client-ttl", _lp##_client_ttl, 1, 60, 0); \
-				case _O_##_up##_TIMEOUT:	OPT_NUMBER("--" #_opt "sink-timeout", _lp##_timeout, 1, 60, 0);
-			ADD_SINK("", sink, SINK)
-			ADD_SINK("raw-", raw_sink, RAW_SINK)
-#			ifdef WITH_OMX
-			ADD_SINK("h264-", h264_sink, H264_SINK)
-			case _O_H264_BITRATE:	OPT_NUMBER("--h264-bitrate", stream->h264_bitrate, 25, 25000, 0);
-			case _O_H264_GOP:		OPT_NUMBER("--h264-gop", stream->h264_gop, 0, 60, 0);
-#			endif
-#			undef ADD_SINK
-
-#			ifdef WITH_GPIO
-			case _O_GPIO_DEVICE:			OPT_SET(us_gpio.path, optarg);
-			case _O_GPIO_CONSUMER_PREFIX:	OPT_SET(us_gpio.consumer_prefix, optarg);
-			case _O_GPIO_PROG_RUNNING:		OPT_NUMBER("--gpio-prog-running", us_gpio.prog_running.pin, 0, 256, 0);
-			case _O_GPIO_STREAM_ONLINE:		OPT_NUMBER("--gpio-stream-online", us_gpio.stream_online.pin, 0, 256, 0);
-			case _O_GPIO_HAS_HTTP_CLIENTS:	OPT_NUMBER("--gpio-has-http-clients", us_gpio.has_http_clients.pin, 0, 256, 0);
-#			endif
-
-#			ifdef HAS_PDEATHSIG
-			case _O_EXIT_ON_PARENT_DEATH:
-				if (process_track_parent_death() < 0) {
-					return -1;
-				};
-				break;
-#			endif
-			case _O_EXIT_ON_NO_CLIENTS:		OPT_NUMBER("--exit-on-no-clients", server->exit_on_no_clients, 0, 86400, 0);
-#			ifdef WITH_SETPROCTITLE
-			case _O_PROCESS_NAME_PREFIX:	OPT_SET(process_name_prefix, optarg);
-#			endif
-			case _O_NOTIFY_PARENT:			OPT_SET(server->notify_parent, true);
-
-			case _O_LOG_LEVEL:			OPT_NUMBER("--log-level", us_log_level, LOG_LEVEL_INFO, LOG_LEVEL_DEBUG, 0);
-			case _O_PERF:				OPT_SET(us_log_level, LOG_LEVEL_PERF);
-			case _O_VERBOSE:			OPT_SET(us_log_level, LOG_LEVEL_VERBOSE);
-			case _O_DEBUG:				OPT_SET(us_log_level, LOG_LEVEL_DEBUG);
-			case _O_FORCE_LOG_COLORS:	OPT_SET(us_log_colored, true);
-			case _O_NO_LOG_COLORS:		OPT_SET(us_log_colored, false);
-
-			case _O_HELP:		_help(stdout, dev, enc, stream, server); return 1;
-			case _O_VERSION:	puts(VERSION); return 1;
-			case _O_FEATURES:	_features(); return 1;
-
-			case 0:		break;
-			default:	return -1;
-		}
-	}
-
-	options->blank = blank_frame_init(blank_path);
-	stream->blank = options->blank;
-
-#	define ADD_SINK(_label, _prefix) { \
-			if (_prefix##_name && _prefix##_name[0] != '\0') { \
-				options->_prefix = memsink_init( \
-					_label, \
-					_prefix##_name, \
-					true, \
-					_prefix##_mode, \
-					_prefix##_rm, \
-					_prefix##_client_ttl, \
-					_prefix##_timeout \
-				); \
-			} \
-			stream->_prefix = options->_prefix; \
-		}
-	ADD_SINK("JPEG", sink);
-	ADD_SINK("RAW", raw_sink);
-#	ifdef WITH_OMX
-	ADD_SINK("H264", h264_sink);
-#	endif
-#	undef ADD_SINK
-
-#	ifdef WITH_SETPROCTITLE
-	if (process_name_prefix != NULL) {
-		process_set_name_prefix(options->argc, options->argv, process_name_prefix);
-	}
-#	endif
-
-#	undef OPT_CTL_AUTO
-#	undef OPT_CTL_MANUAL
-#	undef OPT_CTL_DEFAULT_NOBREAK
-#	undef OPT_PARSE
-#	undef OPT_RESOLUTION
-#	undef OPT_NUMBER
-#	undef OPT_SET
-	return 0;
-}
-
-static int _parse_resolution(const char *str, unsigned *width, unsigned *height, bool limited) {
-	unsigned tmp_width;
-	unsigned tmp_height;
-	if (sscanf(str, "%ux%u", &tmp_width, &tmp_height) != 2) {
-		return -1;
-	}
-	if (limited) {
-		if (tmp_width < VIDEO_MIN_WIDTH || tmp_width > VIDEO_MAX_WIDTH) {
-			return -2;
-		}
-		if (tmp_height < VIDEO_MIN_HEIGHT || tmp_height > VIDEO_MAX_HEIGHT) {
-			return -3;
-		}
-	}
-	*width = tmp_width;
-	*height = tmp_height;
-	return 0;
-}
-
-static void _features(void) {
-#	ifdef WITH_OMX
-	puts("+ WITH_OMX");
-#	else
-	puts("- WITH_OMX");
-#	endif
-
-#	ifdef WITH_GPIO
-	puts("+ WITH_GPIO");
-#	else
-	puts("- WITH_GPIO");
-#	endif
-
-#	ifdef WITH_SYSTEMD
-	puts("+ WITH_SYSTEMD");
-#	else
-	puts("- WITH_SYSTEMD");
-#	endif
-
-#	ifdef WITH_PTHREAD_NP
-	puts("+ WITH_PTHREAD_NP");
-#	else
-	puts("- WITH_PTHREAD_NP");
-#	endif
-
-#	ifdef WITH_SETPROCTITLE
-	puts("+ WITH_SETPROCTITLE");
-#	else
-	puts("- WITH_SETPROCTITLE");
-#	endif
-
-#	ifdef HAS_PDEATHSIG
-	puts("+ HAS_PDEATHSIG");
-#	else
-	puts("- HAS_PDEATHSIG");
-#	endif
-}
-
-static void _help(FILE *fp, device_s *dev, encoder_s *enc, stream_s *stream, server_s *server) {
-#	define SAY(_msg, ...) fprintf(fp, _msg "\n", ##__VA_ARGS__)
-	SAY("\nuStreamer - Lightweight and fast MJPG-HTTP streamer");
-	SAY("═══════════════════════════════════════════════════");
-	SAY("Version: %s; license: GPLv3", VERSION);
-	SAY("Copyright (C) 2018-2021 Maxim Devaev <mdevaev@gmail.com>\n");
-	SAY("Capturing options:");
-	SAY("══════════════════");
-	SAY("    -d|--device </dev/path>  ───────────── Path to V4L2 device. Default: %s.\n", dev->path);
-	SAY("    -i|--input <N>  ────────────────────── Input channel. Default: %u.\n", dev->input);
-	SAY("    -r|--resolution <WxH>  ─────────────── Initial image resolution. Default: %ux%u.\n", dev->width, dev->height);
-	SAY("    -m|--format <fmt>  ─────────────────── Image format.");
-	SAY("                                           Available: %s; default: YUYV.\n", FORMATS_STR);
-	SAY("    -a|--tv-standard <std>  ────────────── Force TV standard.");
-	SAY("                                           Available: %s; default: disabled.\n", STANDARDS_STR);
-	SAY("    -I|--io-method <method>  ───────────── Set V4L2 IO method (see kernel documentation).");
-	SAY("                                           Changing of this parameter may increase the performance. Or not.");
-	SAY("                                           Available: %s; default: MMAP.\n", IO_METHODS_STR);
-	SAY("    -f|--desired-fps <N>  ──────────────── Desired FPS. Default: maximum possible.\n");
-	SAY("    -z|--min-frame-size <N>  ───────────── Drop frames smaller then this limit. Useful if the device");
-	SAY("                                           produces small-sized garbage frames. Default: %zu bytes.\n", dev->min_frame_size);
-	SAY("    -n|--persistent  ───────────────────── Don't re-initialize device on timeout. Default: disabled.\n");
-	SAY("    -t|--dv-timings  ───────────────────── Enable DV timings querying and events processing");
-	SAY("                                           to automatic resolution change. Default: disabled.\n");
-	SAY("    -b|--buffers <N>  ──────────────────── The number of buffers to receive data from the device.");
-	SAY("                                           Each buffer may processed using an independent thread.");
-	SAY("                                           Default: %u (the number of CPU cores (but not more than 4) + 1).\n", dev->n_bufs);
-	SAY("    -w|--workers <N>  ──────────────────── The number of worker threads but not more than buffers.");
-	SAY("                                           Default: %u (the number of CPU cores (but not more than 4)).\n", enc->n_workers);
-	SAY("    -q|--quality <N>  ──────────────────── Set quality of JPEG encoding from 1 to 100 (best). Default: %u.", dev->jpeg_quality);
-	SAY("                                           Note: If HW encoding is used (JPEG source format selected),");
-	SAY("                                           this parameter attempts to configure the camera");
-	SAY("                                           or capture device hardware's internal encoder.");
-	SAY("                                           It does not re-encode MJPG to MJPG to change the quality level");
-	SAY("                                           for sources that already output MJPG.\n");
-	SAY("    -c|--encoder <type>  ───────────────── Use specified encoder. It may affect the number of workers.");
-	SAY("                                           Available:");
-	SAY("                                             * CPU  ── Software MJPG encoding (default);");
-#	ifdef WITH_OMX
-	SAY("                                             * OMX  ── GPU hardware accelerated MJPG encoding with OpenMax;");
-#	endif
-	SAY("                                             * HW  ─── Use pre-encoded MJPG frames directly from camera hardware.");
-	SAY("                                             * NOOP  ─ Don't compress MJPG stream (do nothing).\n");
-#	ifdef WITH_OMX
-	SAY("    -g|--glitched-resolutions <WxH,...>  ─ It doesn't do anything. Still here for compatibility.\n");
-#	endif
-	SAY("    -k|--blank <path>  ─────────────────── Path to JPEG file that will be shown when the device is disconnected");
-	SAY("                                           during the streaming. Default: black screen 640x480 with 'NO SIGNAL'.\n");
-	SAY("    -K|--last-as-blank <sec>  ──────────── Show the last frame received from the camera after it was disconnected,");
-	SAY("                                           but no more than specified time (or endlessly if 0 is specified).");
-	SAY("                                           If the device has not yet been online, display 'NO SIGNAL' or the image");
-	SAY("                                           specified by option --blank. Default: disabled.");
-	SAY("                                           Note: currently this option has no effect on memory sinks.\n");
-	SAY("    -l|--slowdown  ─────────────────────── Slowdown capturing to 1 FPS or less when no stream or sink clients");
-	SAY("                                           are connected. Useful to reduce CPU consumption. Default: disabled.\n");
-	SAY("    --device-timeout <sec>  ────────────── Timeout for device querying. Default: %u.\n", dev->timeout);
-	SAY("    --device-error-delay <sec>  ────────── Delay before trying to connect to the device again");
-	SAY("                                           after an error (timeout for example). Default: %u.\n", stream->error_delay);
-	SAY("Image control options:");
-	SAY("══════════════════════");
-	SAY("    --image-default  ────────────────────── Reset all image settings below to default. Default: no change.\n");
-	SAY("    --brightness <N|auto|default>  ──────── Set brightness. Default: no change.\n");
-	SAY("    --contrast <N|default>  ─────────────── Set contrast. Default: no change.\n");
-	SAY("    --saturation <N|default>  ───────────── Set saturation. Default: no change.\n");
-	SAY("    --hue <N|auto|default>  ─────────────── Set hue. Default: no change.\n");
-	SAY("    --gamma <N|default> ─────────────────── Set gamma. Default: no change.\n");
-	SAY("    --sharpness <N|default>  ────────────── Set sharpness. Default: no change.\n");
-	SAY("    --backlight-compensation <N|default>  ─ Set backlight compensation. Default: no change.\n");
-	SAY("    --white-balance <N|auto|default>  ───── Set white balance. Default: no change.\n");
-	SAY("    --gain <N|auto|default>  ────────────── Set gain. Default: no change.\n");
-	SAY("    --color-effect <N|default>  ─────────── Set color effect. Default: no change.\n");
-	SAY("    --rotate <N|default>  ───────────────── Set rotation. Default: no change.\n");
-	SAY("    --flip-vertical <1|0|default>  ──────── Set vertical flip. Default: no change.\n");
-	SAY("    --flip-horizontal <1|0|default>  ────── Set horizontal flip. Default: no change.\n");
-	SAY("    Hint: use v4l2-ctl --list-ctrls-menus to query available controls of the device.\n");
-	SAY("HTTP server options:");
-	SAY("════════════════════");
-	SAY("    -s|--host <address>  ──────── Listen on Hostname or IP. Default: %s.\n", server->host);
-	SAY("    -p|--port <N>  ────────────── Bind to this TCP port. Default: %u.\n", server->port);
-	SAY("    -U|--unix <path>  ─────────── Bind to UNIX domain socket. Default: disabled.\n");
-	SAY("    -D|--unix-rm  ─────────────── Try to remove old UNIX socket file before binding. Default: disabled.\n");
-	SAY("    -M|--unix-mode <mode>  ────── Set UNIX socket file permissions (like 777). Default: disabled.\n");
-#	ifdef WITH_SYSTEMD
-	SAY("    -S|--systemd  ─────────────── Bind to systemd socket for socket activation.\n");
-#	endif
-	SAY("    --user <name>  ────────────── HTTP basic auth user. Default: disabled.\n");
-	SAY("    --passwd <str>  ───────────── HTTP basic auth passwd. Default: empty.\n");
-	SAY("    --static <path> ───────────── Path to dir with static files instead of embedded root index page.");
-	SAY("                                  Symlinks are not supported for security reasons. Default: disabled.\n");
-	SAY("    -e|--drop-same-frames <N>  ── Don't send identical frames to clients, but no more than specified number.");
-	SAY("                                  It can significantly reduce the outgoing traffic, but will increase");
-	SAY("                                  the CPU loading. Don't use this option with analog signal sources");
-	SAY("                                  or webcams, it's useless. Default: disabled.\n");
-	SAY("    -R|--fake-resolution <WxH>  ─ Override image resolution for the /state. Default: disabled.\n");
-	SAY("    --tcp-nodelay  ────────────── Set TCP_NODELAY flag to the client /stream socket. Only for TCP socket.");
-	SAY("                                  Default: disabled.\n");
-	SAY("    --allow-origin <str>  ─────── Set Access-Control-Allow-Origin header. Default: disabled.\n");
-	SAY("    --server-timeout <sec>  ───── Timeout for client connections. Default: %u.\n", server->timeout);
-#	define ADD_SINK(_name, _opt) \
-		SAY(_name " sink options:"); \
-		SAY("══════════════════"); \
-		SAY("    --" _opt "sink <name>  ─────────── Use the shared memory to sink " _name " frames. Default: disabled.\n"); \
-		SAY("    --" _opt "sink-mode <mode>  ────── Set " _name " sink permissions (like 777). Default: 660.\n"); \
-		SAY("    --" _opt "sink-rm  ─────────────── Remove shared memory on stop. Default: disabled.\n"); \
-		SAY("    --" _opt "sink-client-ttl <sec>  ─ Client TTL. Default: 10.\n"); \
-		SAY("    --" _opt "sink-timeout <sec>  ──── Timeout for lock. Default: 1.\n");
-	ADD_SINK("JPEG", "")
-	ADD_SINK("RAW", "raw-")
-#	ifdef WITH_OMX
-	ADD_SINK("H264", "h264-")
-	SAY("    --h264-bitrate <kbps>  ──────── H264 bitrate in Kbps. Default: %u.\n", stream->h264_bitrate);
-	SAY("    --h264-gop <N>  ─────────────── Intarval between keyframes. Default: %u.\n", stream->h264_gop);
-#	endif
-#	undef ADD_SINK
-#	ifdef WITH_GPIO
-	SAY("GPIO options:");
-	SAY("═════════════");
-	SAY("    --gpio-device </dev/path>  ───── Path to GPIO character device. Default: %s.\n", us_gpio.path);
-	SAY("    --gpio-consumer-prefix <str>  ── Consumer prefix for GPIO outputs. Default: %s.\n", us_gpio.consumer_prefix);
-	SAY("    --gpio-prog-running <pin>  ───── Set 1 on GPIO pin while uStreamer is running. Default: disabled.\n");
-	SAY("    --gpio-stream-online <pin>  ──── Set 1 while streaming. Default: disabled.\n");
-	SAY("    --gpio-has-http-clients <pin>  ─ Set 1 while stream has at least one client. Default: disabled.\n");
-#	endif
-#	if (defined(HAS_PDEATHSIG) || defined(WITH_SETPROCTITLE))
-	SAY("Process options:");
-	SAY("════════════════");
-#	endif
-#	ifdef HAS_PDEATHSIG
-	SAY("    --exit-on-parent-death  ─────── Exit the program if the parent process is dead. Default: disabled.\n");
-#	endif
-	SAY("    --exit-on-no-clients <sec> ──── Exit the program if there have been no stream or sink clients");
-	SAY("                                    or any HTTP requests in the last N seconds. Default: 0 (disabled)\n");
-#	ifdef WITH_SETPROCTITLE
-	SAY("    --process-name-prefix <str>  ── Set process name prefix which will be displayed in the process list");
-	SAY("                                    like '<str>: ustreamer --blah-blah-blah'. Default: disabled.\n");
-	SAY("    --notify-parent  ────────────── Send SIGUSR2 to the parent process when the stream parameters are changed.");
-	SAY("                                    Checking changes is performed for the online flag and image resolution.\n");
-#	endif
-	SAY("Logging options:");
-	SAY("════════════════");
-	SAY("    --log-level <N>  ──── Verbosity level of messages from 0 (info) to 3 (debug).");
-	SAY("                          Enabling debugging messages can slow down the program.");
-	SAY("                          Available levels: 0 (info), 1 (performance), 2 (verbose), 3 (debug).");
-	SAY("                          Default: %d.\n", us_log_level);
-	SAY("    --perf  ───────────── Enable performance messages (same as --log-level=1). Default: disabled.\n");
-	SAY("    --verbose  ────────── Enable verbose messages and lower (same as --log-level=2). Default: disabled.\n");
-	SAY("    --debug  ──────────── Enable debug messages and lower (same as --log-level=3). Default: disabled.\n");
-	SAY("    --force-log-colors  ─ Force color logging. Default: colored if stderr is a TTY.\n");
-	SAY("    --no-log-colors  ──── Disable color logging. Default: ditto.\n");
-	SAY("Help options:");
-	SAY("═════════════");
-	SAY("    -h|--help  ─────── Print this text and exit.\n");
-	SAY("    -v|--version  ──── Print version and exit.\n");
-	SAY("    --features  ────── Print list of supported features.\n");
-#	undef SAY
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/options.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/options.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/options.h	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/options.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,68 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <stdbool.h>
-#include <string.h>
-#include <strings.h>
-#include <limits.h>
-#include <getopt.h>
-#include <errno.h>
-#include <assert.h>
-
-#include "../libs/config.h"
-#include "../libs/logging.h"
-#include "../libs/process.h"
-#include "../libs/frame.h"
-#include "../libs/memsink.h"
-#include "../libs/options.h"
-
-#include "device.h"
-#include "encoder.h"
-#include "blank.h"
-#include "stream.h"
-#include "http/server.h"
-#ifdef WITH_GPIO
-#	include "gpio/gpio.h"
-#endif
-
-
-typedef struct {
-	unsigned	argc;
-	char		**argv;
-	char		**argv_copy;
-	frame_s		*blank;
-	memsink_s	*sink;
-	memsink_s	*raw_sink;
-#	ifdef WITH_OMX
-	memsink_s	*h264_sink;
-#	endif
-} options_s;
-
-
-options_s *options_init(unsigned argc, char *argv[]);
-void options_destroy(options_s *options);
-
-int options_parse(options_s *options, device_s *dev, encoder_s *enc, stream_s *stream, server_s *server);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/stream.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/stream.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/stream.c	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/stream.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,379 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "stream.h"
-
-
-static workers_pool_s *_stream_init_loop(stream_s *stream);
-static workers_pool_s *_stream_init_one(stream_s *stream);
-static void _stream_expose_frame(stream_s *stream, frame_s *frame, unsigned captured_fps);
-
-
-#define RUN(_next) stream->run->_next
-
-#define SINK_PUT(_sink, _frame) { \
-		if (stream->_sink && memsink_server_check(stream->_sink, _frame)) {\
-			memsink_server_put(stream->_sink, _frame); \
-		} \
-	}
-
-#ifdef WITH_OMX
-#	define H264_PUT(_frame, _vcsm_handle, _force_key) { \
-			if (RUN(h264)) { \
-				h264_stream_process(RUN(h264), _frame, _vcsm_handle, _force_key); \
-			} \
-		}
-#endif
-
-
-stream_s *stream_init(device_s *dev, encoder_s *enc) {
-	stream_runtime_s *run;
-	A_CALLOC(run, 1);
-	atomic_init(&run->stop, false);
-
-	video_s *video;
-	A_CALLOC(video, 1);
-	video->frame = frame_init();
-	atomic_init(&video->updated, false);
-	A_MUTEX_INIT(&video->mutex);
-	atomic_init(&video->has_clients, false);
-	run->video = video;
-
-	stream_s *stream;
-	A_CALLOC(stream, 1);
-	stream->dev = dev;
-	stream->enc = enc;
-	stream->last_as_blank = -1;
-	stream->error_delay = 1;
-#	ifdef WITH_OMX
-	stream->h264_bitrate = 5000; // Kbps
-	stream->h264_gop = 30;
-#	endif
-	stream->run = run;
-	return stream;
-}
-
-void stream_destroy(stream_s *stream) {
-	A_MUTEX_DESTROY(&RUN(video->mutex));
-	frame_destroy(RUN(video->frame));
-	free(RUN(video));
-	free(stream->run);
-	free(stream);
-}
-
-void stream_loop(stream_s *stream) {
-	assert(stream->blank);
-
-	LOG_INFO("Using V4L2 device: %s", stream->dev->path);
-	LOG_INFO("Using desired FPS: %u", stream->dev->desired_fps);
-
-#	ifdef WITH_OMX
-	if (stream->h264_sink) {
-		RUN(h264) = h264_stream_init(stream->h264_sink, stream->h264_bitrate, stream->h264_gop);
-	}
-#	endif
-
-	for (workers_pool_s *pool; (pool = _stream_init_loop(stream)) != NULL;) {
-		long double grab_after = 0;
-		unsigned fluency_passed = 0;
-		unsigned captured_fps = 0;
-		unsigned captured_fps_accum = 0;
-		long long captured_fps_second = 0;
-
-		LOG_INFO("Capturing ...");
-
-		while (!atomic_load(&RUN(stop))) {
-			SEP_DEBUG('-');
-			LOG_DEBUG("Waiting for worker ...");
-
-			worker_s *ready_wr = workers_pool_wait(pool);
-			encoder_job_s *ready_job = (encoder_job_s *)(ready_wr->job);
-
-			if (ready_job->hw) {
-				if (device_release_buffer(stream->dev, ready_job->hw) < 0) {
-					ready_wr->job_failed = true;
-				}
-				ready_job->hw = NULL;
-
-				if (!ready_wr->job_failed) {
-					if (ready_wr->job_timely) {
-						_stream_expose_frame(stream, ready_job->dest, captured_fps);
-						LOG_PERF("##### Encoded frame exposed; worker=%s", ready_wr->name);
-					} else {
-						LOG_PERF("----- Encoded frame dropped; worker=%s", ready_wr->name);
-					}
-				} else {
-					break;
-				}
-			}
-
-#			ifdef WITH_OMX
-			bool h264_force_key = false;
-#			endif
-			if (stream->slowdown) {
-				unsigned slc = 0;
-				for (; slc < 10 && !atomic_load(&RUN(stop)) && !stream_has_clients(stream); ++slc) {
-					usleep(100000);
-					++slc;
-				}
-#				ifdef WITH_OMX
-				h264_force_key = (slc == 10);
-#				endif
-			}
-
-			if (atomic_load(&RUN(stop))) {
-				break;
-			}
-
-			bool has_read;
-			bool has_write;
-			bool has_error;
-			int selected = device_select(stream->dev, &has_read, &has_write, &has_error);
-
-			if (selected < 0) {
-				if (errno != EINTR) {
-					LOG_PERROR("Mainloop select() error");
-					break;
-				}
-			} else if (selected == 0) { // Persistent timeout
-#				ifdef WITH_GPIO
-				gpio_set_stream_online(false);
-#				endif
-			} else {
-				if (has_read) {
-					LOG_DEBUG("Frame is ready");
-
-#					ifdef WITH_GPIO
-					gpio_set_stream_online(true);
-#					endif
-
-					const long double now = get_now_monotonic();
-					const long long now_second = floor_ms(now);
-
-					hw_buffer_s *hw;
-					int buf_index = device_grab_buffer(stream->dev, &hw);
-
-					if (buf_index >= 0) {
-						if (now < grab_after) {
-							fluency_passed += 1;
-							LOG_VERBOSE("Passed %u frames for fluency: now=%.03Lf, grab_after=%.03Lf",
-								fluency_passed, now, grab_after);
-							if (device_release_buffer(stream->dev, hw) < 0) {
-								break;
-							}
-						} else {
-							fluency_passed = 0;
-
-							if (now_second != captured_fps_second) {
-								captured_fps = captured_fps_accum;
-								captured_fps_accum = 0;
-								captured_fps_second = now_second;
-								LOG_PERF_FPS("A new second has come; captured_fps=%u", captured_fps);
-							}
-							captured_fps_accum += 1;
-
-							const long double fluency_delay = workers_pool_get_fluency_delay(pool, ready_wr);
-							grab_after = now + fluency_delay;
-							LOG_VERBOSE("Fluency: delay=%.03Lf, grab_after=%.03Lf", fluency_delay, grab_after);
-
-							ready_job->hw = hw;
-							workers_pool_assign(pool, ready_wr);
-							LOG_DEBUG("Assigned new frame in buffer %d to worker %s", buf_index, ready_wr->name);
-
-							SINK_PUT(raw_sink, &hw->raw);
-#							ifdef WITH_OMX
-							H264_PUT(&hw->raw, hw->vcsm_handle, h264_force_key);
-#							endif
-						}
-					} else if (buf_index != -2) { // -2 for broken frame
-						break;
-					}
-				}
-
-				if (has_write) {
-					LOG_ERROR("Got unexpected writing event, seems device was disconnected");
-					break;
-				}
-
-				if (has_error) {
-					LOG_INFO("Got V4L2 event");
-					if (device_consume_event(stream->dev) < 0) {
-						break;
-					}
-				}
-			}
-		}
-
-		workers_pool_destroy(pool);
-		device_switch_capturing(stream->dev, false);
-		device_close(stream->dev);
-
-#		ifdef WITH_GPIO
-		gpio_set_stream_online(false);
-#		endif
-	}
-
-#	ifdef WITH_OMX
-	if (RUN(h264)) {
-		h264_stream_destroy(RUN(h264));
-	}
-#	endif
-}
-
-void stream_loop_break(stream_s *stream) {
-	atomic_store(&RUN(stop), true);
-}
-
-bool stream_has_clients(stream_s *stream) {
-	return (
-		atomic_load(&RUN(video->has_clients))
-		// has_clients синков НЕ обновляются в реальном времени
-		|| (stream->sink != NULL && atomic_load(&stream->sink->has_clients))
-#		ifdef WITH_OMX
-		|| (RUN(h264) != NULL && /*RUN(h264->sink) == NULL ||*/ atomic_load(&RUN(h264->sink->has_clients)))
-#		endif
-	);
-}
-
-static workers_pool_s *_stream_init_loop(stream_s *stream) {
-
-	workers_pool_s *pool = NULL;
-	int access_error = 0;
-
-	LOG_DEBUG("%s: stream->run->stop=%d", __FUNCTION__, atomic_load(&RUN(stop)));
-
-	while (!atomic_load(&RUN(stop))) {
-		_stream_expose_frame(stream, NULL, 0);
-
-		if (access(stream->dev->path, R_OK|W_OK) < 0) {
-			if (access_error != errno) {
-				SEP_INFO('=');
-				LOG_PERROR("Can't access device");
-				LOG_INFO("Waiting for the device access ...");
-				access_error = errno;
-			}
-			sleep(stream->error_delay);
-			continue;
-		} else {
-			SEP_INFO('=');
-			access_error = 0;
-		}
-
-		if ((pool = _stream_init_one(stream)) == NULL) {
-			LOG_INFO("Sleeping %u seconds before new stream init ...", stream->error_delay);
-			sleep(stream->error_delay);
-		} else {
-			break;
-		}
-	}
-	return pool;
-}
-
-static workers_pool_s *_stream_init_one(stream_s *stream) {
-	if (device_open(stream->dev) < 0) {
-		goto error;
-	}
-#	ifdef WITH_OMX
-	if (RUN(h264) && !is_jpeg(stream->dev->run->format)) {
-		device_export_to_vcsm(stream->dev);
-	}
-#	endif
-	if (device_switch_capturing(stream->dev, true) < 0) {
-		goto error;
-	}
-	return encoder_workers_pool_init(stream->enc, stream->dev);
-	error:
-		device_close(stream->dev);
-		return NULL;
-}
-
-static void _stream_expose_frame(stream_s *stream, frame_s *frame, unsigned captured_fps) {
-#	define VID(_next) RUN(video->_next)
-
-	frame_s *new = NULL;
-
-	A_MUTEX_LOCK(&VID(mutex));
-
-	if (frame) {
-		new = frame;
-		RUN(last_as_blank_ts) = 0; // Останавливаем таймер
-		LOG_DEBUG("Exposed ALIVE video frame");
-
-	} else {
-		if (VID(frame->used == 0)) {
-			new = stream->blank; // Инициализация
-			RUN(last_as_blank_ts) = 0;
-
-		} else if (VID(frame->online)) { // Если переходим из online в offline
-			if (stream->last_as_blank < 0) { // Если last_as_blank выключен, просто покажем старую картинку
-				new = stream->blank;
-				LOG_INFO("Changed video frame to BLANK");
-			} else if (stream->last_as_blank > 0) { // // Если нужен таймер - запустим
-				RUN(last_as_blank_ts) = get_now_monotonic() + stream->last_as_blank;
-				LOG_INFO("Freezed last ALIVE video frame for %d seconds", stream->last_as_blank);
-			} else {  // last_as_blank == 0 - показываем последний фрейм вечно
-				LOG_INFO("Freezed last ALIVE video frame forever");
-			}
-
-		} else if (stream->last_as_blank < 0) {
-			new = stream->blank;
-			// LOG_INFO("Changed video frame to BLANK");
-		}
-
-		if ( // Если уже оффлайн, включена фича last_as_blank с таймером и он запущен
-			stream->last_as_blank > 0
-			&& RUN(last_as_blank_ts) != 0
-			&& RUN(last_as_blank_ts) < get_now_monotonic()
-		) {
-			new = stream->blank;
-			RUN(last_as_blank_ts) = 0; // // Останавливаем таймер
-			LOG_INFO("Changed last ALIVE video frame to BLANK");
-		}
-	}
-
-	if (new) {
-		frame_copy(new, VID(frame));
-	}
-	VID(frame->online) = (bool)frame;
-	VID(captured_fps) = captured_fps;
-	atomic_store(&VID(updated), true);
-
-	A_MUTEX_UNLOCK(&VID(mutex));
-
-	new = (frame ? frame : stream->blank);
-	SINK_PUT(sink, new);
-
-	if (frame == NULL) {
-		SINK_PUT(raw_sink, stream->blank);
-#		ifdef WITH_OMX
-		H264_PUT(stream->blank, -1, false);
-#		endif
-	}
-
-#	undef VID
-}
-
-#ifdef WITH_OMX
-#	undef H264_PUT
-#endif
-#undef SINK_PUT
-#undef RUN
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/stream.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/stream.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/stream.h	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/stream.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,101 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdlib.h>
-#include <stdbool.h>
-#include <stdatomic.h>
-#include <unistd.h>
-#include <errno.h>
-#include <assert.h>
-
-#include <pthread.h>
-#include <linux/videodev2.h>
-
-#include "../libs/tools.h"
-#include "../libs/threading.h"
-#include "../libs/logging.h"
-#include "../libs/frame.h"
-#include "../libs/memsink.h"
-
-#include "blank.h"
-#include "device.h"
-#include "encoder.h"
-#include "workers.h"
-#ifdef WITH_OMX
-#	include "h264/stream.h"
-#endif
-#ifdef WITH_GPIO
-#	include "gpio/gpio.h"
-#endif
-
-
-typedef struct {
-	frame_s			*frame;
-	unsigned		captured_fps;
-	atomic_bool		updated;
-	pthread_mutex_t	mutex;
-
-	atomic_bool		has_clients; // For slowdown
-} video_s;
-
-typedef struct {
-	video_s		*video;
-	long double	last_as_blank_ts;
-
-#	ifdef WITH_OMX
-	h264_stream_s *h264;
-#	endif
-
-	atomic_bool stop;
-} stream_runtime_s;
-
-typedef struct {
-	device_s	*dev;
-	encoder_s	*enc;
-
-	frame_s		*blank;
-	int			last_as_blank;
-	bool		slowdown;
-	unsigned	error_delay;
-
-	memsink_s	*sink;
-	memsink_s	*raw_sink;
-
-#	ifdef WITH_OMX
-	memsink_s	*h264_sink;
-	unsigned	h264_bitrate;
-	unsigned	h264_gop;
-#	endif
-
-	stream_runtime_s *run;
-} stream_s;
-
-
-stream_s *stream_init(device_s *dev, encoder_s *enc);
-void stream_destroy(stream_s *stream);
-
-void stream_loop(stream_s *stream);
-void stream_loop_break(stream_s *stream);
-
-bool stream_has_clients(stream_s *stream);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/workers.c /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/workers.c
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/workers.c	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/workers.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,210 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#include "workers.h"
-
-
-static void *_worker_thread(void *v_worker);
-
-
-workers_pool_s *workers_pool_init(
-	const char *name, const char *wr_prefix, unsigned n_workers, long double desired_interval,
-	workers_pool_job_init_f job_init, void *job_init_arg,
-	workers_pool_job_destroy_f job_destroy,
-	workers_pool_run_job_f run_job) {
-
-	LOG_INFO("Creating pool %s with %u workers ...", name, n_workers);
-
-	workers_pool_s *pool;
-	A_CALLOC(pool, 1);
-	pool->name = name;
-	pool->desired_interval = desired_interval;
-	pool->job_destroy = job_destroy;
-	pool->run_job = run_job;
-
-	atomic_init(&pool->stop, false);
-
-	pool->n_workers = n_workers;
-	A_CALLOC(pool->workers, pool->n_workers);
-
-	A_MUTEX_INIT(&pool->free_workers_mutex);
-	A_COND_INIT(&pool->free_workers_cond);
-
-	for (unsigned number = 0; number < pool->n_workers; ++number) {
-#		define WR(_next) pool->workers[number]._next
-
-		WR(number) = number;
-		A_ASPRINTF(WR(name), "%s-%u", wr_prefix, number);
-
-		A_MUTEX_INIT(&WR(has_job_mutex));
-		atomic_init(&WR(has_job), false);
-		A_COND_INIT(&WR(has_job_cond));
-
-		WR(pool) = pool;
-		WR(job) = job_init(job_init_arg);
-
-		A_THREAD_CREATE(&WR(tid), _worker_thread, (void *)&(pool->workers[number]));
-		pool->free_workers += 1;
-
-#		undef WR
-	}
-	return pool;
-}
-
-void workers_pool_destroy(workers_pool_s *pool) {
-	LOG_INFO("Destroying workers pool %s ...", pool->name);
-
-	atomic_store(&pool->stop, true);
-	for (unsigned number = 0; number < pool->n_workers; ++number) {
-#		define WR(_next) pool->workers[number]._next
-
-		A_MUTEX_LOCK(&WR(has_job_mutex));
-		atomic_store(&WR(has_job), true); // Final job: die
-		A_MUTEX_UNLOCK(&WR(has_job_mutex));
-		A_COND_SIGNAL(&WR(has_job_cond));
-
-		A_THREAD_JOIN(WR(tid));
-		A_MUTEX_DESTROY(&WR(has_job_mutex));
-		A_COND_DESTROY(&WR(has_job_cond));
-
-		free(WR(name));
-
-		pool->job_destroy(WR(job));
-
-#		undef WR
-	}
-
-	A_MUTEX_DESTROY(&pool->free_workers_mutex);
-	A_COND_DESTROY(&pool->free_workers_cond);
-
-	free(pool->workers);
-	free(pool);
-}
-
-worker_s *workers_pool_wait(workers_pool_s *pool) {
-	worker_s *ready_wr = NULL;
-
-	A_MUTEX_LOCK(&pool->free_workers_mutex);
-	A_COND_WAIT_TRUE(pool->free_workers, &pool->free_workers_cond, &pool->free_workers_mutex);
-	A_MUTEX_UNLOCK(&pool->free_workers_mutex);
-
-	if (pool->oldest_wr && !atomic_load(&pool->oldest_wr->has_job)) {
-		ready_wr = pool->oldest_wr;
-		ready_wr->job_timely = true;
-		pool->oldest_wr = pool->oldest_wr->next_wr;
-	} else {
-		for (unsigned number = 0; number < pool->n_workers; ++number) {
-			if (
-				!atomic_load(&pool->workers[number].has_job) && (
-					ready_wr == NULL
-					|| ready_wr->job_start_ts < pool->workers[number].job_start_ts
-				)
-			) {
-				ready_wr = &pool->workers[number];
-				break;
-			}
-		}
-		assert(ready_wr != NULL);
-		ready_wr->job_timely = false; // Освободился воркер, получивший задание позже (или самый первый при самом первом захвате)
-	}
-	return ready_wr;
-}
-
-void workers_pool_assign(workers_pool_s *pool, worker_s *ready_wr/*, void *job*/) {
-	if (pool->oldest_wr == NULL) {
-		pool->oldest_wr = ready_wr;
-		pool->latest_wr = pool->oldest_wr;
-	} else {
-		if (ready_wr->next_wr) {
-			ready_wr->next_wr->prev_wr = ready_wr->prev_wr;
-		}
-		if (ready_wr->prev_wr) {
-			ready_wr->prev_wr->next_wr = ready_wr->next_wr;
-		}
-		ready_wr->prev_wr = pool->latest_wr;
-		pool->latest_wr->next_wr = ready_wr;
-		pool->latest_wr = ready_wr;
-	}
-	pool->latest_wr->next_wr = NULL;
-
-	A_MUTEX_LOCK(&ready_wr->has_job_mutex);
-	//ready_wr->job = job;
-	atomic_store(&ready_wr->has_job, true);
-	A_MUTEX_UNLOCK(&ready_wr->has_job_mutex);
-	A_COND_SIGNAL(&ready_wr->has_job_cond);
-
-	A_MUTEX_LOCK(&pool->free_workers_mutex);
-	pool->free_workers -= 1;
-	A_MUTEX_UNLOCK(&pool->free_workers_mutex);
-}
-
-long double workers_pool_get_fluency_delay(workers_pool_s *pool, worker_s *ready_wr) {
-	const long double approx_job_time = pool->approx_job_time * 0.9 + ready_wr->last_job_time * 0.1;
-
-	LOG_VERBOSE("Correcting pool's %s approx_job_time: %.3Lf -> %.3Lf (last_job_time=%.3Lf)",
-		pool->name, pool->approx_job_time, approx_job_time, ready_wr->last_job_time);
-
-	pool->approx_job_time = approx_job_time;
-
-	const long double min_delay = pool->approx_job_time / pool->n_workers; // Среднее время работы размазывается на N воркеров
-
-	if (pool->desired_interval > 0 && min_delay > 0 && pool->desired_interval > min_delay) {
-		// Искусственное время задержки на основе желаемого FPS, если включен --desired-fps
-		// и аппаратный fps не попадает точно в желаемое значение
-		return pool->desired_interval;
-	}
-	return min_delay;
-}
-
-static void *_worker_thread(void *v_worker) {
-	worker_s *wr = (worker_s *)v_worker;
-
-	A_THREAD_RENAME("%s", wr->name);
-	LOG_DEBUG("Hello! I am a worker %s ^_^", wr->name);
-
-	while (!atomic_load(&wr->pool->stop)) {
-		LOG_DEBUG("Worker %s waiting for a new job ...", wr->name);
-
-		A_MUTEX_LOCK(&wr->has_job_mutex);
-		A_COND_WAIT_TRUE(atomic_load(&wr->has_job), &wr->has_job_cond, &wr->has_job_mutex);
-		A_MUTEX_UNLOCK(&wr->has_job_mutex);
-
-		if (!atomic_load(&wr->pool->stop)) {
-			long double job_start_ts = get_now_monotonic();
-			wr->job_failed = !wr->pool->run_job(wr);
-			if (!wr->job_failed) {
-				wr->job_start_ts = job_start_ts;
-				wr->last_job_time = get_now_monotonic() - wr->job_start_ts;
-			}
-			//wr->job = NULL;
-			atomic_store(&wr->has_job, false);
-		}
-
-		A_MUTEX_LOCK(&wr->pool->free_workers_mutex);
-		wr->pool->free_workers += 1;
-		A_MUTEX_UNLOCK(&wr->pool->free_workers_mutex);
-		A_COND_SIGNAL(&wr->pool->free_workers_cond);
-	}
-
-	LOG_DEBUG("Bye-bye (worker %s)", wr->name);
-	return NULL;
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/workers.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/workers.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/workers.h	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/workers.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,95 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <stdbool.h>
-#include <stdatomic.h>
-
-#include <sys/types.h>
-
-#include <pthread.h>
-
-#include "../libs/tools.h"
-#include "../libs/threading.h"
-#include "../libs/logging.h"
-
-
-typedef struct worker_sx {
-	pthread_t		tid;
-	unsigned		number;
-	char			*name;
-
-	long double		last_job_time;
-
-	pthread_mutex_t	has_job_mutex;
-	void			*job;
-	atomic_bool		has_job;
-	bool			job_timely;
-	bool			job_failed;
-	long double		job_start_ts;
-	pthread_cond_t	has_job_cond;
-
-	struct worker_sx *prev_wr;
-	struct worker_sx *next_wr;
-
-	struct workers_pool_sx *pool;
-} worker_s;
-
-typedef void *(*workers_pool_job_init_f)(void *arg);
-typedef void (*workers_pool_job_destroy_f)(void *job);
-typedef bool (*workers_pool_run_job_f)(worker_s *wr);
-
-typedef struct workers_pool_sx {
-	const char		*name;
-	long double		desired_interval;
-
-	workers_pool_job_destroy_f	job_destroy;
-	workers_pool_run_job_f		run_job;
-
-	unsigned		n_workers;
-	worker_s		*workers;
-	worker_s		*oldest_wr;
-	worker_s		*latest_wr;
-
-	long double		approx_job_time;
-
-	pthread_mutex_t	free_workers_mutex;
-	unsigned		free_workers;
-	pthread_cond_t	free_workers_cond;
-
-	atomic_bool		stop;
-} workers_pool_s;
-
-
-workers_pool_s *workers_pool_init(
-	const char *name, const char *wr_prefix, unsigned n_workers, long double desired_interval,
-	workers_pool_job_init_f job_init, void *job_init_arg,
-	workers_pool_job_destroy_f job_destroy,
-	workers_pool_run_job_f run_job);
-
-void workers_pool_destroy(workers_pool_s *pool);
-
-worker_s *workers_pool_wait(workers_pool_s *pool);
-void workers_pool_assign(workers_pool_s *pool, worker_s *ready_wr/*, void *job*/);
-
-long double workers_pool_get_fluency_delay(workers_pool_s *pool, worker_s *ready_wr);
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/xioctl.h /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/xioctl.h
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer/xioctl.h	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer/xioctl.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,60 +0,0 @@
-/*****************************************************************************
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-*****************************************************************************/
-
-
-#pragma once
-
-#include <errno.h>
-
-#include <sys/ioctl.h>
-
-#include "../libs/tools.h"
-#include "../libs/logging.h"
-
-
-#ifndef CFG_XIOCTL_RETRIES
-#	define CFG_XIOCTL_RETRIES 4
-#endif
-#define XIOCTL_RETRIES ((unsigned)(CFG_XIOCTL_RETRIES))
-
-
-INLINE int xioctl(int fd, int request, void *arg) {
-	int retries = XIOCTL_RETRIES;
-	int retval = -1;
-
-	do {
-		retval = ioctl(fd, request, arg);
-	} while (
-		retval
-		&& retries--
-		&& (
-			errno == EINTR
-			|| errno == EAGAIN
-			|| errno == ETIMEDOUT
-		)
-	);
-
-	// cppcheck-suppress knownConditionTrueFalse
-	if (retval && retries <= 0) {
-		LOG_PERROR("ioctl(%d) retried %u times; giving up", request, XIOCTL_RETRIES);
-	}
-	return retval;
-}
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer.bin and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer.bin differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/src/ustreamer-dump.bin and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/src/ustreamer-dump.bin differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/common.py /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/common.py
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/common.py	2023-12-15 01:51:35.162398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/common.py	1969-12-31 19:00:00.000000000 -0500
@@ -1,51 +0,0 @@
-#!/usr/bin/env python3
-# ========================================================================== #
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-# ========================================================================== #
-
-
-import textwrap
-
-
-# =====
-C_PREPEND = textwrap.dedent("""
-        /*****************************************************************************
-        #                                                                            #
-        #    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-        #                                                                            #
-        #    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-        #                                                                            #
-        #    This program is free software: you can redistribute it and/or modify    #
-        #    it under the terms of the GNU General Public License as published by    #
-        #    the Free Software Foundation, either version 3 of the License, or       #
-        #    (at your option) any later version.                                     #
-        #                                                                            #
-        #    This program is distributed in the hope that it will be useful,         #
-        #    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-        #    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-        #    GNU General Public License for more details.                            #
-        #                                                                            #
-        #    You should have received a copy of the GNU General Public License       #
-        #    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-        #                                                                            #
-        *****************************************************************************/
-
-
-    """).strip() + "\n"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/make-html-h.py /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/make-html-h.py
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/make-html-h.py	2023-12-15 01:51:35.166398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/make-html-h.py	1969-12-31 19:00:00.000000000 -0500
@@ -1,60 +0,0 @@
-#!/usr/bin/env -S python3 -B
-# ========================================================================== #
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-# ========================================================================== #
-
-
-import sys
-import os
-import textwrap
-
-import common
-
-
-# =====
-def main() -> None:
-    assert len(sys.argv) == 4, f"{sys.argv[0]} <file.html> <file.c> <name>"
-    html_path = sys.argv[1]
-    c_path = sys.argv[2]
-    h_path = os.path.basename(c_path[:-2] + ".h")
-    name = sys.argv[3]
-
-    with open(html_path, "r") as html_file:
-        html = html_file.read()
-
-    html = html.strip()
-    html = html.replace("\"", "\\\"")
-    html = html.replace("%VERSION%", "\" VERSION \"")
-    html = textwrap.indent(html, "\t", (lambda line: True))
-    html = "\n".join(
-        (f"{line} \\" if line.strip() else f"{line}\\")
-        for line in html.split("\n")
-    )
-
-    text = f"{common.C_PREPEND}\n#include \"{h_path}\"\n\n\n"
-    text += f"const char *const HTML_{name}_PAGE = \" \\\n{html}\n\";\n"
-
-    with open(c_path, "w") as c_file:
-        c_file.write(text)
-
-
-# =====
-if __name__ == "__main__":
-    main()
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/make-jpeg-h.py /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/make-jpeg-h.py
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/tools/make-jpeg-h.py	2023-12-15 01:51:35.166398159 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/tools/make-jpeg-h.py	1969-12-31 19:00:00.000000000 -0500
@@ -1,96 +0,0 @@
-#!/usr/bin/env -S python3 -B
-# ========================================================================== #
-#                                                                            #
-#    uStreamer - Lightweight and fast MJPG-HTTP streamer.                    #
-#                                                                            #
-#    Copyright (C) 2018-2021  Maxim Devaev <mdevaev@gmail.com>               #
-#                                                                            #
-#    This program is free software: you can redistribute it and/or modify    #
-#    it under the terms of the GNU General Public License as published by    #
-#    the Free Software Foundation, either version 3 of the License, or       #
-#    (at your option) any later version.                                     #
-#                                                                            #
-#    This program is distributed in the hope that it will be useful,         #
-#    but WITHOUT ANY WARRANTY; without even the implied warranty of          #
-#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the           #
-#    GNU General Public License for more details.                            #
-#                                                                            #
-#    You should have received a copy of the GNU General Public License       #
-#    along with this program.  If not, see <https://www.gnu.org/licenses/>.  #
-#                                                                            #
-# ========================================================================== #
-
-
-import sys
-import os
-import io
-import struct
-
-from typing import Tuple
-
-import common
-
-
-# =====
-def _get_jpeg_size(data: bytes) -> Tuple[int, int]:
-    # https://sheep.horse/2013/9/finding_the_dimensions_of_a_jpeg_file_in_python.html
-
-    stream = io.BytesIO(data)
-    while True:
-        marker = struct.unpack(">H", stream.read(2))[0]
-        if marker == 0xFFD9:
-            raise RuntimeError("Can't find jpeg size")
-
-        if (
-            marker == 0xFFD8  # Start of image
-            or marker == 0xFF01  # Private marker
-            or 0xFFD0 <= marker <= 0xFFD7  # Restart markers
-        ):
-            continue
-
-        # All other markers specify chunks with lengths
-        length = struct.unpack(">H", stream.read(2))[0]
-
-        if marker == 0xFFC0:  # Baseline DCT chunk, has the info we want
-            (_, height, width) = struct.unpack(">BHH", stream.read(5))
-            return (width, height)
-
-        # Not the chunk we want, skip it
-        stream.seek(length - 2, 1)
-
-
-# =====
-def main() -> None:
-    assert len(sys.argv) == 4, f"{sys.argv[0]} <file.jpeg> <file.h> <name>"
-    jpeg_path = sys.argv[1]
-    c_path = sys.argv[2]
-    h_path = os.path.basename(c_path[:-2]) + ".h"
-    name = sys.argv[3]
-
-    with open(jpeg_path, "rb") as jpeg_file:
-        jpeg_data = jpeg_file.read()
-
-    (width, height) = _get_jpeg_size(jpeg_data)
-
-    jpeg_data_text = "{\n\t" + ",\n\t".join(
-        ", ".join(
-            f"0x{ch:02X}"
-            for ch in jpeg_data[index:index + 20]
-        )
-        for index in range(0, len(jpeg_data), 20)
-    ) + ",\n}"
-
-    text = f"{common.C_PREPEND}\n"
-    text += f"#include \"{h_path}\"\n\n\n"
-    text += f"const unsigned {name}_JPEG_WIDTH = {width};\n"
-    text += f"const unsigned {name}_JPEG_HEIGHT = {height};\n\n"
-    text += f"const size_t {name}_JPEG_DATA_SIZE = {len(jpeg_data)};\n"
-    text += f"const uint8_t {name}_JPEG_DATA[] = {jpeg_data_text};\n"
-
-    with open(c_path, "w") as c_file:
-        c_file.write(text)
-
-
-# =====
-if __name__ == "__main__":
-    main()
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/ustreamer and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/ustreamer differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/bin/ustreamer/ustreamer-dump and /home/mks/firmware_comparison/downloads/crowsnest/bin/ustreamer/ustreamer-dump differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/CHANGELOG.md /home/mks/firmware_comparison/downloads/crowsnest/CHANGELOG.md
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/CHANGELOG.md	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/CHANGELOG.md	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,386 @@
+<!-- THIS FILE IS UPDATED AUTOMATICALLY, ANY CHANGES WILL BE OVERRIDDEN -->
+# Changelog
+All notable changes to Crowsnest will be documented in this file.
+
+## [4.1.9](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.9) - 2024-04-26
+### Bug Fixes and Improvements
+
+- Fix libcamera resolution and controls logging ([#260](https://github.com/mainsail-crew/crowsnest/pull/260))
+
+## [4.1.8](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.8) - 2024-04-02
+### Bug Fixes and Improvements
+
+- Fix crash of detect_libcamera without CSI cam ([#256](https://github.com/mainsail-crew/crowsnest/pull/256))
+
+## [4.1.7](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.7) - 2024-04-02
+### Features
+
+- Log libamera device resolutions and controls ([#240](https://github.com/mainsail-crew/crowsnest/pull/240))
+
+### Bug Fixes and Improvements
+
+- Fix empty string if ustreamer not found ([#253](https://github.com/mainsail-crew/crowsnest/pull/253))
+
+### Other
+
+- Revert #249 and update ustreamer version to v6.9 ([#254](https://github.com/mainsail-crew/crowsnest/pull/254))
+
+## [4.1.6](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.6) - 2024-03-03
+### Bug Fixes and Improvements
+
+- Change ustreamer repo to own fork as workaround for #247 ([#249](https://github.com/mainsail-crew/crowsnest/pull/249))
+
+## [4.1.5](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.5) - 2024-02-28
+### Bug Fixes and Improvements
+
+- Fix ustreamer binary path for v5.52 changes ([#245](https://github.com/mainsail-crew/crowsnest/pull/245))
+
+## [4.1.4](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.4) - 2024-02-17
+### Bug Fixes and Improvements
+
+- Support `no_proxy` mode with camera-streamer (bookworm) ([#238](https://github.com/mainsail-crew/crowsnest/pull/238))
+
+## [4.1.3](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.3) - 2024-01-16
+### Features
+
+- Add dual picam detection ([#229](https://github.com/mainsail-crew/crowsnest/pull/229))
+
+### Documentation
+
+- Fix buster hint link ([#236](https://github.com/mainsail-crew/crowsnest/pull/236))
+
+### Other
+
+- Fix `clean_apps` for installations without all backends ([#230](https://github.com/mainsail-crew/crowsnest/pull/230))
+- Remove `buildclean` from `make update` ([#231](https://github.com/mainsail-crew/crowsnest/pull/231))
+- Update issue bot to add github discussions ([#234](https://github.com/mainsail-crew/crowsnest/pull/234))
+- Add warning for libcamera on pi5 ([#235](https://github.com/mainsail-crew/crowsnest/pull/235))
+
+## [4.1.2](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.2) - 2024-01-08
+### Bug Fixes and Improvements
+
+- **build.sh**: Fix wrong cs branch for cloning ([#215](https://github.com/mainsail-crew/crowsnest/pull/215))
+- Fixes error in detect_legacy ([#217](https://github.com/mainsail-crew/crowsnest/pull/217))
+- Skip do_memory_split on bookworm ([#223](https://github.com/mainsail-crew/crowsnest/pull/223))
+- Fix crash with brokenfocus and camera-streamer ([#224](https://github.com/mainsail-crew/crowsnest/pull/224))
+- Add pi5 support ([#225](https://github.com/mainsail-crew/crowsnest/pull/225))
+
+### Other
+
+- Shallow clone camera-streamer submodules ([#226](https://github.com/mainsail-crew/crowsnest/pull/226))
+- Add note about proxies to crowsnest.conf ([#227](https://github.com/mainsail-crew/crowsnest/pull/227))
+
+## [4.1.1](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.1) - 2023-11-23
+### Documentation
+
+- Update supported devices ([#213](https://github.com/mainsail-crew/crowsnest/pull/213))
+
+### Other
+
+- Fix env file check ([#212](https://github.com/mainsail-crew/crowsnest/pull/212))
+- Add streamer repos update to make update ([#210](https://github.com/mainsail-crew/crowsnest/pull/210))
+- Add check to disable webcamd ([#211](https://github.com/mainsail-crew/crowsnest/pull/211))
+- Update copyright ([#214](https://github.com/mainsail-crew/crowsnest/pull/214))
+
+## [4.1.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.1.0) - 2023-11-15
+### Bug Fixes and Improvements
+
+- Revert #197 ([#207](https://github.com/mainsail-crew/crowsnest/pull/207))
+
+### Other
+
+- Refactor camera-streamer build conditions ([#201](https://github.com/mainsail-crew/crowsnest/pull/201))
+- Add startup workaround for SpeederPad ([#203](https://github.com/mainsail-crew/crowsnest/pull/203))
+- Add better dietpi support to installer ([#204](https://github.com/mainsail-crew/crowsnest/pull/204))
+- Add make argument to fix WorkingDirectory ([#205](https://github.com/mainsail-crew/crowsnest/pull/205))
+
+## [4.0.5](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.5) - 2023-11-03
+### Bug Fixes and Improvements
+
+- **camera-streamer.sh**: Force camera to be always active ([#197](https://github.com/mainsail-crew/crowsnest/pull/197))
+- Fix wrong gpumem calculation ([#176](https://github.com/mainsail-crew/crowsnest/pull/176))
+- Fix wrong syntax in gpumem ([#177](https://github.com/mainsail-crew/crowsnest/pull/177))
+- Fix wrong messages ([#183](https://github.com/mainsail-crew/crowsnest/pull/183))
+- Add bookworm support ([#195](https://github.com/mainsail-crew/crowsnest/pull/195))
+
+### Other
+
+- Add release workflow ([#194](https://github.com/mainsail-crew/crowsnest/pull/194))
+- Add release workflow ([#194](https://github.com/mainsail-crew/crowsnest/pull/194))
+- Add shellcheck run for PRs to develop ([#198](https://github.com/mainsail-crew/crowsnest/pull/198))
+
+## [4.0.4](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.4) - 2023-09-01
+### Bug Fixes and Improvements
+
+- **hwhandler.sh**: Fix error in device logging ([#169](https://github.com/mainsail-crew/crowsnest/pull/169))
+- **hwhandler.sh**: Fix error in device logging ([#169](https://github.com/mainsail-crew/crowsnest/pull/169)) ([#170](https://github.com/mainsail-crew/crowsnest/pull/170))
+
+## [4.0.3](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.3) - 2023-08-11
+### Documentation
+
+- **readme**: Refactor readme.md | [09f4cb1](https://github.com/mainsail-crew/crowsnest/commit/09f4cb1ed2dc7c015da2fa97fad2f7e7220e118d)
+
+## [4.0.2](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.2) - 2023-05-23
+### Bug Fixes and Improvements
+
+- **hwhandler.sh**: Fix error in device logging | [b0c011b](https://github.com/mainsail-crew/crowsnest/commit/b0c011b4ef9aea19352b90cab7d06383eef555eb)
+
+## [4.0.1](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.1) - 2023-05-23
+### Bug Fixes and Improvements
+
+- Fix error in ustreamer.sh | [3081093](https://github.com/mainsail-crew/crowsnest/commit/308109323a76b9dbf8b7150e886e10b0e9cfd948)
+
+## [4.0.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v4.0.0) - 2023-05-05
+### Features
+
+- **install**: Set gpu_mem on rpi devices | [2bbe265](https://github.com/mainsail-crew/crowsnest/commit/2bbe265e83ce0c2afeb07478e6d1c96d8ebfceda)
+- **logging**: Extend error trace in logging | [4124e65](https://github.com/mainsail-crew/crowsnest/commit/4124e65ec44885654d3cdafae66efc0d5010632f)
+
+### Bug Fixes and Improvements
+
+- Fix add_update_entry condition | [a5a36e5](https://github.com/mainsail-crew/crowsnest/commit/a5a36e5c3d153f0b568ea731b7e3b02badb139f4)
+- Disable debug output in make config | [48ab81a](https://github.com/mainsail-crew/crowsnest/commit/48ab81a4370fa04beccc0358ea60a7a27fab6a1d)
+- Fix startup error on ubuntu arm | [0c49dc7](https://github.com/mainsail-crew/crowsnest/commit/0c49dc796f8cc7ea9d0d8a9b6cb70f13713dee52)
+- Fix raspicam detection | [2a4fbd9](https://github.com/mainsail-crew/crowsnest/commit/2a4fbd9c77459c408c0ce2fe0eb06a3c11058779)
+- Fix error causing cam list to fail | [e3bd2e2](https://github.com/mainsail-crew/crowsnest/commit/e3bd2e2e57a4961a1af436bbeeed6c9aa901156b)
+- Fix error not exiting script on error | [42ce0ba](https://github.com/mainsail-crew/crowsnest/commit/42ce0ba29784781549bea6cb67bec105d5dbe8b5)
+- Fix error exit on failure | [a07e42a](https://github.com/mainsail-crew/crowsnest/commit/a07e42a1acf27d55eaa6b977a9b0c248e2cf13bd)
+- Fix func detect_libcamera | [0c524b7](https://github.com/mainsail-crew/crowsnest/commit/0c524b725df2b6b99f45cf64d683410d8120d62e)
+
+### Refactor
+
+- Refactor install chain | [4444ea5](https://github.com/mainsail-crew/crowsnest/commit/4444ea58fdff64f531ecb406d34c9bc3e7962b42)
+- Remove unnecessary ffmpeg version check | [f8ce308](https://github.com/mainsail-crew/crowsnest/commit/f8ce308fa514cb47098ba33376de46caa2ac58d9)
+- Refactor hwhandler.sh | [6c1aec1](https://github.com/mainsail-crew/crowsnest/commit/6c1aec18b471910457c0196a5ba7c3de8c821871)
+
+### Documentation
+
+- Update Readme.md | [f6b841e](https://github.com/mainsail-crew/crowsnest/commit/f6b841e92f5e0e6e8d275177ac4a7da51b8555a9)
+- Add camera-streamer to README.md | [f8c78c5](https://github.com/mainsail-crew/crowsnest/commit/f8c78c570ce0def6f1f8b6a2f11ecc8c29a212fd)
+- Change test formation | [4c4e232](https://github.com/mainsail-crew/crowsnest/commit/4c4e232ee55a60016ac4fe54be5cd549eeee0b5a)
+- Removed TODO.md | [1df3f43](https://github.com/mainsail-crew/crowsnest/commit/1df3f4377a5752b23a57d2ce5b7f247d7ed7b8d9)
+- Fix clarity of backend packages ([#108](https://github.com/mainsail-crew/crowsnest/pull/108))
+
+### Other
+
+- Add v4l2ctl logging prefix | [43b86a3](https://github.com/mainsail-crew/crowsnest/commit/43b86a33d7c95465fcd05acadef7ecf823042811)
+- Add error message if v4l2-ctl errors out | [20ed6a8](https://github.com/mainsail-crew/crowsnest/commit/20ed6a8b585a92e8a0e7d8333e81b6e8ca7044e1)
+- Add TODO.md | [f458974](https://github.com/mainsail-crew/crowsnest/commit/f45897447f03433a7d3c7217e1c4c72ead3dd146)
+- Update TODO.md | [42cd77d](https://github.com/mainsail-crew/crowsnest/commit/42cd77dc968260de605297786043ea3bd6b34c15)
+- Update TODO.md | [9d6c46e](https://github.com/mainsail-crew/crowsnest/commit/9d6c46e2f86df689c2a9709e2b90f927f1875210)
+- Update TODO.md | [f065b29](https://github.com/mainsail-crew/crowsnest/commit/f065b2952f443f16463967b0fda0c771a3202790)
+- Allow backend names as mode | [3a1a929](https://github.com/mainsail-crew/crowsnest/commit/3a1a9294ad88f1f1f830e61c9f7bee0a841e81bc)
+- Add note to crowsnest.conf | [952dac9](https://github.com/mainsail-crew/crowsnest/commit/952dac98a13564be34d1bbce68383273ff905d63)
+- Update conf and readme to new params | [745631a](https://github.com/mainsail-crew/crowsnest/commit/745631aed0124dab97faceab9b03f460f1f358e8)
+
+## [3.0.7](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.7) - 2023-02-16
+### Bug Fixes and Improvements
+
+- **install**: Wrong syntax in config.txt | [5e95c0d](https://github.com/mainsail-crew/crowsnest/commit/5e95c0d3bdc9c2b1361b0fd8b5ba9227eb8c3fdd)
+- **install**: Fixes error in unattended mode | [efe4dfd](https://github.com/mainsail-crew/crowsnest/commit/efe4dfd189cc4bdb757ace0f5e03b1af43d1ebdf)
+- Ensure device is raspberry if os is buster | [05a971b](https://github.com/mainsail-crew/crowsnest/commit/05a971b259e994021dfe3d46e33c46f7d2e74b22)
+- Fix error introduced by crudini | [722c7ca](https://github.com/mainsail-crew/crowsnest/commit/722c7ca3f8b2ae336282abe4a09b6fae11dddb21)
+- Disable SC2317 | [e214673](https://github.com/mainsail-crew/crowsnest/commit/e21467358e09242de7e4f0826d2268c2e6f5e936)
+- Store log_level in var instead in function | [9a66358](https://github.com/mainsail-crew/crowsnest/commit/9a663584433bec74059ce7b205ecdcb32efa27f7)
+
+### Documentation
+
+- Improve README.md, add FAQ section | [5954969](https://github.com/mainsail-crew/crowsnest/commit/595496941c152b88163bf86a58b9324b58848d82)
+- Improve readme, add link to config section | [3bc6d7d](https://github.com/mainsail-crew/crowsnest/commit/3bc6d7dd105959d6a0e1c4d6cfea30b68297befa)
+- Fix typo in readme.md | [f945da3](https://github.com/mainsail-crew/crowsnest/commit/f945da33e8768ba73424319d78b579bb842954c6)
+- Add keyword cam note | [142e4de](https://github.com/mainsail-crew/crowsnest/commit/142e4de4eebeda5ff088f17c45f2b6044fb6a296)
+- Add warning not to change log_path | [b112300](https://github.com/mainsail-crew/crowsnest/commit/b112300cedef41a27e219c293ba6c9b1593a7ca9)
+- Improve linebreaks | [b7035a9](https://github.com/mainsail-crew/crowsnest/commit/b7035a9207e80c1530d0a2cd6efa8b9b172078fd)
+- Improve spelling | [96949b7](https://github.com/mainsail-crew/crowsnest/commit/96949b7d754b1c3659567c09394d88e4b30ace62)
+- Add link to discord | [3c1ec15](https://github.com/mainsail-crew/crowsnest/commit/3c1ec157580f8c537b10bec57254db7ea22d1d06)
+- Enhanced faq error 127 | [90a6901](https://github.com/mainsail-crew/crowsnest/commit/90a6901bfef3fec120cb5454fa39ee58f00660c7)
+- Enhanced faq for raspicam issues | [33981e7](https://github.com/mainsail-crew/crowsnest/commit/33981e763cd8f9e710d2cce40bea3526b22f4ec3)
+- Updated documentation for device definition ([#65](https://github.com/mainsail-crew/crowsnest/pull/65))
+- Updated Readme.md | [7d207e6](https://github.com/mainsail-crew/crowsnest/commit/7d207e6d84c4ebabc43eb1cadc678e62260f2b04)
+- Changed layout | [ad081e6](https://github.com/mainsail-crew/crowsnest/commit/ad081e67d67a209cd2601af94bf9d18da452b980)
+- Fixed typo | [b6e2de2](https://github.com/mainsail-crew/crowsnest/commit/b6e2de2c25963a35e6685ae681bfc858e1d4292b)
+- Improves layout | [04f29cb](https://github.com/mainsail-crew/crowsnest/commit/04f29cbb98be346ac402159637a18c6255a03274)
+- Fix typo | [bb38f36](https://github.com/mainsail-crew/crowsnest/commit/bb38f36cb06f8a0f5760600c00ebcef48e1dedb4)
+- Fix typo | [00fe721](https://github.com/mainsail-crew/crowsnest/commit/00fe721bf352350a92c9d450789dd0e1ba17d55e)
+- Fix typo and rework layout ([#80](https://github.com/mainsail-crew/crowsnest/pull/80))
+
+### Other
+
+- Add not-on-github bot ([#68](https://github.com/mainsail-crew/crowsnest/pull/68))
+
+## [3.0.6](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.6) - 2022-11-24
+### Bug Fixes and Improvements
+
+- Fixes missing legacy cam stack in ubuntu | [607bdda](https://github.com/mainsail-crew/crowsnest/commit/607bdda902c0eebd0660865ec01509bc2fcb44aa)
+- Fixes install error on Linux Mint | [0e11271](https://github.com/mainsail-crew/crowsnest/commit/0e112711c74ccea82ddfb85538bbe0fc1f80d665)
+- Add new parameter for rtsp-simple-server | [c6dd973](https://github.com/mainsail-crew/crowsnest/commit/c6dd973d331699935b76665120febf824601635f)
+
+### Documentation
+
+- Add Ubuntu 22.04 - RPI as tested | [b8bed93](https://github.com/mainsail-crew/crowsnest/commit/b8bed93f289ab98a4680e1f96d05d9158f53a22e)
+- Add Linux Mint as tested ditribution | [2cbe951](https://github.com/mainsail-crew/crowsnest/commit/2cbe9515b00a4d6504e92afc82412a59f27be027)
+
+### Other
+
+- Refactor log output of rtsp-simple-server | [957207b](https://github.com/mainsail-crew/crowsnest/commit/957207b44874a5c5faa76fed157197590b9dc43f)
+
+## [3.0.5](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.5) - 2022-11-24
+### Other
+
+- Bump rtsp-simple-server to v0.20.2 | [53b4d52](https://github.com/mainsail-crew/crowsnest/commit/53b4d52f935c1cfd7faf75cf19c28a75c6f13ce4)
+
+## [3.0.4](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.4) - 2022-11-24
+### Features
+
+- **install**: Adds ubuntu armv7l support | [ee59a12](https://github.com/mainsail-crew/crowsnest/commit/ee59a12d59cb2db173a93b266c4766b853bd0364)
+- Add no_proxy parameter | [8fe1100](https://github.com/mainsail-crew/crowsnest/commit/8fe11005e183e12042e52f2d90dc7a8472e37415)
+
+### Bug Fixes and Improvements
+
+- Fixes error in ustreamer install | [046641a](https://github.com/mainsail-crew/crowsnest/commit/046641af045c98ada6eb0c450c8e694765f3677a)
+- Fix error in install.sh | [e2b4cd8](https://github.com/mainsail-crew/crowsnest/commit/e2b4cd8cd2e65cab8857f1662b5b831b5cdfaad6)
+- Error in func create_filestructure | [0eb04cf](https://github.com/mainsail-crew/crowsnest/commit/0eb04cf2a6ba4a9b2eff29a1cb8e0817059f723b)
+- Fix syntax error in dev-helper.sh | [df8a696](https://github.com/mainsail-crew/crowsnest/commit/df8a6962ef634d03de254f1358be2a2b9378c7cc)
+- Fixes wrong path to crowsnest-rtsp.yml | [cffea68](https://github.com/mainsail-crew/crowsnest/commit/cffea681af1f3d1700ed56f97bd97b2628d59c0a)
+
+### Refactor
+
+- Implements new install mechanism | [d4a2c08](https://github.com/mainsail-crew/crowsnest/commit/d4a2c08152766b40df151d3a1bee75e3aeafa7bf)
+
+### Documentation
+
+- Updated README.md | [f7ec29f](https://github.com/mainsail-crew/crowsnest/commit/f7ec29f2f14927e8ea6434f2fc69f8c991d2ddc6)
+- Added ubuntu server 20.04 as tested and working ([#59](https://github.com/mainsail-crew/crowsnest/pull/59))
+
+### Other
+
+- Changes install routine | [d407c68](https://github.com/mainsail-crew/crowsnest/commit/d407c683c0d05488e830acf982ff9908cca8ef6a)
+- Update readme.md of custompios module | [77f23e0](https://github.com/mainsail-crew/crowsnest/commit/77f23e01b2a942e3281ed975a67a5f7a010d7e23)
+
+## [3.0.3](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.3) - 2022-09-04
+### Bug Fixes and Improvements
+
+- **ustreamer.sh**: Fixes duplicate format setting | [aab54f8](https://github.com/mainsail-crew/crowsnest/commit/aab54f8ab29e79e4fa9acf2af234cbe2bbbb1f8c)
+- Fixes blocky view after reboot | [dabb66c](https://github.com/mainsail-crew/crowsnest/commit/dabb66c992e0981d3c26d9bd7e8853236145c552)
+
+## [3.0.2](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.2) - 2022-09-04
+### Bug Fixes and Improvements
+
+- **messages**: Deprecated message shows wrong name | [e268090](https://github.com/mainsail-crew/crowsnest/commit/e2680909ab08a3512e0e0974c857e795e55fe4ee)
+- Fixes typo in install.sh | [946fad1](https://github.com/mainsail-crew/crowsnest/commit/946fad1fd6f70fac92bd074203f4b085c4e89954)
+
+### Refactor
+
+- Refactor of User input during install | [8df5078](https://github.com/mainsail-crew/crowsnest/commit/8df5078b3d6db6b49b6aaaaa77805006149e01c9)
+
+## [3.0.1](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.1) - 2022-08-12
+### Features
+
+- Switch logo according to light or dark mode | [a5a5df8](https://github.com/mainsail-crew/crowsnest/commit/a5a5df806967efbfb0950283a0c2771e74d124a8)
+- Allow mjpeg as valid parameter | [ffba103](https://github.com/mainsail-crew/crowsnest/commit/ffba10350b813dee24b238000ad45f13a75ea390)
+
+### Bug Fixes and Improvements
+
+- **install**: Fixes error in removing webcamd | [5a9c245](https://github.com/mainsail-crew/crowsnest/commit/5a9c24593ad6483819568018088f611dab0c16ee)
+- **make build**: Clone ustreamer if not present | [f726bda](https://github.com/mainsail-crew/crowsnest/commit/f726bda796bd5f3aad4f9c4ae0046333bc2866ab)
+- **uninstall**: Fixes error service not disabled. | [3c4e4f8](https://github.com/mainsail-crew/crowsnest/commit/3c4e4f8098dc09318ba0e10a0762765545ce6431)
+- Fixes install error if config.txt missing | [1af5d9c](https://github.com/mainsail-crew/crowsnest/commit/1af5d9c46f44c326b357bbf7ac1fb8ae0466656a)
+- Fixes install error on ubuntu aarch64 | [9d9f07b](https://github.com/mainsail-crew/crowsnest/commit/9d9f07b5f9f0e027a88feb670accdbf1cf37232d)
+- Used wrong condition | [7af4ee8](https://github.com/mainsail-crew/crowsnest/commit/7af4ee85d372e63b5289583d39085bc06de2385c)
+- Libjpeg62-turbo has no install target | [3a5f65b](https://github.com/mainsail-crew/crowsnest/commit/3a5f65b018263210efc529ccd1955ef36753e933)
+- Fixes error patching moonraker.conf | [4b2532d](https://github.com/mainsail-crew/crowsnest/commit/4b2532d495654a7969e51cd47511575e2d4474f0)
+- Fixes error in brokenfokus function | [3df7fed](https://github.com/mainsail-crew/crowsnest/commit/3df7fedb4d38d2ce830c9a891abd987a36a8829f)
+- Fix error using installer on armbian | [a3fba61](https://github.com/mainsail-crew/crowsnest/commit/a3fba6105f0b8d825469f1c46ecd7fbde2bb4c35)
+- Used wrong terminology for diskspace | [2fb45c3](https://github.com/mainsail-crew/crowsnest/commit/2fb45c3283b2b7563f66c23b6342e43eaeea441a)
+
+### Documentation
+
+- Rename webcam.conf to crowsnest.conf in readme.md ([#21](https://github.com/mainsail-crew/crowsnest/pull/21))
+
+## [3.0.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v3.0.0) - 2022-06-16
+### Features
+
+- **install**: Add unattended mode to installer | [c4d4795](https://github.com/mainsail-crew/crowsnest/commit/c4d4795089d78bd7727a30f3ef608bf426345cca)
+- **logging**: Display host information in log file | [687be54](https://github.com/mainsail-crew/crowsnest/commit/687be54de1ca5c7c5aa566c8becb8e3ff707c5e6)
+
+### Bug Fixes and Improvements
+
+- **install**: Fix error using custopizer unattended | [3a48d47](https://github.com/mainsail-crew/crowsnest/commit/3a48d47f5ae041664064c1ce0bfcd3d7bb608041)
+- **install**: Fixes error that leads to unusable moonraker.conf | [fab3772](https://github.com/mainsail-crew/crowsnest/commit/fab3772e1074b1689d6919bff59cb4d05b1a0649)
+- **logging**: Fixes error in log output of host information | [b6055ce](https://github.com/mainsail-crew/crowsnest/commit/b6055cecff115ea6d239754abc3936dc4dfe1364)
+- **v4l2ctl**: Fixes error in broken_focus detection | [e42799b](https://github.com/mainsail-crew/crowsnest/commit/e42799bac636da3cb989fbf3849e0eeaa02dcf42)
+- Fixes uncomplete log if using bullseye | [b8a7046](https://github.com/mainsail-crew/crowsnest/commit/b8a7046db8d8ae3d97944c07aa50a9ffedf0fa69)
+
+### Refactor
+
+- **install**: Improve install if unattended | [dcb5581](https://github.com/mainsail-crew/crowsnest/commit/dcb55816d3c4edab04e2dcab3a0d4590bba5eb10)
+- **installl**: Refactor install chain | [6071c6f](https://github.com/mainsail-crew/crowsnest/commit/6071c6fc769dbda8ab18aa16e46fdcba28d8288c)
+- **logging**: Strips out comments in func print_cfg | [5b8c072](https://github.com/mainsail-crew/crowsnest/commit/5b8c072db3bacc2346d3e340d9ce8499c4639782)
+- Improve detection of chroot jail | [36893bf](https://github.com/mainsail-crew/crowsnest/commit/36893bf9d4fd9f3de61689cba8d6230b12dd8e82)
+- Refactor installer and custompios module | [ee6598c](https://github.com/mainsail-crew/crowsnest/commit/ee6598c2927bc337571d3d589af27a1b75333c8a)
+
+### Other
+
+- **docs**: Updates readme to latest changes. | [c52cf40](https://github.com/mainsail-crew/crowsnest/commit/c52cf40a962657854ce55564f506fcec5bbd7619)
+- **docs**: Update discord url | [fac3667](https://github.com/mainsail-crew/crowsnest/commit/fac3667b0fe0214d10b132bc705fb8f6187b49d0)
+- **install**: Remove backup if unattended | [dc710d0](https://github.com/mainsail-crew/crowsnest/commit/dc710d0abe07d2b5e6c5385535d61ecd833455d2)
+- **rtsp**: Update rtsp-simple-server to latest release | [18ab214](https://github.com/mainsail-crew/crowsnest/commit/18ab214d490de08304280c1f2b250c8a9a746fcb)
+- **rtsp**: Update rtsp config template | [1117287](https://github.com/mainsail-crew/crowsnest/commit/11172878eb4395040e44544228700e0020ecc25c)
+
+## [2.4.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v2.4.0) - 2022-04-10
+### Features
+
+- Add debug logging for v4l2_control | [2e3cf93](https://github.com/mainsail-crew/crowsnest/commit/2e3cf935686b95315bac260f28ba9b816dc2c830)
+- Added feature versioncontrol | [6f17019](https://github.com/mainsail-crew/crowsnest/commit/6f17019fb83ea0228018259bd390fd7fb1fd2a43)
+
+### Bug Fixes and Improvements
+
+- Fixes focus_absolute not correct after streamer started | [3bfea5a](https://github.com/mainsail-crew/crowsnest/commit/3bfea5ad19d24d2d73cc63cf286c39aafadc2065)
+- Fixes logging empty value if not set or available | [3692b31](https://github.com/mainsail-crew/crowsnest/commit/3692b310a5734f223280af5b2600c331e14c3a33)
+
+### Refactor
+
+- Refactored logging.sh | [7c5188a](https://github.com/mainsail-crew/crowsnest/commit/7c5188a7e0af9410eeaf2e8ec2d6a51c3fa2e42f)
+
+### Other
+
+- Enabled inherited ERR Trap | [3c52447](https://github.com/mainsail-crew/crowsnest/commit/3c52447822668bae39591cd8b0882fa84b9acaf2)
+
+## [2.2.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v2.2.0) - 2022-04-02
+### Features
+
+- Log available v4l2 controls | [03d03f8](https://github.com/mainsail-crew/crowsnest/commit/03d03f851e9201c7813ce3d41fde2931bc317206)
+
+## [2.1.0](https://github.com/mainsail-crew/crowsnest/releases/tag/v2.1.0) - 2022-03-26
+### Features
+
+- Enable detection of csi adaptors | [664d9b5](https://github.com/mainsail-crew/crowsnest/commit/664d9b539b5d6e9c017cfd416911d0ef5f0e9ac6)
+
+## [2.0.1](https://github.com/mainsail-crew/crowsnest/releases/tag/v2.0.1) - 2022-03-07
+### Bug Fixes and Improvements
+
+- **build**: Fix aarch64 error at rtsp-simple-server install | [d8e98ac](https://github.com/mainsail-crew/crowsnest/commit/d8e98acd6a1427ac19cab96cca5cd079661e7fa8)
+- **build**: Fix typo in sed command | [96f6592](https://github.com/mainsail-crew/crowsnest/commit/96f6592e5c20ecb2dd17d71b9ab22b75857f232f)
+- **hwhandler.sh**: Fixed correct detection of Hardware | [c60cf2f](https://github.com/mainsail-crew/crowsnest/commit/c60cf2fd492ad0464080ed2c4280877844ead3d4)
+- **messages**: Used wrong modes in log. | [b2aedb6](https://github.com/mainsail-crew/crowsnest/commit/b2aedb678376463b18e2c706134c750d426f6088)
+- **messages**: Typo in deprecated_msg_1 | [67c32d9](https://github.com/mainsail-crew/crowsnest/commit/67c32d95f4b91efac1d2ab5b2ffff060934d80d9)
+- **update**: Fixes error in func copy_logrotate | [1aa3103](https://github.com/mainsail-crew/crowsnest/commit/1aa310341fbd88a503c6bf78ac5aaa6d81b158d6)
+- **update**: Version of apps were not checked nor updated | [605cc4f](https://github.com/mainsail-crew/crowsnest/commit/605cc4f5d56ee58b8f03b7e756fe27b84108e1c3)
+- **update**: Version of apps were not checked nor updated | [d378318](https://github.com/mainsail-crew/crowsnest/commit/d378318ebe149c109dc9777617b62a33e9fb0742)
+- **update**: Wrong path used for file templates | [bb6ed2f](https://github.com/mainsail-crew/crowsnest/commit/bb6ed2f41704d80a934632958e22a71bb62a2f9c)
+- **updater**: Critical typo in func copy_logrotate | [62ee73b](https://github.com/mainsail-crew/crowsnest/commit/62ee73b6da1792d6d125a6acd2ddb0bbde217d3d)
+- Refactored install.sh and update.sh | [8a5fcb0](https://github.com/mainsail-crew/crowsnest/commit/8a5fcb08268c71628f1d5a4653393f6d63b3ebe6)
+- Fixed custompios module | [afcb651](https://github.com/mainsail-crew/crowsnest/commit/afcb651abd501a715345100e79f5a4a2c61515eb)
+
+### Refactor
+
+- Refactored custompios module | [0176ce7](https://github.com/mainsail-crew/crowsnest/commit/0176ce769ca38748a3c9037c8d348ba529a7590c)
+
+### Documentation
+
+- Fixed error in README.md | [93ce6a2](https://github.com/mainsail-crew/crowsnest/commit/93ce6a298f271c15f3c95fa387378a3116e02b58)
+
+### Other
+
+- **update**: Removed message if RTSPtoWebRTC is not installed | [4170a25](https://github.com/mainsail-crew/crowsnest/commit/4170a25b640fe03ba1fe0c0c1c4451d693023092)
+
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/cliff-release.toml /home/mks/firmware_comparison/downloads/crowsnest/cliff-release.toml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/cliff-release.toml	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/cliff-release.toml	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,80 @@
+# configuration file for git-cliff (0.1.0)
+
+[changelog]
+# changelog header
+header = """
+# What's Changed
+"""
+# template for the changelog body
+# https://tera.netlify.app/docs/#introduction
+body = """
+{% for group, commits in commits | group_by(attribute="group") %}\
+    ### {{ group | striptags | trim | upper_first }}
+    {% for commit in commits
+    | filter(attribute="scope")
+    | sort(attribute="scope") %}
+        - **{{commit.scope}}**: {{ commit.message | upper_first | trim }} | [{{ commit.id | truncate(length=7, end="") }}](<REPO>/commit/{{ commit.id }})\
+        {%- if commit.breaking %}
+        {% raw %}  {% endraw %}- **BREAKING**: {{commit.breaking_description}}
+        {%- endif -%}
+
+    {%- endfor -%}
+    {%- for commit in commits %}
+        {%- if commit.scope -%}
+        {% else -%}
+        {% raw %}\n{% endraw %}\
+        - {{ commit.message | upper_first | trim }} | [{{ commit.id | truncate(length=7, end="") }}](<REPO>/commit/{{ commit.id }})\
+        {%- if commit.breaking %}
+        {% raw %}  {% endraw %}- **BREAKING**: {{commit.breaking_description}}
+        {%- endif -%}
+
+        {% endif -%}
+    {% endfor -%}
+    {% raw %}\n{% endraw %}
+{% endfor %}\n\
+"""
+# remove the leading and trailing whitespaces from the template
+trim = true
+# changelog footer
+footer = """
+"""
+
+# postprocessors
+postprocessors = [
+    { pattern = '(\(<REPO>/pull/[0-9]+\)\)) \| .+', replace = "${1}" },
+    { pattern = '<REPO>', replace = "https://github.com/mainsail-crew/crowsnest" }, # replace repository URL
+]
+
+[git]
+# allow only conventional commits
+# https://www.conventionalcommits.org
+conventional_commits = true
+filter_unconventional = true
+# regex for parsing and grouping commits
+commit_parsers = [
+    # Commits to skip
+    { message = "^docs\\(changelog\\):", group = "Changelog", skip = true}, # Old redundant commits
+    { message = "^chore: push version number to", group = "9$Other", skip = true}, # Old redundant commits
+    { message = "^chore\\(changelog\\): update changelog", group = "Changelog", skip = true}, # Old redundant commits
+
+    # Commits to parse
+    { message = "^feat(\\(.*\\))?:", group = "<!-- 1 -->Features"},
+    { message = "^feature(\\(.*\\))?:", group = "<!-- 1 -->Features"},
+    { message = "^fix(\\(.*\\))?:", group = "<!-- 2 -->Bug Fixes and Improvements"},
+    { message = "^perf(\\(.*\\))?:", group = "<!-- 3 -->Performance"},
+    { message = "^refactor(\\(.*\\))?:", group = "<!-- 4 -->Refactor"},
+    { message = "^style(\\(.*\\))?:", group = "<!-- 5 -->Styling"},
+    { message = "^locale(\\(.*\\))?:", group = "<!-- 6 -->Localization"},
+    { message = "^docs(\\(.*\\))?:", group = "<!-- 7 -->Documentation"},
+    { message = "^test(\\(.*\\))?:", group = "<!-- 8 -->Other"},
+    { message = "^chore(\\(.*\\))?:", group = "<!-- 8 -->Other"},
+    { body = ".*security", group = "Security"},
+]
+commit_preprocessors = [
+    { pattern = '\((\w+\s)?#([0-9]+)\)', replace = "([#${2}](<REPO>/pull/${2}))" },
+]
+# filter out the commits that are not matched by commit parsers
+filter_commits = true
+ignore_tags="v*-(beta|rc)*"
+# glob pattern for matching git tags
+tag_pattern = "v[0-9]*"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/cliff.toml /home/mks/firmware_comparison/downloads/crowsnest/cliff.toml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/cliff.toml	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/cliff.toml	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,86 @@
+# configuration file for git-cliff (0.1.0)
+
+[changelog]
+# changelog header
+header = """
+<!-- THIS FILE IS UPDATED AUTOMATICALLY, ANY CHANGES WILL BE OVERRIDDEN -->
+# Changelog
+All notable changes to Crowsnest will be documented in this file.\n
+"""
+# template for the changelog body
+# https://tera.netlify.app/docs/#introduction
+body = """
+{% if version %}\
+    ## [{{ version | trim_start_matches(pat="v") }}](https://github.com/mainsail-crew/crowsnest/releases/tag/{{version}}) - {{ timestamp | date(format="%Y-%m-%d") }}
+\
+{% else %}\
+    ## [unreleased]
+{% endif %}\
+{% for group, commits in commits | group_by(attribute="group") %}\
+    ### {{ group | striptags | trim | upper_first }}
+    {% for commit in commits
+    | filter(attribute="scope")
+    | sort(attribute="scope") %}
+        - **{{commit.scope}}**: {{ commit.message | upper_first | trim }} | [{{ commit.id | truncate(length=7, end="") }}](<REPO>/commit/{{ commit.id }})\
+        {%- if commit.breaking %}
+        {% raw %}  {% endraw %}- **BREAKING**: {{commit.breaking_description}}
+        {%- endif -%}
+    {%- endfor -%}
+    {%- for commit in commits %}
+        {%- if commit.scope -%}
+        {% else -%}
+        {% raw %}\n{% endraw %}\
+        - {{ commit.message | upper_first | trim }} | [{{ commit.id | truncate(length=7, end="") }}](<REPO>/commit/{{ commit.id }})\
+        {%- if commit.breaking %}
+        {% raw %}  {% endraw %}- **BREAKING**: {{commit.breaking_description}}
+        {%- endif -%}
+        {% endif -%}
+    {% endfor -%}
+    {% raw %}\n{% endraw %}
+{% endfor %}\n\
+"""
+# remove the leading and trailing whitespaces from the template
+trim = true
+# changelog footer
+footer = """
+"""
+
+# postprocessors
+postprocessors = [
+    { pattern = '(\(<REPO>/pull/[0-9]+\)\)) \| .+', replace = "${1}" },
+    { pattern = '<REPO>', replace = "https://github.com/mainsail-crew/crowsnest" }, # replace repository URL
+]
+
+[git]
+# allow only conventional commits
+# https://www.conventionalcommits.org
+conventional_commits = true
+filter_unconventional = false
+# regex for parsing and grouping commits
+commit_parsers = [
+    # Commits to skip
+    { message = "^docs\\(changelog\\):", group = "Changelog", skip = true}, # Old redundant commits
+    { message = "^chore: push version number to", group = "9$Other", skip = true}, # Old redundant commits
+    { message = "^chore\\(changelog\\): update changelog", group = "Changelog", skip = true}, # Old redundant commits
+
+    # Commits to parse
+    { message = "^feat(\\(.*\\))?:", group = "<!-- 1 -->Features"},
+    { message = "^feature(\\(.*\\))?:", group = "<!-- 1 -->Features"},
+    { message = "^fix(\\(.*\\))?:", group = "<!-- 2 -->Bug Fixes and Improvements"},
+    { message = "^perf(\\(.*\\))?:", group = "<!-- 3 -->Performance"},
+    { message = "^refactor(\\(.*\\))?:", group = "<!-- 4 -->Refactor"},
+    { message = "^style(\\(.*\\))?:", group = "<!-- 5 -->Styling"},
+    { message = "^locale(\\(.*\\))?:", group = "<!-- 6 -->Localization"},
+    { message = "^docs(\\(.*\\))?:", group = "<!-- 7 -->Documentation"},
+    { message = "^test(\\(.*\\))?:", group = "<!-- 8 -->Other"},
+    { message = "^chore(\\(.*\\))?:", group = "<!-- 8 -->Other"},
+    { body = ".*security", group = "Security"},
+]
+commit_preprocessors = [
+    { pattern = '\((\w+\s)?#([0-9]+)\)', replace = "([#${2}](<REPO>/pull/${2}))" },
+]
+# filter out the commits that are not matched by commit parsers
+filter_commits = true
+ignore_tags="v*-(beta|rc)*"
+# glob pattern for matching git tags
+tag_pattern = "v[0-9]*"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/crowsnest /home/mks/firmware_comparison/downloads/crowsnest/crowsnest
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/crowsnest	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/crowsnest	2024-10-08 17:45:29.818228183 -0400
@@ -20,18 +20,18 @@
 BASE_CN_PATH="$(dirname "$(readlink -f "${0}")")"
 
 ## Import Librarys
-# shellcheck source-path=SCRIPTDIR/libs/
-source "${BASE_CN_PATH}/libs/configparser.sh"
-source "${BASE_CN_PATH}/libs/core.sh"
-source "${BASE_CN_PATH}/libs/hwhandler.sh"
-source "${BASE_CN_PATH}/libs/init_stream.sh"
-source "${BASE_CN_PATH}/libs/logging.sh"
-source "${BASE_CN_PATH}/libs/messages.sh"
-source "${BASE_CN_PATH}/libs/rtspsimple.sh"
-source "${BASE_CN_PATH}/libs/ustreamer.sh"
-source "${BASE_CN_PATH}/libs/v4l2_control.sh"
-source "${BASE_CN_PATH}/libs/versioncontrol.sh"
-source "${BASE_CN_PATH}/libs/watchdog.sh"
+# shellcheck source-path=SCRIPTDIR/../libs/
+. "${BASE_CN_PATH}/libs/camera-streamer.sh"
+. "${BASE_CN_PATH}/libs/configparser.sh"
+. "${BASE_CN_PATH}/libs/core.sh"
+. "${BASE_CN_PATH}/libs/hwhandler.sh"
+. "${BASE_CN_PATH}/libs/init_stream.sh"
+. "${BASE_CN_PATH}/libs/logging.sh"
+. "${BASE_CN_PATH}/libs/messages.sh"
+. "${BASE_CN_PATH}/libs/ustreamer.sh"
+. "${BASE_CN_PATH}/libs/v4l2_control.sh"
+. "${BASE_CN_PATH}/libs/versioncontrol.sh"
+. "${BASE_CN_PATH}/libs/watchdog.sh"
 
 #### MAIN
 ## Args given?
@@ -41,7 +41,7 @@
 fi
 
 ## Parse Args
-while getopts ":vhc:" arg; do
+while getopts ":vhc:s:d" arg; do
     case "${arg}" in
         v )
             echo -e "\ncrowsnest Version: $(self_version)\n"
@@ -55,6 +55,18 @@
             check_cfg "${OPTARG}"
             export CROWSNEST_CFG="${OPTARG}"
         ;;
+        s )
+            if [[ "$(awk '{print $1}' /proc/uptime | cut -d '.' -f 1)" -lt "120" ]]; then
+                if [[ "${OPTARG}" ]]; then
+                    sleep "${OPTARG}"
+                else
+                    sleep 5
+                fi
+            fi
+        ;;
+        d )
+            set -x
+        ;;
         \?)
             wrong_args_msg
             exit 1
@@ -64,10 +76,7 @@
 
 init_logging
 initial_check
-v4l2_control
-blockyfix
 construct_streamer
-brokenfocus
 
 ## Loop and Watchdog
 ## In this case watchdog acts more like a "cable defect detector"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/crowsnest/config /home/mks/firmware_comparison/downloads/crowsnest/custompios/crowsnest/config
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/crowsnest/config	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/custompios/crowsnest/config	2024-10-08 17:45:29.818228183 -0400
@@ -2,7 +2,7 @@
 #### crowsnest - A webcam Service for multiple Cams and Stream Services.
 ####
 #### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021 - 2022
+#### Copyright 2021 - till today
 #### https://github.com/mainsail-crew/crowsnest
 ####
 #### This File is distributed under GPLv3
@@ -10,15 +10,14 @@
 # shellcheck disable=all
 
 # crowsnest repo
-[[ -n "$CROWSNEST_REPO_SHIP" ]] || CROWSNEST_REPO_SHIP=https://github.com/mainsail-crew/crowsnest.git
-[[ -n "$CROWSNEST_REPO_BRANCH" ]] || CROWSNEST_REPO_BRANCH=master
+[[ -n "$CROWSNEST_REPO_SHIP" ]] || CROWSNEST_REPO_SHIP="https://github.com/mainsail-crew/crowsnest.git"
+[[ -n "$CROWSNEST_REPO_BRANCH" ]] || CROWSNEST_REPO_BRANCH="master"
 
 # crowsnest setup
 [[ -n "$CROWSNEST_DEFAULT_CONF" ]] || CROWSNEST_DEFAULT_CONF="resources/crowsnest.conf"
 [[ -n "$CROWSNEST_CONFIG_PATH" ]] || CROWSNEST_CONFIG_PATH="/home/${BASE_USER}/printer_data/config"
 [[ -n "$CROWSNEST_LOG_PATH" ]] || CROWSNEST_LOG_PATH="/home/${BASE_USER}/printer_data/logs"
 [[ -n "$CROWSNEST_ENV_PATH" ]] || CROWSNEST_ENV_PATH="/home/${BASE_USER}/printer_data/systemd"
-[[ -n "$CROWSNEST_RASPICAMFIX" ]] || CROWSNEST_RASPICAMFIX="1"
 [[ -n "$CROWSNEST_ADD_CROWSNEST_MOONRAKER" ]] || CROWSNEST_ADD_CROWSNEST_MOONRAKER="1"
 [[ -n "$CROWSNEST_MOONRAKER_CONF_PATH" ]] || CROWSNEST_MOONRAKER_CONF_PATH="/home/${BASE_USER}/printer_data/config/moonraker.conf"
 
@@ -27,6 +26,10 @@
 [[ -n "$CROWSNEST_USTREAMER_REPO_SHIP" ]] || CROWSNEST_USTREAMER_REPO_SHIP="https://github.com/pikvm/ustreamer.git"
 [[ -n "$CROWSNEST_USTREAMER_REPO_BRANCH" ]] || CROWSNEST_USTREAMER_REPO_BRANCH="master"
 
+# camera-streamer
+[[ -n "$CROWSNEST_CAMERA_STREAMER_REPO_SHIP" ]] || CROWSNEST_CAMERA_STREAMER_REPO_SHIP="https://github.com/ayufan/camera-streamer.git"
+[[ -n "$CROWSNEST_CAMERA_STREAMER_REPO_BRANCH" ]] || CROWSNEST_CAMERA_STREAMER_REPO_BRANCH="master"
+
 ###########################################################################
 ### DO NOT EDIT BELOW THIS LINE, UNLESS YOU KNOW EXACTLY WHAT HAPPENDS! ###
 ###########################################################################
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/crowsnest/start_chroot_script /home/mks/firmware_comparison/downloads/crowsnest/custompios/crowsnest/start_chroot_script
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/crowsnest/start_chroot_script	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/custompios/crowsnest/start_chroot_script	2024-10-08 17:45:29.818228183 -0400
@@ -20,7 +20,25 @@
 
 # Module only Variables
 CN_BUILD_PACKAGE_FILE="/tmp/cn_packages.lst"
-CN_BUILD_INSTALL_SH="/home/${BASE_USER}/crowsnest/tools/install.sh"
+
+# Helper Func
+is_raspbian() {
+    if [[ -f /boot/config.txt ]] && [[ -f /etc/rpi-issue ]]; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+get_pkglist() {
+    if [[ "$(is_raspbian)" = "1" ]]; then
+        CN_BUILD_INSTALL_SH="/home/${BASE_USER}/crowsnest/tools/libs/pkglist-rpi.sh"
+    fi
+    if [[ "$(is_raspbian)" = "0" ]]; then
+        CN_BUILD_INSTALL_SH="/home/${BASE_USER}/crowsnest/tools/libs/pkglist-generic.sh"
+    fi
+}
+
 
 echo_green "Installing crowsnest ..."
 
@@ -38,6 +56,7 @@
 
 ## Step 3: grep PKGLIST from install.sh for dependencies
 echo_green "Generating packages file ..."
+get_pkglist
 grep "PKGLIST=" "${CN_BUILD_INSTALL_SH}" >> "${CN_BUILD_PACKAGE_FILE}"
 
 ## Step 4: Rename PKGLIST to Module usable Var
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/README.md /home/mks/firmware_comparison/downloads/crowsnest/custompios/README.md
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/custompios/README.md	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/custompios/README.md	2024-10-08 17:45:29.818228183 -0400
@@ -28,12 +28,6 @@
 Please feel free to Pull Request your config!
 I will add them.
 
-To ensure raspicam fix is applied during Image build set
-
-    CROWSNEST_RASPICAMFIX="1"
-
-This only works for Raspberry Pi OS! Will modify that in the future to support build images for other SBC's
-
 Last but not least:
 
     CROWSNEST_ADD_CROWSNEST_MOONRAKER="1"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/HEAD /home/mks/firmware_comparison/downloads/crowsnest/.git/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/HEAD	2023-12-15 01:50:44.418398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/HEAD	2024-10-08 17:45:29.812228161 -0400
@@ -1 +1 @@
-0bdc1bcb8d0d78f5cc2f19607e02014f3e1a54fb
+ref: refs/heads/master
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/fsmonitor-watchman.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/fsmonitor-watchman.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/fsmonitor-watchman.sample	2023-12-15 01:50:10.574398119 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/fsmonitor-watchman.sample	2024-10-08 17:45:29.207225954 -0400
@@ -8,107 +8,166 @@
 # (https://facebook.github.io/watchman/) with git to speed up detecting
 # new and modified files.
 #
-# The hook is passed a version (currently 1) and a time in nanoseconds
-# formatted as a string and outputs to stdout all files that have been
-# modified since the given time. Paths must be relative to the root of
-# the working tree and separated by a single NUL.
+# The hook is passed a version (currently 2) and last update token
+# formatted as a string and outputs to stdout a new update token and
+# all files that have been modified since the update token. Paths must
+# be relative to the root of the working tree and separated by a single NUL.
 #
 # To enable this hook, rename this file to "query-watchman" and set
 # 'git config core.fsmonitor .git/hooks/query-watchman'
 #
-my ($version, $time) = @ARGV;
+my ($version, $last_update_token) = @ARGV;
 
-# Check the hook interface version
+# Uncomment for debugging
+# print STDERR "$0 $version $last_update_token\n";
 
-if ($version == 1) {
-	# convert nanoseconds to seconds
-	$time = int $time / 1000000000;
-} else {
+# Check the hook interface version
+if ($version ne 2) {
 	die "Unsupported query-fsmonitor hook version '$version'.\n" .
 	    "Falling back to scanning...\n";
 }
 
-my $git_work_tree;
-if ($^O =~ 'msys' || $^O =~ 'cygwin') {
-	$git_work_tree = Win32::GetCwd();
-	$git_work_tree =~ tr/\\/\//;
-} else {
-	require Cwd;
-	$git_work_tree = Cwd::cwd();
-}
+my $git_work_tree = get_working_dir();
 
 my $retry = 1;
 
+my $json_pkg;
+eval {
+	require JSON::XS;
+	$json_pkg = "JSON::XS";
+	1;
+} or do {
+	require JSON::PP;
+	$json_pkg = "JSON::PP";
+};
+
 launch_watchman();
 
 sub launch_watchman {
+	my $o = watchman_query();
+	if (is_work_tree_watched($o)) {
+		output_result($o->{clock}, @{$o->{files}});
+	}
+}
+
+sub output_result {
+	my ($clockid, @files) = @_;
+
+	# Uncomment for debugging watchman output
+	# open (my $fh, ">", ".git/watchman-output.out");
+	# binmode $fh, ":utf8";
+	# print $fh "$clockid\n@files\n";
+	# close $fh;
 
+	binmode STDOUT, ":utf8";
+	print $clockid;
+	print "\0";
+	local $, = "\0";
+	print @files;
+}
+
+sub watchman_clock {
+	my $response = qx/watchman clock "$git_work_tree"/;
+	die "Failed to get clock id on '$git_work_tree'.\n" .
+		"Falling back to scanning...\n" if $? != 0;
+
+	return $json_pkg->new->utf8->decode($response);
+}
+
+sub watchman_query {
 	my $pid = open2(\*CHLD_OUT, \*CHLD_IN, 'watchman -j --no-pretty')
-	    or die "open2() failed: $!\n" .
-	    "Falling back to scanning...\n";
+	or die "open2() failed: $!\n" .
+	"Falling back to scanning...\n";
 
 	# In the query expression below we're asking for names of files that
-	# changed since $time but were not transient (ie created after
-	# $time but no longer exist).
+	# changed since $last_update_token but not from the .git folder.
 	#
 	# To accomplish this, we're using the "since" generator to use the
 	# recency index to select candidate nodes and "fields" to limit the
 	# output to file names only. Then we're using the "expression" term to
 	# further constrain the results.
-	#
-	# The category of transient files that we want to ignore will have a
-	# creation clock (cclock) newer than $time_t value and will also not
-	# currently exist.
-
+	if (substr($last_update_token, 0, 1) eq "c") {
+		$last_update_token = "\"$last_update_token\"";
+	}
 	my $query = <<"	END";
 		["query", "$git_work_tree", {
-			"since": $time,
+			"since": $last_update_token,
 			"fields": ["name"],
-			"expression": ["not", ["allof", ["since", $time, "cclock"], ["not", "exists"]]]
+			"expression": ["not", ["dirname", ".git"]]
 		}]
 	END
 
+	# Uncomment for debugging the watchman query
+	# open (my $fh, ">", ".git/watchman-query.json");
+	# print $fh $query;
+	# close $fh;
+
 	print CHLD_IN $query;
 	close CHLD_IN;
 	my $response = do {local $/; <CHLD_OUT>};
 
+	# Uncomment for debugging the watch response
+	# open ($fh, ">", ".git/watchman-response.json");
+	# print $fh $response;
+	# close $fh;
+
 	die "Watchman: command returned no output.\n" .
-	    "Falling back to scanning...\n" if $response eq "";
+	"Falling back to scanning...\n" if $response eq "";
 	die "Watchman: command returned invalid output: $response\n" .
-	    "Falling back to scanning...\n" unless $response =~ /^\{/;
-
-	my $json_pkg;
-	eval {
-		require JSON::XS;
-		$json_pkg = "JSON::XS";
-		1;
-	} or do {
-		require JSON::PP;
-		$json_pkg = "JSON::PP";
-	};
+	"Falling back to scanning...\n" unless $response =~ /^\{/;
 
-	my $o = $json_pkg->new->utf8->decode($response);
+	return $json_pkg->new->utf8->decode($response);
+}
 
-	if ($retry > 0 and $o->{error} and $o->{error} =~ m/unable to resolve root .* directory (.*) is not watched/) {
-		print STDERR "Adding '$git_work_tree' to watchman's watch list.\n";
+sub is_work_tree_watched {
+	my ($output) = @_;
+	my $error = $output->{error};
+	if ($retry > 0 and $error and $error =~ m/unable to resolve root .* directory (.*) is not watched/) {
 		$retry--;
-		qx/watchman watch "$git_work_tree"/;
+		my $response = qx/watchman watch "$git_work_tree"/;
 		die "Failed to make watchman watch '$git_work_tree'.\n" .
 		    "Falling back to scanning...\n" if $? != 0;
+		$output = $json_pkg->new->utf8->decode($response);
+		$error = $output->{error};
+		die "Watchman: $error.\n" .
+		"Falling back to scanning...\n" if $error;
+
+		# Uncomment for debugging watchman output
+		# open (my $fh, ">", ".git/watchman-output.out");
+		# close $fh;
 
 		# Watchman will always return all files on the first query so
 		# return the fast "everything is dirty" flag to git and do the
 		# Watchman query just to get it over with now so we won't pay
 		# the cost in git to look up each individual file.
-		print "/\0";
+		my $o = watchman_clock();
+		$error = $output->{error};
+
+		die "Watchman: $error.\n" .
+		"Falling back to scanning...\n" if $error;
+
+		output_result($o->{clock}, ("/"));
+		$last_update_token = $o->{clock};
+
 		eval { launch_watchman() };
-		exit 0;
+		return 0;
 	}
 
-	die "Watchman: $o->{error}.\n" .
-	    "Falling back to scanning...\n" if $o->{error};
+	die "Watchman: $error.\n" .
+	"Falling back to scanning...\n" if $error;
 
-	binmode STDOUT, ":utf8";
-	local $, = "\0";
-	print @{$o->{files}};
+	return 1;
+}
+
+sub get_working_dir {
+	my $working_dir;
+	if ($^O =~ 'msys' || $^O =~ 'cygwin') {
+		$working_dir = Win32::GetCwd();
+		$working_dir =~ tr/\\/\//;
+	} else {
+		require Cwd;
+		$working_dir = Cwd::cwd();
+	}
+
+	return $working_dir;
 }
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-commit.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-commit.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-commit.sample	2023-12-15 01:50:10.570398119 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-commit.sample	2024-10-08 17:45:29.207225954 -0400
@@ -16,7 +16,7 @@
 fi
 
 # If you want to allow non-ASCII filenames set this variable to true.
-allownonascii=$(git config --bool hooks.allownonascii)
+allownonascii=$(git config --type=bool hooks.allownonascii)
 
 # Redirect output to stderr.
 exec 1>&2
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-merge-commit.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-merge-commit.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-merge-commit.sample	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-merge-commit.sample	2024-10-08 17:45:29.207225954 -0400
@@ -0,0 +1,13 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed.
+# Called by "git merge" with no arguments.  The hook should
+# exit with non-zero status after issuing an appropriate message to
+# stderr if it wants to stop the merge commit.
+#
+# To enable this hook, rename this file to "pre-merge-commit".
+
+. git-sh-setup
+test -x "$GIT_DIR/hooks/pre-commit" &&
+        exec "$GIT_DIR/hooks/pre-commit"
+:
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-push.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-push.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/pre-push.sample	2023-12-15 01:50:10.570398119 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/pre-push.sample	2024-10-08 17:45:29.207225954 -0400
@@ -14,7 +14,7 @@
 # Information about the commits which are being pushed is supplied as lines to
 # the standard input in the form:
 #
-#   <local ref> <local sha1> <remote ref> <remote sha1>
+#   <local ref> <local oid> <remote ref> <remote oid>
 #
 # This sample shows how to prevent push of commits where the log message starts
 # with "WIP" (work in progress).
@@ -22,27 +22,27 @@
 remote="$1"
 url="$2"
 
-z40=0000000000000000000000000000000000000000
+zero=$(git hash-object --stdin </dev/null | tr '[0-9a-f]' '0')
 
-while read local_ref local_sha remote_ref remote_sha
+while read local_ref local_oid remote_ref remote_oid
 do
-	if [ "$local_sha" = $z40 ]
+	if test "$local_oid" = "$zero"
 	then
 		# Handle delete
 		:
 	else
-		if [ "$remote_sha" = $z40 ]
+		if test "$remote_oid" = "$zero"
 		then
 			# New branch, examine all commits
-			range="$local_sha"
+			range="$local_oid"
 		else
 			# Update to existing branch, examine new commits
-			range="$remote_sha..$local_sha"
+			range="$remote_oid..$local_oid"
 		fi
 
 		# Check for WIP commit
-		commit=`git rev-list -n 1 --grep '^WIP' "$range"`
-		if [ -n "$commit" ]
+		commit=$(git rev-list -n 1 --grep '^WIP' "$range")
+		if test -n "$commit"
 		then
 			echo >&2 "Found WIP commit in $local_ref, not pushing"
 			exit 1
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/push-to-checkout.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/push-to-checkout.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/push-to-checkout.sample	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/push-to-checkout.sample	2024-10-08 17:45:29.207225954 -0400
@@ -0,0 +1,78 @@
+#!/bin/sh
+
+# An example hook script to update a checked-out tree on a git push.
+#
+# This hook is invoked by git-receive-pack(1) when it reacts to git
+# push and updates reference(s) in its repository, and when the push
+# tries to update the branch that is currently checked out and the
+# receive.denyCurrentBranch configuration variable is set to
+# updateInstead.
+#
+# By default, such a push is refused if the working tree and the index
+# of the remote repository has any difference from the currently
+# checked out commit; when both the working tree and the index match
+# the current commit, they are updated to match the newly pushed tip
+# of the branch. This hook is to be used to override the default
+# behaviour; however the code below reimplements the default behaviour
+# as a starting point for convenient modification.
+#
+# The hook receives the commit with which the tip of the current
+# branch is going to be updated:
+commit=$1
+
+# It can exit with a non-zero status to refuse the push (when it does
+# so, it must not modify the index or the working tree).
+die () {
+	echo >&2 "$*"
+	exit 1
+}
+
+# Or it can make any necessary changes to the working tree and to the
+# index to bring them to the desired state when the tip of the current
+# branch is updated to the new commit, and exit with a zero status.
+#
+# For example, the hook can simply run git read-tree -u -m HEAD "$1"
+# in order to emulate git fetch that is run in the reverse direction
+# with git push, as the two-tree form of git read-tree -u -m is
+# essentially the same as git switch or git checkout that switches
+# branches while keeping the local changes in the working tree that do
+# not interfere with the difference between the branches.
+
+# The below is a more-or-less exact translation to shell of the C code
+# for the default behaviour for git's push-to-checkout hook defined in
+# the push_to_deploy() function in builtin/receive-pack.c.
+#
+# Note that the hook will be executed from the repository directory,
+# not from the working tree, so if you want to perform operations on
+# the working tree, you will have to adapt your code accordingly, e.g.
+# by adding "cd .." or using relative paths.
+
+if ! git update-index -q --ignore-submodules --refresh
+then
+	die "Up-to-date check failed"
+fi
+
+if ! git diff-files --quiet --ignore-submodules --
+then
+	die "Working directory has unstaged changes"
+fi
+
+# This is a rough translation of:
+#
+#   head_has_history() ? "HEAD" : EMPTY_TREE_SHA1_HEX
+if git cat-file -e HEAD 2>/dev/null
+then
+	head=HEAD
+else
+	head=$(git hash-object -t tree --stdin </dev/null)
+fi
+
+if ! git diff-index --quiet --cached --ignore-submodules $head --
+then
+	die "Working directory has staged changes"
+fi
+
+if ! git read-tree -u -m "$commit"
+then
+	die "Could not update working tree to new HEAD"
+fi
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/update.sample /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/update.sample
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/hooks/update.sample	2023-12-15 01:50:10.574398119 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/hooks/update.sample	2024-10-08 17:45:29.207225954 -0400
@@ -43,11 +43,11 @@
 fi
 
 # --- Config
-allowunannotated=$(git config --bool hooks.allowunannotated)
-allowdeletebranch=$(git config --bool hooks.allowdeletebranch)
-denycreatebranch=$(git config --bool hooks.denycreatebranch)
-allowdeletetag=$(git config --bool hooks.allowdeletetag)
-allowmodifytag=$(git config --bool hooks.allowmodifytag)
+allowunannotated=$(git config --type=bool hooks.allowunannotated)
+allowdeletebranch=$(git config --type=bool hooks.allowdeletebranch)
+denycreatebranch=$(git config --type=bool hooks.denycreatebranch)
+allowdeletetag=$(git config --type=bool hooks.allowdeletetag)
+allowmodifytag=$(git config --type=bool hooks.allowmodifytag)
 
 # check for no description
 projectdesc=$(sed -e '1q' "$GIT_DIR/description")
@@ -60,7 +60,7 @@
 
 # --- Check types
 # if $newrev is 0000...0000, it's a commit to delete a ref.
-zero="0000000000000000000000000000000000000000"
+zero=$(git hash-object --stdin </dev/null | tr '[0-9a-f]' '0')
 if [ "$newrev" = "$zero" ]; then
 	newrev_type=delete
 else
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/index and /home/mks/firmware_comparison/downloads/crowsnest/.git/index differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/HEAD /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/HEAD	2023-12-15 01:50:44.418398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/HEAD	2024-10-08 17:45:29.816228176 -0400
@@ -1,2 +1 @@
-0000000000000000000000000000000000000000 f7ac6aa298143f0019eae9b2b2be8039196ebeda Mks <mks@mkspi.(none)> 1702623014 +0800	clone: from https://github.com/mainsail-crew/crowsnest.git
-f7ac6aa298143f0019eae9b2b2be8039196ebeda 0bdc1bcb8d0d78f5cc2f19607e02014f3e1a54fb Mks <mks@mkspi.(none)> 1702623044 +0800	checkout: moving from master to 0bdc1bcb8d0d78f5cc2f19607e02014f3e1a54fb
+0000000000000000000000000000000000000000 d75a3aeb018384e59d03518754f6148c98894ed9 mks <mks@arm2.myguest.virtualbox.org> 1728423929 -0400	clone: from https://github.com/mainsail-crew/crowsnest.git
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/refs/heads/master /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/refs/heads/master
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/refs/heads/master	2023-12-15 01:50:14.222398121 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/refs/heads/master	2024-10-08 17:45:29.816228176 -0400
@@ -1 +1 @@
-0000000000000000000000000000000000000000 f7ac6aa298143f0019eae9b2b2be8039196ebeda Mks <mks@mkspi.(none)> 1702623014 +0800	clone: from https://github.com/mainsail-crew/crowsnest.git
+0000000000000000000000000000000000000000 d75a3aeb018384e59d03518754f6148c98894ed9 mks <mks@arm2.myguest.virtualbox.org> 1728423929 -0400	clone: from https://github.com/mainsail-crew/crowsnest.git
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/refs/remotes/origin/HEAD /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/refs/remotes/origin/HEAD
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/logs/refs/remotes/origin/HEAD	2023-12-15 01:50:14.218398121 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/logs/refs/remotes/origin/HEAD	2024-10-08 17:45:29.812228161 -0400
@@ -1 +1 @@
-0000000000000000000000000000000000000000 f7ac6aa298143f0019eae9b2b2be8039196ebeda Mks <mks@mkspi.(none)> 1702623014 +0800	clone: from https://github.com/mainsail-crew/crowsnest.git
+0000000000000000000000000000000000000000 d75a3aeb018384e59d03518754f6148c98894ed9 mks <mks@arm2.myguest.virtualbox.org> 1728423929 -0400	clone: from https://github.com/mainsail-crew/crowsnest.git
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/objects/pack/pack-86075d8791e917f0f237b323c6090676a751634e.idx and /home/mks/firmware_comparison/downloads/crowsnest/.git/objects/pack/pack-86075d8791e917f0f237b323c6090676a751634e.idx differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/objects/pack/pack-86075d8791e917f0f237b323c6090676a751634e.pack and /home/mks/firmware_comparison/downloads/crowsnest/.git/objects/pack/pack-86075d8791e917f0f237b323c6090676a751634e.pack differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/objects/pack/pack-9af791d25986c62168988198ac9654e5b893879c.idx and /home/mks/firmware_comparison/downloads/crowsnest/.git/objects/pack/pack-9af791d25986c62168988198ac9654e5b893879c.idx differ
Binary files /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/objects/pack/pack-9af791d25986c62168988198ac9654e5b893879c.pack and /home/mks/firmware_comparison/downloads/crowsnest/.git/objects/pack/pack-9af791d25986c62168988198ac9654e5b893879c.pack differ
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/packed-refs /home/mks/firmware_comparison/downloads/crowsnest/.git/packed-refs
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/packed-refs	2023-12-15 01:50:14.214398121 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/packed-refs	2024-10-08 17:45:29.812228161 -0400
@@ -1,8 +1,8 @@
 # pack-refs with: peeled fully-peeled sorted 
 454a5fff57a35d45f71df516e9de5f19f9740eb2 refs/remotes/origin/chore/release-workflow
-61421f514821f948924883fd894726c1a495ff0f refs/remotes/origin/develop
+3396dc3cfba65d46c228774891b6bef219cc62c9 refs/remotes/origin/develop
 0bdc1bcb8d0d78f5cc2f19607e02014f3e1a54fb refs/remotes/origin/legacy/v3
-f7ac6aa298143f0019eae9b2b2be8039196ebeda refs/remotes/origin/master
+d75a3aeb018384e59d03518754f6148c98894ed9 refs/remotes/origin/master
 2f4c46cfb096b62365df9f7bf204018aa1319e21 refs/tags/4.0.3
 ^f6e2156ab30d326f048e9de8f680c9f12be792d8
 309dafc6dd62c97a3f2bac7ab01042aa4a2176df refs/tags/v0.0.0
@@ -60,3 +60,11 @@
 259738da3569cbbc3c83c0e134a3faddfa9b8f87 refs/tags/v4.0.5
 a3fc4626ad8f691ea9d553bb99ab008bc73d5e06 refs/tags/v4.1.0
 80603788bc30a53c2e1c9560cd85940e7b309ea8 refs/tags/v4.1.1
+6659f300cdc03ff13df0d598d17462a0b81a42c8 refs/tags/v4.1.2
+c81b00f69cca0b9521e2b2eaad299e23dbb4ad29 refs/tags/v4.1.3
+99cfba58abc903c43dd8c630f64ff3bc9572fdeb refs/tags/v4.1.4
+a5e498822d576be6b3e31e4f2d968d626dba2ad8 refs/tags/v4.1.5
+efe5d88afd11940ca80c57337e977ec23792365f refs/tags/v4.1.6
+ea6ab64d9ed19c65d174ae472c7d0e6661b83cce refs/tags/v4.1.7
+9dba7beceb6cfc33555476b79fbd1e233ccce196 refs/tags/v4.1.8
+ae607a8d7de66be0c6aed0f9add193e7119aaa0c refs/tags/v4.1.9
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/refs/heads/master /home/mks/firmware_comparison/downloads/crowsnest/.git/refs/heads/master
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.git/refs/heads/master	2023-12-15 01:50:14.218398121 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.git/refs/heads/master	2024-10-08 17:45:29.816228176 -0400
@@ -1 +1 @@
-f7ac6aa298143f0019eae9b2b2be8039196ebeda
+d75a3aeb018384e59d03518754f6148c98894ed9
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/label-actions.yml /home/mks/firmware_comparison/downloads/crowsnest/.github/label-actions.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/label-actions.yml	2023-12-15 01:50:14.246398121 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.github/label-actions.yml	2024-10-08 17:45:29.818228183 -0400
@@ -1,6 +1,6 @@
 # Configuration for Label Actions - https://github.com/dessant/label-actions
 
-not on Github:
+not an Issue:
   issues:
     comment: |
       Ahoi!
@@ -9,10 +9,12 @@
       Many helpful people will not see your message here and you are
       unlikely to get a useful response.
 
-      We use github to handle bugreports, feature requests and
-      planning new releases.
+      We use the Github Issue-Tracker only for development related
+      topics, like feature requests, bug reports etc. To get help,
+      please join our Discord-Server or ask in Github Discussions:
 
-      Please use our Discord-Server for help: [discord.gg/mainsail](https://discord.gg/mainsail)
+      - [discord.gg/mainsail](https://discord.gg/mainsail)
+      - [GitHub Discussions](https://github.com/orgs/mainsail-crew/discussions)
 
       This ticket will be automatically closed.
 
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/workflows/release.yml /home/mks/firmware_comparison/downloads/crowsnest/.github/workflows/release.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/workflows/release.yml	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.github/workflows/release.yml	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,91 @@
+name: Release
+
+on:
+  workflow_dispatch:
+    inputs:
+      version:
+        type: string
+        description: New version number in X.Y.Z
+        required: true
+
+jobs:
+  update-master-branch:
+    runs-on: ubuntu-latest
+    steps:
+      - uses: everlytic/branch-merge@1.1.5
+        with:
+          github_token: ${{ secrets.PAT }}
+          source_ref: 'develop'
+          target_branch: 'master'
+          commit_message_template: '[Automated] Merged {source_ref} into target {target_branch}'
+
+  release:
+    needs: [ 'update-master-branch' ]
+    runs-on: ubuntu-latest
+    permissions:
+      contents: write
+    steps:
+      - name: Fetch repo
+        uses: actions/checkout@v4
+        with:
+          ref: 'master'
+          fetch-depth: 0
+
+      - name: Get latest tag
+        id: latest_tag
+        shell: bash
+        run: |
+          echo "TAG_NAME=$(git describe --tags $(git rev-list --tags --max-count=1))" >> $GITHUB_OUTPUT
+      - name: Generate a changelog
+        uses: orhun/git-cliff-action@v2
+        id: generate-changelog
+        with:
+          config: ./cliff-release.toml
+          args: ${{ steps.latest_tag.outputs.TAG_NAME }}..HEAD
+
+      - name: Create release and upload build
+        uses: softprops/action-gh-release@v1
+        id: create-release
+        with:
+          name: v${{ github.event.inputs.version }}
+          tag_name: v${{ github.event.inputs.version }}
+          token: ${{ secrets.GITHUB_TOKEN }}
+          body: ${{ steps.generate-changelog.outputs.content }}
+
+  update-changelog:
+    needs: [ 'release' ]
+    name: Generate changelog
+    runs-on: ubuntu-latest
+    steps:
+      - name: Checkout
+        uses: actions/checkout@v4
+        with:
+          ref: 'master'
+          token: ${{ secrets.PAT }}
+          fetch-depth: 0
+
+      - name: Get latest tag
+        id: latest_tag
+        shell: bash
+        run: |
+          echo "TAG_NAME=$(git describe --tags $(git rev-list --tags --max-count=1))" >> $GITHUB_OUTPUT
+      - name: Generate a changelog
+        uses: orhun/git-cliff-action@v2
+        id: git-cliff
+        with:
+          config: cliff.toml
+          args: v0.0.0..${{ steps.latest_tag.outputs.TAG_NAME }}
+        env:
+          OUTPUT: ${{ github.workspace }}/CHANGELOG.md
+
+      - uses: stefanzweifel/git-auto-commit-action@v4
+        with:
+          commit_message: 'docs(changelog): update changelog'
+          file_pattern: CHANGELOG.md
+
+      - uses: everlytic/branch-merge@1.1.5
+        with:
+          github_token: ${{ secrets.PAT }}
+          source_ref: 'master'
+          target_branch: 'develop'
+          commit_message_template: '[Automated] Merged {source_ref} into target {target_branch}'
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/workflows/shellcheck.yml /home/mks/firmware_comparison/downloads/crowsnest/.github/workflows/shellcheck.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.github/workflows/shellcheck.yml	2023-12-15 01:50:44.402398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.github/workflows/shellcheck.yml	2024-10-08 17:45:29.818228183 -0400
@@ -9,6 +9,7 @@
   pull_request:
     branches:
       - 'master'
+      - 'develop'
     paths:
       - '**.sh'
       - 'webcamd'
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.gitignore /home/mks/firmware_comparison/downloads/crowsnest/.gitignore
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/.gitignore	2023-12-15 01:50:44.402398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/.gitignore	2024-10-08 17:45:29.818228183 -0400
@@ -13,12 +13,13 @@
 # Ignore leftover
 leftover*
 
-#Ignore Test Files
-test*
-
 # tmp file workaround
 lost*
 
+# ignore bin paths
+bin/ustreamer
+bin/camera-streamer
+
 # Ignore rtsp-simple-server binary
 bin/rtsp-simple-server/rtsp*
 bin/rtsp-simple-server/*.yml
@@ -26,3 +27,6 @@
 # Ignore Config for Intsaller
 tools/config.local
 tools/.config
+
+# Ignore pkglist
+tools/pkglist.sh
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/camera-streamer.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/camera-streamer.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/camera-streamer.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/camera-streamer.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,127 @@
+#!/bin/bash
+
+#### camera-streamer library
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2022
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit upon Errors
+set -Ee
+
+function run_multi() {
+    local cams
+    cams="${1}"
+    for instance in ${cams} ; do
+        run_ayucamstream "${instance}" &
+    done
+}
+
+function run_ayucamstream() {
+    local cam_sec ust_bin dev pt res rtsp rtsp_pt fps cstm noprx start_param
+    local v4l2ctl
+    cam_sec="${1}"
+    ust_bin="${BASE_CN_PATH}/bin/camera-streamer/camera-streamer"
+    dev="$(get_param "cam ${cam_sec}" device)"
+    pt=$(get_param "cam ${cam_sec}" port)
+    res=$(get_param "cam ${cam_sec}" resolution)
+    fps=$(get_param "cam ${cam_sec}" max_fps)
+    rtsp=$(get_param "cam ${cam_sec}" enable_rtsp)
+    rtsp_pt=$(get_param "cam ${cam_sec}" rtsp_port)
+    cstm="$(get_param "cam ${cam_sec}" custom_flags 2> /dev/null)"
+    noprx="$(get_param "crowsnest" no_proxy 2> /dev/null)"
+    ## construct start parameter
+    # set http port
+    #
+    start_param=( --http-port="${pt}" )
+
+    if [[ -n "${noprx}" ]] && [[ "${noprx}" = "true" ]]; then
+        # See https://github.com/mainsail-crew/crowsnest/pull/221#issuecomment-1863555700 for why
+        # we cannot assume the binary has support for `--http-listen`.
+        if ${ust_bin} --help | grep -q "http-listen"; then
+            start_param+=( --http-listen=0.0.0.0 )
+            log_msg "INFO: Set to 'no_proxy' mode! Using 0.0.0.0!"
+        fi
+    fi
+
+    # Set device
+    start_param+=( --camera-path="${dev}" )
+
+    # Detect libcamera device and add start param accordingly
+    if [[ "${dev}" =~ "/base/soc" ]]; then
+        start_param+=( --camera-type=libcamera )
+        start_param+=( --camera-format=YUYV )
+    fi
+
+    if [[ "${dev}" =~ "/dev/video" ]] ||
+    [[ "${dev}" =~ "/dev/v4l/" ]]; then
+        start_param+=( --camera-type=v4l2 )
+    fi
+
+    # Use MJPEG Hardware encoder if possible
+    if [ "$(detect_mjpeg "${cam_sec}")" = "1" ] &&
+    [[ ! "${dev}" =~ "/base/soc" ]]; then
+        start_param+=( --camera-format=MJPG )
+    fi
+
+    # Set resolution
+    get_height_val() {
+        (sed 's/#.*//' | cut -d'x' -f2) <<< "${res}"
+    }
+    get_width_val() {
+        (sed 's/#.*//' | cut -d'x' -f1) <<< "${res}"
+    }
+
+    # Set snapshot heigth to 1080p by default
+    start_param+=( --camera-snapshot.height=1080 )
+
+    start_param+=( --camera-width="$(get_width_val)" )
+    start_param+=( --camera-height="$(get_height_val)" )
+
+    # Set FPS
+    start_param+=( --camera-fps="${fps}" )
+
+    # Enable rtsp, if set true
+    if [[ -n "${rtsp}" ]] && [[ "${rtsp}" == "true" ]]; then
+        # ensure a port is set
+        start_param+=( --rtsp-port="${rtsp_pt:-8554}" )
+    fi
+
+    # Enable camera-auto_reconnect by default
+    start_param+=( --camera-auto_reconnect=1 )
+
+    # Custom Flag Handling (append to defaults)
+    if [[ -n "${cstm}" ]]; then
+        start_param+=( "${cstm}" )
+    fi
+
+    # v4l2 option handling
+    v4l2ctl="$(get_param "cam ${cam_sec}" v4l2ctl)"
+    if [ -n "${v4l2ctl}" ]; then
+        IFS="," read -ra opt < <(echo "${v4l2ctl}" | tr -d " "); unset IFS
+        log_msg "V4L2 Control: Handling done by camera-streamer ..."
+        log_msg "V4L2 Control: Trying to set: ${v4l2ctl}"
+        # loop through options
+        for param in "${opt[@]}"; do
+            start_param+=( --camera-options="${param}" )
+        done
+    fi
+
+
+    # Log start_param
+    log_msg "Starting camera-streamer with Device ${dev} ..."
+    echo "Parameters: ${start_param[*]}" | \
+    log_output "camera-streamer [cam ${cam_sec}]"
+    # Start camera-streamer
+    echo "${start_param[*]}" | xargs "${ust_bin}" 2>&1 | \
+    log_output "camera-streamer [cam ${cam_sec}]"
+    # Should not be seen else failed.
+    log_msg "ERROR: Start of camera-streamer [cam ${cam_sec}] failed!"
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/configparser.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/configparser.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/configparser.sh	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/configparser.sh	2024-10-08 17:45:29.818228183 -0400
@@ -26,6 +26,7 @@
     param="${2}"
     crudini --get "${cfg}" "${section}" "${param}" 2> /dev/null | \
     sed 's/\#.*//;s/[[:space:]]*$//'
+    return
 }
 
 # Check for existing file
@@ -34,6 +35,8 @@
     if [ ! -r "${1}" ]; then
         log_msg "ERROR: No Configuration File found. Exiting!"
         exit 1
+    else
+        return 0
     fi
 }
 
@@ -46,12 +49,14 @@
         cams+=("${i}")
     done
     echo "${cams[@]}"
+    return
 }
 
 # Checks [cam <nameornumber>] if all needed configuration sections are present
 # call check_section <nameornumber> ex.: check_section foobar
 function check_section {
-    local section exist param must_exist missing
+    local section exist param
+    local -a must_exist missing
     section="cam ${1}"
     # Ignore missing custom flags
     exist="$(crudini --existing=param --get "${CROWSNEST_CFG}" "${section}" \
@@ -67,15 +72,22 @@
         fi
     done
     must_exist=(mode port device resolution max_fps)
-    missing="$(echo "${param[@]}" "${must_exist[@]}" | \
-    tr ' ' '\n' | sort | uniq -u)"
-    for i in "${missing[@]}"; do
-        if [ -n "${i}" ]; then
-            log_msg "ERROR: Parameter ${missing} not found in \
-            Section [${section}]. Start skipped!"
-        else
-            log_msg "INFO: Configuration of Section [${section}] looks good. \
-            Continue..."
+    missing=()
+    for i in "${must_exist[@]}"; do
+        if [[ -z "$(get_param "${section}" "${i}")" ]]; then
+            missing+=("${i}")
         fi
     done
+
+    if [[ "${#missing[@]}" != "0" ]]; then
+        for param in "${missing[@]}"; do
+            log_msg "ERROR: Parameter ${param} not found in Section [${section}]."
+        done
+        log_msg "ERROR: Please check your configuration!"
+        exit 1
+    fi
+    if [[ "${#missing[@]}" == "0" ]]; then
+        log_msg "INFO: Configuration of Section [${section}] looks good. Continue ..."
+    fi
+    return
 }
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/core.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/core.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/core.sh	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/core.sh	2024-10-08 17:45:29.818228183 -0400
@@ -33,8 +33,14 @@
 # Print Error Code and Line to Log
 # and kill running jobs
 function err_exit {
+    local file_trace func_trace line_trace
+    read -r LINE FUNC FILE < <(caller 0)
+    func_trace="${FUNC}"
+    file_trace="$(basename "${FILE}")"
+    line_trace="${LINE}"
     if [ "${1}" != "0" ]; then
-        log_msg "ERROR: Error ${1} occured on line ${2}"
+        log_msg "ERROR: Error ${1} occured on line ${line_trace}"
+        log_msg "==> Error occured in file: ${file_trace} -> ${func_trace}"
         log_msg "ERROR: Stopping $(basename "$0")."
         log_msg "Goodbye..."
     fi
@@ -66,7 +72,7 @@
 function check_dep {
     local dep
     dep="$(whereis "${1}" | awk '{print $2}')"
-    if [ -z "${dep}" ]; then
+    if [[ -z "${dep}" ]]; then
         log_msg "Dependency: '${1}' not found. Exiting!"
         exit 1
     else
@@ -75,30 +81,29 @@
 }
 
 function check_apps {
-    local paths
-    paths=(
-        bin/ustreamer/ustreamer
-        bin/rtsp-simple-server/rtsp-simple-server
-        )
-    for chk in "${paths[@]}"; do
-        if [ -x "${BASE_CN_PATH}/${chk}" ]; then
-            log_msg "Dependency: '$(echo "${chk}" | cut -d '/' -f3)' found in ${chk}."
+    local cstreamer ustreamer
+    ustreamer="bin/ustreamer/src/ustreamer.bin"
+    cstreamer="bin/camera-streamer/camera-streamer"
+    if [[ -x "${BASE_CN_PATH}/${ustreamer}" ]]; then
+        log_msg "Dependency: 'ustreamer' found in ${ustreamer}."
+        UST_BIN="${BASE_CN_PATH}/${ustreamer}"
+        # shellcheck disable=SC2034
+        declare -r UST_BIN
+    else
+        log_msg "Dependency: 'ustreamer' not found. Exiting!"
+        exit 1
+    fi
+
+    ## Avoid dependency check if non rpi sbc
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    [[ "$(is_ubuntu_arm)" = "0" ]] &&
+    [[ "$(is_pi5)" = "0" ]]; then
+        if [[ -x "${BASE_CN_PATH}/${cstreamer}" ]]; then
+            log_msg "Dependency: '${cstreamer##*/}' found in ${cstreamer}."
         else
-            log_msg "Dependency: '$(echo "${chk}" | cut -d '/' -f3)' not found. Exiting!"
+            log_msg "Dependency: '${cstreamer##*/}' not found. Exiting!"
             exit 1
         fi
-    done
-}
-
-# checks availability of OpenMax IL feature on host and in apps.
-# 0 = false / 1 = true
-function check_omx {
-    if [ -d "/opt/vc/include" ] &&
-    [ ! "$(ffmpeg -hide_banner -buildconf | grep -c 'omx')" = "0" ] &&
-    [ "$("${BASE_CN_PATH}"/bin/ustreamer/ustreamer --features | grep -c '\+ WITH_OMX')" = "1" ]; then
-        echo "1"
-    else
-        echo "0"
     fi
 }
 
@@ -107,12 +112,10 @@
 # print_cfg, see libs/logging.sh L#75
 # pint_cams, see libs/logging.sh L#84
 function initial_check {
-    log_msg "INFO: Checking Dependencys"
+    log_msg "INFO: Checking Dependencies"
     check_dep "crudini"
     check_dep "find"
-    check_dep "logger"
     check_dep "xargs"
-    check_dep "ffmpeg"
     check_apps
     versioncontrol
     # print cfg if ! "${CROWSNEST_LOG_LEVEL}": quiet
@@ -121,8 +124,7 @@
             print_cfg
         fi
     fi
-    # in systemd show always config file
-    logger -t crowsnest -f "${CROWSNEST_CFG}"
     log_msg "INFO: Detect available Devices"
     print_cams
+    return
 }
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/hwhandler.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/hwhandler.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/hwhandler.sh	2023-12-15 01:50:44.406398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/hwhandler.sh	2024-10-08 17:45:29.818228183 -0400
@@ -17,13 +17,12 @@
 set -Ee
 
 ### Detect Hardware
-function detect_avail_cams {
+detect_avail_cams() {
     local avail realpath
     avail="$(find /dev/v4l/by-id/ -iname "*index0" 2> /dev/null)"
     count="$(echo "${avail}" | wc -l)"
-    if [[ -d "/dev/v4l/by-id/" ]] &&
-    [[ -n "${avail}" ]]; then
-        log_msg "INFO: Found ${count} available camera(s)"
+    if [[ -d "/dev/v4l/by-id/" ]] && [[ -n "${avail}" ]]; then
+        log_msg "INFO: Found ${count} available v4l2 (UVC) camera(s)"
         echo "${avail}" | while read -r v4l; do
             realpath=$(readlink -e "${v4l}")
             log_msg "${v4l} -> ${realpath}"
@@ -37,74 +36,152 @@
     fi
 }
 
-function detect_avail_csi {
-    local avail count realpath
-    avail="$(find /dev/v4l/by-path/ -iname "*csi*index0" 2> /dev/null)"
-    count="$(echo "${avail}" | wc -l)"
-    if [[ -d "/dev/v4l/by-path/" ]] &&
-    [[ -n "${avail}" ]]; then
-        log_msg "INFO: Found ${count} available csi device(s)"
-        echo "${avail}" | while read -r csi; do
-            realpath=$(readlink -e "${csi}")
-            log_msg "${csi} -> ${realpath}"
-        done
-    else
-        log_msg "INFO: No usable CSI Devices found."
-    fi
-}
-
-# Used for "verbose" and "debug" logging in logging.sh
-function list_cam_formats {
-    local device formats
+## Used for "verbose" and "debug" logging in logging.sh
+list_cam_formats() {
+    local device prefix
     device="${1}"
-    formats="$(v4l2-ctl -d "${device}" --list-formats-ext | sed '1,3d')"
+    prefix="$(date +'[%D %T]') crowsnest:"
     log_msg "Supported Formats:"
-    echo "${formats}" | while read -r i; do
-        log_msg "\t\t${i}"
-    done
+    while read -r i; do
+        printf "%s\t\t%s\n" "${prefix}" "${i}" >> "${CROWSNEST_LOG_PATH}"
+    done < <(v4l2-ctl -d "${device}" --list-formats-ext | sed '1,3d')
 }
 
-function list_cam_v4l2ctrls {
-    local device ctrls
+list_cam_v4l2ctrls() {
+    local device prefix
     device="${1}"
-    ctrls="$(v4l2-ctl -d "${device}" --list-ctrls-menus)"
+    prefix="$(date +'[%D %T]') crowsnest:"
     log_msg "Supported Controls:"
-    echo "${ctrls}" | while read -r i; do
-        log_msg "\t\t${i}"
-    done
+    while read -r i; do
+        printf "%s\t\t%s\n" "${prefix}" "${i}" >> "${CROWSNEST_LOG_PATH}"
+    done < <(v4l2-ctl -d "${device}" --list-ctrls-menus)
 }
 
-# Determine connected "raspicam" device
-function detect_raspicam {
+## Determine connected libcamera (CSI) device
+detect_libcamera() {
     local avail
-    if [[ -f /proc/device-tree/model ]] &&
-    grep -q "Raspberry" /proc/device-tree/model; then
-        avail="$(vcgencmd get_camera | awk -F '=' '{ print $3 }' | cut -d',' -f1)"
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    [[ -x "$(command -v libcamera-hello)" ]]; then
+        avail="$(libcamera-hello --list-cameras | grep -c "Available" || echo "0")"
+        if [[ "${avail}" = "1" ]]; then
+            get_libcamera_path | wc -l
+        else
+            echo "0"
+        fi
+    else
+        echo "0"
+    fi
+}
+
+## Spit /base/soc path for libcamera device
+get_libcamera_path() {
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    [[ -x "$(command -v libcamera-hello)" ]]; then
+        libcamera-hello --list-cameras | sed '1,2d' \
+        | grep "\(/base/*\)" | cut -d"(" -f2 | tr -d '$)'
+    fi
+}
+
+# print libcamera resolutions
+list_picam_resolution() {
+    local prefix
+    prefix="$(date +'[%D %T]') crowsnest:"
+    log_msg "'libcamera' device(s) resolution(s) :"
+    while IFS= read -r i; do
+        printf "%s\t\t%s\n" "${prefix}" "${i}" >> "${CROWSNEST_LOG_PATH}"
+    done < <(libcamera-hello --list-cameras | sed '1,2d;s/Modes:/Colorspace:/')
+}
+
+get_libcamera_controls() {
+    local ust_bin flags
+    flags=( --camera-type=libcamera --camera-list_options )
+    ust_bin="${BASE_CN_PATH}/bin/camera-streamer/camera-streamer"
+    if [[ -x "${ust_bin}" ]]; then
+        "${ust_bin}" "${flags[@]}" --camera-path="$(get_libcamera_path)" 2> /dev/null | \
+        sed 's/device//g;/^SNAPSHOT/q' | sed '/^SNAPSHOT/d' | \
+        sed '/^CAMERA/d;/- property/d' | sed '/camera-streamer Version:/d' | \
+        sed 's/- available option: //g' | sed '/^$/d;' | \
+        sed 's/([0-9]*[a-z,0-9]\, /(/g' | sed '/type=7/d;/type=4/d;/type=Rectangle/d' | \
+        sed 's/type=1/bool/g;s/type=3/int/g;s/type=5/float/g' | sed 's/type=//g;' | \
+        sed 's/\[/min=/g;s/\.\./ max=/g;s/\]$//g'
     else
-        avail="0"
+        log_msg "WARN: 'libcamera' device option can not be displayed, because"
+        log_msg "WARN: camera-streamer is not installed"
+    fi
+}
+
+list_picam_controls() {
+    local prefix
+    prefix="$(date +'[%D %T]') crowsnest:"
+    log_msg "'libcamera' device controls :"
+    while IFS= read -r i; do
+        if [[ ! "${i}" =~ "INFO" ]]; then
+            printf "%s\t\t%s\n" "${prefix}" "${i}" >>"${CROWSNEST_LOG_PATH}"
+        fi
+    done < <(get_libcamera_controls)
+    # blank line workaround
+    log_msg ""
+}
+
+# Determine connected "legacy" device
+function detect_legacy {
+    local avail
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    command -v vcgencmd &> /dev/null; then
+        if vcgencmd get_camera &> /dev/null; then
+            avail="$( vcgencmd get_camera | awk -F '=' '{ print $3 }' | cut -d',' -f1)"
+        fi
     fi
-    echo "${avail}"
+    echo "${avail:-0}"
 }
 
-function dev_is_raspicam {
-    v4l2-ctl --list-devices |  grep -A1 -e 'mmal' | \
+function dev_is_legacy {
+    v4l2-ctl --list-devices | grep -A1 -e 'mmal' | \
     awk 'NR==2 {print $1}'
 }
 
-# Determine if cam has H.264 Hardware encoder
-# call detect_h264 <nameornumber> ex.: detect_h264 foobar
-# returns 1 = true / 0 = false ( numbers are strings! not int!)
-function detect_h264 {
+## Determine if cam has H.264 Hardware encoder
+## call detect_h264 <nameornumber> ex.: detect_h264 foobar
+## returns 1 = true / 0 = false ( numbers are strings! not int!)
+detect_h264() {
     local dev
     dev="$(get_param "cam ${1}" device)"
     v4l2-ctl -d "${dev}" --list-formats-ext | grep -c "[hH]264"
 }
 
-# Determine if cam has MJPEG Hardware encoder
-# call detect_mjpeg <nameornumber> ex.: detect_mjpeg foobar
-# returns 1 = true / 0 = false ( numbers are strings! not int!)
-function detect_mjpeg {
+## Determine if cam has MJPEG Hardware encoder
+## call detect_mjpeg <nameornumber> ex.: detect_mjpeg foobar
+## returns 1 = true / 0 = false ( numbers are strings! not int!)
+detect_mjpeg() {
     local dev
     dev="$(get_param "cam ${1}" device)"
     v4l2-ctl -d "${dev}" --list-formats-ext | grep -c "Motion-JPEG, compressed"
 }
+
+## Check if device is raspberry sbc
+is_raspberry_pi() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_pi5() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry Pi 5" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_ubuntu_arm() {
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    grep -q "ubuntu" /etc/os-release; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/init_stream.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/init_stream.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/init_stream.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/init_stream.sh	2024-10-08 17:45:29.818228183 -0400
@@ -26,11 +26,19 @@
         mode="$(get_param "cam ${cams}" mode)"
         check_section "${cams}"
         case ${mode} in
-            mjpg | mjpeg)
-                MJPG_INSTANCES+=( "${cams}" )
+            [mM]ulti | camera-streamer)
+                if [[ "$(is_raspberry_pi)" = "1" ]] &&
+                [[ "$(is_ubuntu_arm)" = "0" ]] &&
+                [[ "$(is_pi5)" = "0" ]]; then
+                    MULTI_INSTANCES+=( "${cams}" )
+                else
+                    log_msg "WARN: Mode 'camera-streamer' is not supported on your device!"
+                    log_msg "WARN: Falling back to Mode 'ustreamer'"
+                    MJPG_INSTANCES+=( "${cams}" )
+                fi
             ;;
-            rtsp)
-                RTSP_INSTANCES+=( "${cams}" )
+            mjpg | mjpeg | ustreamer)
+                MJPG_INSTANCES+=( "${cams}" )
             ;;
             ?|*)
                 unknown_mode_msg
@@ -39,12 +47,12 @@
             ;;
         esac
     done
+    if [ "${#MULTI_INSTANCES[@]}" != "0" ]; then
+        run_multi "${MULTI_INSTANCES[*]}"
+    fi
     if [ "${#MJPG_INSTANCES[@]}" != "0" ]; then
         run_mjpg "${MJPG_INSTANCES[*]}"
     fi
-    if [ "${#RTSP_INSTANCES[@]}" != "0" ]; then
-        run_rtsp "${RTSP_INSTANCES[*]}"
-    fi
     sleep 2 & sleep_pid="$!" ; wait "${sleep_pid}"
     log_msg " ... Done!"
 }
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/logging.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/logging.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/logging.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/logging.sh	2024-10-08 17:45:29.818228183 -0400
@@ -61,8 +61,8 @@
     local msg prefix
     msg="${1}"
     prefix="$(date +'[%D %T]') crowsnest:"
-    echo -e "${prefix} ${msg}" | tr -s ' ' | tee -a "${CROWSNEST_LOG_PATH}" 2>&1
-    echo -e "${msg}" | logger -t crowsnest
+    printf "%s %s\n" "${prefix}" "${msg}" >> "${CROWSNEST_LOG_PATH}"
+    printf "%s\n" "${msg}"
 }
 
 #call '| log_output "<prefix>"'
@@ -73,36 +73,48 @@
         if [[ "${CROWSNEST_LOG_LEVEL}" = "debug" ]]; then
             log_msg "${prefix}: ${line}"
         fi
-        if [[ -n "${line}" ]]; then
-            # needed to prettify ustreamers output
-            echo "${line//^--/ustreamer}" | logger -t crowsnest
-        fi
     done
 }
 
 function print_cfg {
     local prefix
-    prefix="\t\t"
+    prefix="$(date +'[%D %T]') crowsnest:"
     log_msg "INFO: Print Configfile: '${CROWSNEST_CFG}'"
     (sed '/^#.*/d;/./,$!d' | cut -d'#' -f1) < "${CROWSNEST_CFG}" | \
     while read -r line; do
-        log_msg "${prefix}${line}"
+        printf "%s\t\t%s\n" "${prefix}" "${line}" >> "${CROWSNEST_LOG_PATH}"
+        printf "\t\t%s\n" "${line}"
     done
 }
 
 function print_cams {
-    local csi raspicam total v4l
+    local device total v4l
     v4l="$(find /dev/v4l/by-id/ -iname "*index0" 2> /dev/null | wc -l)"
-    csi="$(find /dev/v4l/by-path/ -iname "*csi*index0" 2> /dev/null | wc -l)"
-    total="$((v4l+$(detect_raspicam)+csi))"
-    if [[ "${total}" -eq 0 ]]; then
+    libcamera="$(detect_libcamera)"
+    legacy="$(detect_legacy)"
+    total="$((v4l+libcamera+legacy))"
+    if [ "${total}" -eq 0 ]; then
         log_msg "ERROR: No usable Devices Found. Stopping $(basename "${0}")."
         exit 1
     else
         log_msg "INFO: Found ${total} total available Device(s)"
     fi
-    if [[ "$(detect_raspicam)" -ne 0 ]]; then
-        raspicam="$(v4l2-ctl --list-devices |  grep -A1 -e 'mmal' | \
+    if [[ "${libcamera}" -ne 0 ]]; then
+        if [[ "$(is_pi5)" = "1" ]]; then
+            log_msg "================================================================"
+            log_msg " WARN: 'libcamera' devices are currently not supported on Pi 5! "
+            log_msg "================================================================"
+        fi
+        for device in $(get_libcamera_path); do
+            log_msg "Detected 'libcamera' device -> ${device}"
+        done
+        if [[ "$(is_pi5)" = "0" ]]; then
+            list_picam_resolution
+            list_picam_controls
+        fi
+    fi
+    if [[ "${legacy}" -ne 0 ]]; then
+        raspicam="$(v4l2-ctl --list-devices | grep -A1 -e 'mmal' | \
         awk 'NR==2 {print $1}')"
         log_msg "Detected 'Raspicam' Device -> ${raspicam}"
         if [[ ! "${CROWSNEST_LOG_LEVEL}" = "quiet" ]]; then
@@ -113,9 +125,6 @@
     if [[ -d "/dev/v4l/by-id/" ]]; then
         detect_avail_cams
     fi
-    if [[ -d "/dev/v4l/by-path" ]]; then
-        detect_avail_csi
-    fi
 }
 
 function print_host {
@@ -156,12 +165,3 @@
         log_msg "Host Info: Diskspace (avail. / total): ${disksize}"
     fi
 }
-
-function debug_msg {
-    local prefix
-    prefix="Develop -- DEBUG:"
-    while read -r msg; do
-        log_msg "${prefix} ${msg}"
-        echo -e "${msg}" | logger -t crowsnest
-    done <<< "${1}"
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/messages.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/messages.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/messages.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/messages.sh	2024-10-08 17:45:29.818228183 -0400
@@ -34,29 +34,21 @@
     echo -e "\t crowsnest [Options]"
     echo -e "\n\t\t-h Prints this help."
     echo -e "\n\t\t-v Prints Version of crowsnest."
-    echo -e "\n\t\t-c </path/to/configfile>\n\t\t\tPath to your webcam.conf\n"
+    echo -e "\n\t\t-c </path/to/configfile>\n\t\t\tPath to your webcam.conf"
+    echo -e "\n\t\t-s <sleep_seconds>\n\t\t\tDelay start \(in seconds\) after boot\n"
 }
 
 function deprecated_msg_1 {
     log_msg "Parameter 'streamer' is deprecated!"
-    log_msg "Please use mode: [ mjpg | rtsp ]"
+    log_msg "Please use mode: [ ustreamer | camera-streamer ]"
     log_msg "ERROR: Please update your crowsnest.conf! Stopped."
 }
 
 function unknown_mode_msg {
     log_msg "WARN: Unknown Mode configured!"
-    log_msg "WARN: Using 'mode: mjpg' as fallback!"
+    log_msg "WARN: Using 'mode: ustreamer' as fallback!"
 }
 
-function provides_omx_msg {
-    if [ "$(check_omx)" -eq 1 ]; then
-        log_msg "INFO: System provides OpenMAX IL features."
-    else
-        log_msg "WARN: System does not provide OpenMAX IL features."
-    fi
-}
-
-
 ## v4l2_control lib
 function detected_broken_dev_msg {
     log_msg "WARN: Detected 'brokenfocus' device."
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/rtspsimple.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/rtspsimple.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/rtspsimple.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/rtspsimple.sh	1969-12-31 19:00:00.000000000 -0500
@@ -1,80 +0,0 @@
-#!/bin/bash
-
-#### ustreamer library
-
-#### crowsnest - A webcam Service for multiple Cams and Stream Services.
-####
-#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021
-#### https://github.com/mainsail-crew/crowsnest
-####
-#### This File is distributed under GPLv3
-####
-
-# shellcheck enable=require-variable-braces
-
-# Exit upon Errors
-set -Ee
-
-run_rtsp() {
-    local cams
-    cams="${1}"
-    if [[ -z "$(pidof rtsp-simple-server)" ]]; then
-        run_rtsp_srv &
-    fi
-    for instance in ${cams} ; do
-        run_ffmpeg "${instance}" &
-    done
-}
-
-
-run_ffmpeg() {
-    local cam_section ffmpeg_bin start_param
-    cam_section="${1}"
-    ffmpeg_bin="$(whereis ffmpeg | awk '{print $2}')"
-    dev="$(get_param "cam ${cam_section}" device)"
-    # Construct start_param
-    start_param=( -nostdin -hide_banner -f video4linux2 )
-    if [[ "$(detect_h264 "${cam_section}")" = "1" ]]; then
-        start_param+=( -input_format h264 -pix_fmt h264 )
-    else
-        start_param+=( -input_format yuyv422 )
-    fi
-    start_param+=(
-        -video_size "$(get_param "cam ${cam_section}" resolution)"
-        -framerate "$(get_param "cam ${cam_section}" max_fps)"
-        -i "${dev}"
-    )
-    if [[ "$(detect_h264 "${cam_section}")" -eq 0 ]] &&
-        [[ "$(check_omx)" -eq 1 ]]; then
-            start_param+=( -c:v h264_omx -b:v 8M )
-    else
-        start_param+=( -c:v copy )
-    fi
-    start_param+=(-f rtsp -rtsp_transport tcp rtsp://localhost:8554/"${cam_section}" )
-    # Log start_param
-    log_msg "Starting ffmpeg (rtsp stream source) with Device ${dev} ..."
-    echo "Parameters: ${start_param[*]}" | \
-    log_output "ffmpeg (rtsp stream source) [cam ${cam_section}]"
-    # Start ffmpeg
-    echo "${start_param[*]}" | xargs "${ffmpeg_bin}" 2>&1 | \
-    log_output "ffmpeg (rtsp stream source) [cam ${cam_section}]"
-    # Should not be seen else failed.
-    log_msg "ERROR: Start of ffmpeg (rtsp stream source) [cam ${cam_section}] failed!"
-}
-
-run_rtsp_srv() {
-    local rtsp_bin config
-    rtsp_bin="${BASE_CN_PATH}/bin/rtsp-simple-server/rtsp-simple-server"
-    config="${BASE_CN_PATH}/resources/crowsnest-rtsp.yml"
-    log_msg "Starting rtsp-simple-server with config ${config} ..."
-    echo "Config file: ${config}" | \
-    log_output "rtsp-simple-server [INFO]"
-    # Start rtsp-simple-server
-    # Have to use this dirty bash hack to get output to logfile.
-    "${rtsp_bin}" "${config}" &> >(log_output "rtsp-simple-server")
-    # Should not be seen else failed.
-    log_msg "ERROR: Start of rtsp-simple failed!"
-    echo "Config file: ${config}" | \
-    log_output "rtsp-simple-server [ERROR]"
-}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/ustreamer.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/ustreamer.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/ustreamer.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/ustreamer.sh	2024-10-08 17:45:29.818228183 -0400
@@ -18,20 +18,25 @@
 
 run_mjpg() {
     local cams
+    v4l2_control
     cams="${1}"
     for instance in ${cams} ; do
         run_ustreamer "${instance}" &
     done
+    blockyfix
+    brokenfocus "${cams}"
+    return
 }
 
 run_ustreamer() {
     local cam_sec ust_bin dev pt res fps cstm start_param
     cam_sec="${1}"
-    ust_bin="${BASE_CN_PATH}/bin/ustreamer/ustreamer"
+    # shellcheck disable=SC2153
+    ust_bin="${UST_BIN}"
     dev="$(get_param "cam ${cam_sec}" device)"
-    pt=$(get_param "cam ${cam_sec}" port)
-    res=$(get_param "cam ${cam_sec}" resolution)
-    fps=$(get_param "cam ${cam_sec}" max_fps)
+    pt="$(get_param "cam ${cam_sec}" port)"
+    res="$(get_param "cam ${cam_sec}" resolution)"
+    fps="$(get_param "cam ${cam_sec}" max_fps)"
     cstm="$(get_param "cam ${cam_sec}" custom_flags 2> /dev/null)"
     noprx="$(get_param "crowsnest" no_proxy 2> /dev/null)"
     # construct start parameter
@@ -41,17 +46,23 @@
     else
         start_param=( --host 127.0.0.1 -p "${pt}" )
     fi
+
     #Raspicam Workaround
-    if [[ "${dev}" = "$(dev_is_raspicam)" ]]; then
+    if [[ "${dev}" = "$(dev_is_legacy)" ]]; then
         start_param+=( -m MJPEG --device-timeout=5 --buffers=3 )
     else
+        # Add device
         start_param+=( -d "${dev}" --device-timeout=2 )
+
         # Use MJPEG Hardware encoder if possible
         if [ "$(detect_mjpeg "${cam_sec}")" = "1" ]; then
             start_param+=( -m MJPEG --encoder=HW )
         fi
     fi
+
+    # set max framerate
     start_param+=( -r "${res}" -f "${fps}" )
+
     # webroot & allow crossdomain requests
     start_param+=( --allow-origin=\* --static "${BASE_CN_PATH}/ustreamer-www" )
     # Custom Flag Handling (append to defaults)
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/v4l2_control.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/v4l2_control.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/v4l2_control.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/v4l2_control.sh	2024-10-08 17:45:29.818228183 -0400
@@ -16,7 +16,7 @@
 # shellcheck enable=require-variable-braces
 
 # Exit upon Errors
-set -eE
+set -Ee
 
 function v4l2_control {
     v4c_log_msg() {
@@ -36,7 +36,7 @@
                 v4c_log_msg "Device: [cam ${cam}]"
                 v4c_log_msg "Options: ${v4l2ctl}"
                 # Split options to array
-                IFS=',' read -ra opt < <(echo "${v4l2ctl}"); unset IFS
+                IFS="," read -ra opt < <(echo "${v4l2ctl}" | tr -d " "); unset IFS
                 # loop through options
                 for param in "${opt[@]}"; do
                     # parameter available for device
@@ -116,7 +116,7 @@
 
     function main {
         local cur_val conf_val device
-        for cam in $(configured_cams); do
+        for cam in ${1}; do
             device="$(get_param "cam ${cam}" device)"
             cur_val="$(get_current_value "${device}")"
             conf_val="$(get_conf_value "${cam}")"
@@ -133,7 +133,7 @@
     }
 
 ### MAIN
-main
+main "${1}"
 
 }
 
@@ -154,7 +154,7 @@
     for cam in $(configured_cams); do
         dev="$(get_param "cam ${cam}" device)"
         v4l2ctl="$(get_param "cam ${cam}" v4l2ctl)"
-        if [ "${dev}" = "$(dev_is_raspicam)" ]; then
+        if [ "${dev}" = "$(dev_is_legacy)" ]; then
             if [ -z "${v4l2ctl}" ] ||
             [ "$(grep -c "video_bitrate" <<< "${v4l2ctl}")" == "0" ]; then
                 set_bitrate "${dev}"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/versioncontrol.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/versioncontrol.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/versioncontrol.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/versioncontrol.sh	2024-10-08 17:45:29.818228183 -0400
@@ -18,58 +18,53 @@
 # Exit upon Errors
 set -Ee
 
-function versioncontrol {
+versioncontrol() {
 
-    function vc_log_msg {
+    vc_log_msg() {
         log_msg "Version Control: ${1}"
     }
 
-    function get_ustreamer_version {
+    get_ustreamer_version() {
         local cur_ver avail_ver
-        pushd "${BASE_CN_PATH}"/bin/ustreamer || exit 1
+        pushd "${BASE_CN_PATH}"/bin/ustreamer &> /dev/null || exit 1
             avail_ver="$(git describe --tags --always)"
-            cur_ver="v$("${PWD}"/ustreamer -v)"
+            cur_ver="v$(${UST_BIN} -v)"
             if [[ "${cur_ver}" == "${avail_ver}" ]]; then
                 vc_log_msg "ustreamer is up to date. (${cur_ver})"
             fi
             if [[ "${cur_ver}" != "${avail_ver}" ]]; then
                 vc_log_msg "ustreamer new version available: ${avail_ver} (${cur_ver})."
             fi
-        popd || exit 1
+        popd &> /dev/null || exit 1
     }
 
-    function get_rtsp_version {
-        local cur_ver avail_ver
-        pushd "${BASE_CN_PATH}"/bin/rtsp-simple-server || exit 1
-            avail_ver="$(cat version)"
-            cur_ver="$("${PWD}"/rtsp-simple-server --version)"
-            if [[ "${cur_ver}" == "${avail_ver}" ]]; then
-                vc_log_msg "rtsp-simple-server is up to date. (${cur_ver})"
-            fi
-            if [ "${cur_ver}" != "${avail_ver}" ]; then
-                vc_log_msg "rtsp-simple-server new version available: ${avail_ver} (${cur_ver})."
-            fi
-        popd || exit 1
-    }
 
-    function get_ffmpeg_version {
+    # Camera Streamer has no version Output yet
+    get_ayucamstream_version() {
         local cur_ver avail_ver
-            avail_ver="$(dpkg-query -W ffmpeg | awk -F':' '{print $2}')"
-            cur_ver="$(ffmpeg -version | awk 'NR==1 {print $3}')"
-            if [[ "${cur_ver}" == "${avail_ver}" ]]; then
-                vc_log_msg "ffmpeg is up to date. (${cur_ver})"
-            fi
-            if [[ "${cur_ver}" != "${avail_ver}" ]]; then
-                vc_log_msg "ffmpeg new version available: ${avail_ver} (${cur_ver})."
-            fi
+        if [[ "$(is_raspberry_pi)" = "1" ]] &&
+        [[ "$(is_ubuntu_arm)" = "0" ]] &&
+        [[ "$(is_pi5)" = "0" ]]; then
+            pushd "${BASE_CN_PATH}"/bin/camera-streamer &> /dev/null || exit 1
+                avail_ver="($(git describe --tags --always))"
+                cur_ver="$("${PWD}"/camera-streamer --version | tr -d " ")"
+                if [ "${cur_ver}" == "${avail_ver}" ]; then
+                    vc_log_msg "camera-streamer is up to date. (${cur_ver})"
+                fi
+                if [ "${cur_ver}" != "${avail_ver}" ]; then
+                    vc_log_msg "camera-streamer new version available: ${avail_ver} (${cur_ver})."
+                fi
+            popd &> /dev/null || exit 1
+        fi
     }
 
     ### MAIN
     function main {
         if [[ "${CROWSNEST_LOG_LEVEL}" != "quiet" ]]; then
             get_ustreamer_version
-            get_rtsp_version
-            get_ffmpeg_version
+            if [[ "$(is_raspberry_pi)" = "1" ]]; then
+                get_ayucamstream_version
+            fi
         fi
     }
 
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/watchdog.sh /home/mks/firmware_comparison/downloads/crowsnest/libs/watchdog.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/libs/watchdog.sh	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/libs/watchdog.sh	2024-10-08 17:45:29.818228183 -0400
@@ -64,10 +64,12 @@
     for i in $(get_conf_devices); do
         cc="$(crudini --get "${CROWSNEST_CFG}" "cam ${i}" "device" \
         | awk '{print $1}')"
-        if [ "$(available "${cc}")" -ne 0 ] && [ "$(is_lost "${cc}")" -ne 0 ]; then
+        if [[ ! "${cc}" =~ "/base/soc" ]] &&
+        [[ "$(available "${cc}")" -ne 0 ]] && [[ "$(is_lost "${cc}")" -ne 0 ]]; then
             log_msg "WATCHDOG: Lost Device: '${cc}'"
             lost_dev "${cc}"
-        elif [ "$(is_lost "${cc}")" -eq 0 ] && [ "$(available "${cc}")" -eq 0 ]; then
+        elif [[ ! "${cc}" =~ "/base/soc" ]] &&
+        [[ "$(is_lost "${cc}")" -eq 0 ]] && [[ "$(available "${cc}")" -eq 0 ]]; then
             log_msg "WATCHDOG: Device '${cc}' returned."
             returned_dev "${cc}"
         fi
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/Makefile /home/mks/firmware_comparison/downloads/crowsnest/Makefile
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/Makefile	2023-12-15 01:50:44.402398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/Makefile	2024-10-08 17:45:29.818228183 -0400
@@ -1,60 +1,53 @@
-#### webcamd - A webcam Service for multiple Cams and Stream Services.
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
 ####
 #### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021 - 2022
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
 #### https://github.com/mainsail-crew/crowsnest
 ####
 #### This File is distributed under GPLv3
 ####
 
-.PHONY: build buildclean config help install unsinstall
+#### Self-Documenting Makefile
+#### This is based on https://gellardo.github.io/blog/posts/2021-06-10-self-documenting-makefile/
 
-# Setup
-USER = $(shell whoami)
-BIN_FOLDER = bin
-
-all: help
-
-help:
-	@echo "This is intended to install crowsnest."
-	@echo ""
-	@echo "Some Parts need 'sudo' privileges."
-	@echo "You'll be asked for password, if needed."
-	@echo ""
-	@echo " Usage: make [action]"
-	@echo ""
-	@echo "  Available actions:"
-	@echo ""
-	@echo "   config       Configures Installer"
-	@echo "   install      Installs crowsnest (needs sudo)"
-	@echo "   uninstall    Uninstalls crowsnest (needs sudo)"
-	@echo "   build        builds binaries"
-	@echo "   buildclean   cleans binaries (for recompile)"
-	@echo "   clean        Removes Installer config"
-	@echo ""
+.DEFAULT_GOAL := help
+.PHONY: help
 
-install:
+install: ## Install crowsnest (needs leading sudo)
 	@bash -c 'tools/install.sh'
 
-uninstall:
+uninstall: ## Uninstall crowsnest
 	@bash -c 'tools/uninstall.sh'
 
-build:
-	$(MAKE) -C $(BIN_FOLDER)
+build: ## Compile backends / streamer
+	bash -c 'bin/build.sh --build'
 
-buildclean:
-	$(MAKE) -C $(BIN_FOLDER) clean
+buildclean: ## Clean backends / streamer (for rebuilding)
+	bash -c 'bin/build.sh --clean'
 
-clean:
+clean: ## Clean .config
 	@if [ -f tools/.config ]; then rm -f tools/.config; fi
-	@echo "Removed installer config file ..."
+	@printf "Removed installer config file ...\n"
 
-config:
+config: ## Configure crowsnest installer
 	@bash -c 'tools/configure.sh'
 
-report:
+help: ## Shows this help
+	@printf "crowsnest - A webcam Service for multiple Cams and Stream Services.\n"
+	@printf "Usage:\n\n"
+	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":.*?## "}; {printf "\033[36m%-20s\033[0m %s\n", $$1, $$2}'
+
+update: ## Update crowsnest (fetches and pulls repository changes)
+	@git fetch && git pull
+	@bash -c 'bin/build.sh --reclone'
+	${MAKE} build
+
+report: ## Generate report.txt
 	@if [ -f ~/report.txt ]; then rm -f ~/report.txt; fi
 	@bash -c 'tools/dev-helper.sh -a >> ~/report.txt'
 	@sed -ri 's/\x1B\[([0-9]{1,3}(;[0-9]{1,2})?)?[mGK]//g' ~/report.txt
 
-
+fixworkingdirectory: ## Fix service file WorkingDirectory path
+	@sudo sed -i "s~\(WorkingDirectory=\).*~\1$$PWD~" /etc/systemd/system/crowsnest.service
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/README.md /home/mks/firmware_comparison/downloads/crowsnest/README.md
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/README.md	2023-12-15 01:50:44.402398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/README.md	2024-10-08 17:45:29.818228183 -0400
@@ -10,11 +10,23 @@
 
 # crowsnest
 
-A webcam daemon for Raspberry Pi OS Lite images like [MainsailOS](https://github.com/mainsail-crew/MainsailOS)
+A wrapper script for webcam streaming on Raspberry Pi OS Lite images like [MainsailOS](https://github.com/mainsail-crew/MainsailOS). Mainly written in bash.
+
+-   [Why is it called crowsnest?](#why-is-it-called-crowsnest)
+-   [Support](#support)
+-   [Documentation](#documentation)
+-   [Compatibility](#compatibility)
+-   [Contribute](#contribute)
+-   [How to support us?](#how-to-support-us)
+-   [CustomPiOS-module](#custompios-module)
+-   [What 'Backends' does crowsnest use](#what-backends-does-crowsnest-use)
+-   [Credits](#credits)
 
 ---
 
-## It inherited his name from sailing ships crow's nest.
+## Why is it called crowsnest?
+
+**It inherited his name from sailing ships crow's nest.**
 
 > A crow's nest is a structure in the upper part of the main mast of a ship or a structure that is used as a lookout point. \
 > See https://en.wikipedia.org/wiki/Crow's_nest
@@ -23,90 +35,24 @@
 
 ---
 
-<br>
-
-# :rotating_light: Attention :rotating_light:
-
-_**This branch is intended to be used if you need to use Debian 10 (codename "buster") based OS images.**_
-
-This branch is more or less unmaintained.
-In my opinion, it worked very well and had no real problems until I released version 4.
-
-I will make some fixes if there is a need, but my main focus is on the current version (`master`branch)
-
-**Please note that the only documentation for this branch is in this document**
-
-<br>
-<br>
-
-## Index:
+## Support
 
--   [Foreword](#foreword)
--   [Installation](#installation)
-
-<br>
-
--   [Configuration :exclamation: **READ THIS** :exclamation:](#simple-configuration)
-
-<br>
-
--   [FAQ :exclamation: **READ THIS** :exclamation:](#faq)
-    -   [I get / keep getting Error 127 in line 31](#question-i-get--keep-getting-error-127-in-line-31-what-can-i-do)
-    -   [I set `mode` to `rtsp`, but I get no stream in VLC](#question-i-set-mode-to-rtsp-but-i-get-no-stream-in-vlc-what-should-i-do)
-    -   [I have twice the same model of a USB Cam, cant get both to show up](#question-i-have-twice-the-same-model-of-a-usb-cam-cant-get-both-to-show-up-what-can-i-do)
-    -   [How to install/use a Raspicam (V1/V2 are tested, HQ Variant untested)](#question-how-to-installuse-a-raspicam-v1v2-are-tested-hq-variant-untested)
-    -   [I use a Raspicam and a USB one but I cant get them both for unknown reason](#question-i-use-a-raspicam-and-a-usb-one-but-i-cant-get-them-both-for-unknown-reason-how-do-i-fix-that)
-
-<br>
-
--   [How do I contribute the best way](#question-how-do-i-contribute-the-best-way)
--   [I want to support you in person, because \<fillinyourreason>! - How? ](#question-but-kwad-i-want-to-support-you-in-person-because-fillinyourreason-how)
-
-<br>
-
--   [CustomPiOS-module](#custompios-module)
--   [What 'Backends' uses crowsnest?](#what-backends-uses-crowsnest)
--   [Credits](#credits)
+Please read carefully on [how to configure](https://crowsnest.mainsail.xyz/) crowsnest to your needs! Check out the [FAQ](https://crowsnest.mainsail.xyz/) section for first aid or join our [Discord](https://discord.gg/mainsail) server if you need further help. For some topics that are not covered in the documentation, just read below.
 
-<br>
-<br>
-<br>
+_**PS: Do not open issues that are based on misconfiguration! This makes it harder for me to keep track of problems in my code.**_
 
 ---
 
-<br>
+## Documentation
 
-## Foreword
+We have decided to move crowsnest's documentation to a new location.\
+Please go to [https://crowsnest.mainsail.xyz/](https://crowsnest.mainsail.xyz/)
 
-Thank you for choosing crowsnest as your stream service.
-
-**Please read carefully on [how to configre](#simple-configuration) crowsnest to your needs!**
-
-If you have any trouble that isn't corelated to my bad code :wink:
-
-see [FAQ](#faq) section for first aid. :rotating_light:
-
-Please join our [Discord](https://discord.gg/mainsail) server if you need further help.
-
-Do not open issues that are based on misconfiguration!
-
-This makes it harder for me to keep track of issues in my code.
-
-Thanks in advance \
-Regards KwadFan
-
-<br>
+If there is something in our documentation that is not covered, is described in a way that is misunderstood, or simply is missing, please let us know!
 
 ---
 
-<br>
-
-## Installation
-
-    cd ~
-    git clone -b legacy/v3 https://github.com/mainsail-crew/crowsnest.git
-    cd ~/crowsnest
-    sudo make install
+## Compatibility
 
 Tested on the following distributions:
 
@@ -116,411 +62,66 @@
 Should work but not tested: :question: \
 Not available: :heavy_minus_sign:
 
-|         Operating System          |  X86 Architecture  |     ARM Architecture     |
-| :-------------------------------: | :----------------: | :----------------------: |
-|        MainsailOS (<0.7.1)        | :heavy_minus_sign: | :heavy_check_mark: (rpi) |
-|        MainsailOS (>1.0.0)        | :heavy_minus_sign: | :heavy_check_mark: (rpi) |
-|              Armbian              |     :question:     |    :heavy_check_mark:    |
-|        Ubuntu Server 20.04        | :heavy_check_mark: |        :question:        |
-|      Ubuntu Server 22.04 LTS      | :heavy_check_mark: | :heavy_check_mark: (rpi) |
-| Linux Mint 21 (codename: vanessa) | :heavy_check_mark: |        :question:        |
-|    Archlinux (and derivatives)    |        :x:         |           :x:            |
-|           Alpine Linux            |        :x:         |           :x:            |
+|         Operating System          |  X86 Architecture  |     ARM Architecture                        |
+| :-------------------------------: | :----------------: | :-----------------------------------------: |
+|     Raspberry Pi OS (buster)      | :heavy_minus_sign: |   :x: ([Hint](#hint-buster))                       |
+|    Raspberry Pi OS (bullseye)     | :heavy_minus_sign: |    :heavy_check_mark:                       |
+|    Raspberry Pi OS (bookworm)     | :heavy_minus_sign: | :heavy_check_mark: ([Hint](#hint-bookworm)) |
+|        MainsailOS (<0.7.1)        | :heavy_minus_sign: |   :x: ([Hint](#hint-buster))                       |
+|        MainsailOS (>1.0.0)        | :heavy_minus_sign: | :heavy_check_mark: (rpi)                    |
+|              Armbian              |     :question:     |    :heavy_check_mark:                       |
+|              DietPi               |     :question:     |    :heavy_check_mark: (rpi)                 |
+|        Ubuntu Server 20.04        | :heavy_check_mark: |        :question:                           |
+|      Ubuntu Server 22.04 LTS      | :heavy_check_mark: | :heavy_check_mark: (rpi)                    |
+|      Ubuntu Server 23.10          |     :question:     | :heavy_check_mark: (rpi)                    |
+| Linux Mint 21 (codename: vanessa) | :heavy_check_mark: |        :question:                           |
+|    Archlinux (and derivatives)    |        :x:         |           :x:                               |
+|           Alpine Linux            |        :x:         |           :x:                               |
 
 _If you test that on other distributions, feel free to open a Pull Request to enhance documentation._
 
-After successful installation you should consider to add
-
-    [update_manager crowsnest]
-    type: git_repo
-    path: ~/crowsnest
-    origin: https://github.com/mainsail-crew/crowsnest.git
-    primary_branch: legacy/v3
-    install_script: tools/install.sh
-
-to your _moonraker.conf_, to get latest and possibly greatest features.
-
-### To uninstall 'crowsnest'
-
-    cd ~/crowsnest
-    make uninstall
-
-### Are there more options?
-
-Yes.
-
-    cd ~/crowsnest
-    make
-
-or
-
-    make help
-
-For advanced users it is possible to configure the installer.
-
-Simply run:
-
-    make config
-
----
-
-<br>
-
-## Simple Configuration
-
-All you need to get your camera up and running is a small block of code in your _crowsnest.conf_ \
-In MainsailOS you can do that in mainsail web interface. \
-Open the 'config' section, there should be the mentioned file.
-
-By default it look like this:
-
-    [crowsnest]
-    log_path: ~/printer_data/logs/crowsnest.log
-    log_level: quiet
-
-    [cam 1]
-    mode: mjpg
-    port: 8080
-    device: /dev/video0
-    resolution: 640x480
-    max_fps: 15
-
-What that basicly means is:
-
-    log_path: ~/printer_data/logs/crowsnest.log
-
-**:warning: _Do not change after installation! This will prevent logrotate properly handling the log file rotation!_ :warning:**
-
-You can choose:
-
-    log_level: quiet
-
-This option shows a bare minimum logfile. \
-For example:
-
-    [06/16/22 09:57:01] crowsnest: crowsnest - A webcam Service for multiple Cams and Stream Services.
-    [06/16/22 09:57:01] crowsnest: Version: v2.4.0-15-ge42799b
-    [06/16/22 09:57:01] crowsnest: Prepare Startup ...
-    [06/16/22 09:57:01] crowsnest: INFO: Checking Dependencys
-    [06/16/22 09:57:01] crowsnest: Dependency: 'crudini' found in /usr/bin/crudini.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'find' found in /usr/bin/find.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'logger' found in /usr/bin/logger.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'xargs' found in /usr/bin/xargs.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'ffmpeg' found in /usr/bin/ffmpeg.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'ustreamer' found in bin/ustreamer/ustreamer.
-    [06/16/22 09:57:02] crowsnest: Dependency: 'rtsp-simple-server' found in bin/rtsp-simple-server/rtsp-simple-server.
-    [06/16/22 09:57:02] crowsnest: INFO: Detect available Devices
-    [06/16/22 09:57:02] crowsnest: INFO: Found 1 total available Device(s)
-    [06/16/22 09:57:02] crowsnest: Detected 'Raspicam' Device -> /dev/video0
-    [06/16/22 09:57:02] crowsnest: INFO: No usable CSI Devices found.
-    [06/16/22 09:57:02] crowsnest: V4L2 Control:
-    [06/16/22 09:57:02] crowsnest: No parameters set for [cam 1]. Skipped.
-    [06/16/22 09:57:02] crowsnest: Try to start configured Cams / Services...
-    [06/16/22 09:57:03] crowsnest: INFO: Configuration of Section [cam 1] looks good. Continue...
-    [06/16/22 09:57:03] crowsnest: Starting ustreamer with Device /dev/video0 ...
-    [06/16/22 09:57:05] crowsnest: ... Done!
-
-The next option is
-
-    log_level: verbose
-
-This gives you a little more informations. \
-It prints out you existing _webcam.conf_ and shows a detailed info about your configured ( and connected ) cams.
-
-You will find an example log [here](log-example.md).
-
-This is useful to determine what the hardware encoder of your camera is capable of. \
-In this case a "cheap" raspicam for about 7€ was used. \
-So, truly made for 'Helper for Setup' purposes.
-
-If you want to get the full details, please use
-
-    log_level: debug
-
-This will show you barely the same as 'verbose' but it prints also your configured start parameters ( and the defaults ), \
-also it shows the output of your choosen streamer. \
-This option ist more for debugging purposes and has a tendency to overwhelm you if you are not familiar with that.
-
----
-
-Another option that affects the 'logging' behavior is
-
-    delete_log: true
-
-If you enable that option, everytime you restart, your existing log file will be deleted.
-
-If you want to run crowsnest without any proxy set up, \
-you can use
-
-    no_proxy: true
-
-This forces ustreamer to listen on all available network interfaces.
-
----
-
-Now the more interessting part.
-
-    [cam 1]
-    mode: mjpg
-    port: 8080
-    device: /dev/video0
-    resolution: 640x480
-    max_fps: 15
-
-_**Note:** You can name the cam, how you want! ex.: [cam raspicam]_
-**Attention: Do not skip the keyword 'cam'**
-
----
-
-This section should be pretty much self explantory.
-
-    mode: mjpg
-
-means your choosen streamservice will be ustreamer with the well known mjpg-protocol. \
-You can choose:
+#### Hint Buster
 
-    mode: rtsp
+OS images that are based on Debian 10 (codename 'buster') are no longer supported with Crowsnest version 4 (current `master` branch)!
 
-This let you use external viewer like vlc for example. \
-To view the stream use a proper player like [VLC](https://www.videolan.org/).
+Please use the `legacy/v3` branch for these OS types.\
+See the [README.md](https://github.com/mainsail-crew/crowsnest/tree/legacy/v3) of this branch for usage instructions.
 
-**The stream url will be _rtsp://\<printeriporname\>:8554/\<yourcamerasectionname\>_** \
-As an example: _rtsp://mainsail.local:8554/1_ \
+#### Hint Bookworm
 
-> _There will be no preview in your Browser!_
+Raspberry Pi OS images that are based on Debian 12 (codename 'bookworm') currently use a different branch of [camera-streamer](https://github.com/ayufan/camera-streamer)!
+The Raspberry Pi 5 has only [ustreamer](https://github.com/pikvm/ustreamer) support! This is due to the missing JPEG and H264 Hardware encoders.
 
 ---
 
-    port: 8080
-
-This will only affect the used port of ustreamer.
-
-> **_Ports 8080 - 8084 are covered by nginx reverse proxy in MainsailOS_** \
-> **_According to that 8080 will be /webcam, port 8081 will be /webcam2 and so on._**
-
----
-
-    device: /dev/video0
-
-This setting defines what video device will be used by the selected service.
-
-If you are not using a Raspberry Pi then `/dev/video0` might not work and you might encounter an "`Video capture not supported by the device`" error in the `crowsnest.log` log file.
-
-In this case you should use the direct device ID for the USB camera found in the `/dev/v4l/by-id` directory, like in the following example:
-
-    device: /dev/v4l/by-id/usb-PixArt_Imaging_Inc._USB2.0_Camera-video-index0
-
-Please be aware that all available devices are always listed in the `crowsnest.log` log file, so you can always copy the appropriate device ID from there.
-
----
-
-    resolution: 640x480
-
-Your desired FPS settings has to match what your camera able to deliver! \
-
-> _For the most part ignored in rtsp mode!_
-
-    max_fps: 15
-
-This last option only affects ustreamer: \
-This needs some to read further information.
-
-    custom_flags:
-
-If you enable this in your `[cam whatevernameyouset]`, \
-you can add parameters according to your needs. \
-Those will be appended to the default/preconfigured parameters.
-
-> **_These are seperated by a single space not comma seperated!_**
-
-To setup services to your need you have to take a closer look to the documentation of the project. \
-As a pointer in the right direction:
-
--   ustreamer
-    -   For sake of simplicity I converted ustreamers manpage to [ustreamer's manpage](./ustreamer_manpage.md)
-
----
-
-### Feature V4L2 Control:
-
-    v4l2ctl:
-
-This optional parameter allows you to setup your Cam due v4l2-ctl options. \
-Unfortunatly this is a complex topic. \
-But I try to explain it, as good I can.
-
-### As an Example
-
-You own a Logitech C920 Camera, these camera needs some tweaks to get a sharp picture. \
-A solution was to use a cronjob (timed actions due scripts) that runs a script with some v4l2-ctl commands.
-
-    v4l2-ctl -d /dev/video0 -c focus_auto=0
-    v4l2-ctl -d /dev/video0 -c focus_absolute=30
-
-That script gets executed when th Pi boots up. \
-Not a comfortable solution.
-
-[_alexz_](https://github.com/zellneralex) from the [mainsail-crew](https://github.com/orgs/mainsail-crew/people) mentioned it would be a good move when this could happen by crowsnest, hassle free for the user.
-
-Take a look at [alexz webcam.conf](https://github.com/zellneralex/klipper_config/blob/11f4f8db8ac0e273e25134b571d0a93291f3511e/webcam.conf)
-
-So, here we go.
-Simply add
-
-    v4l2ctl: focus_auto=0,focus_absolute=30
-
-to your camera setup section. \
-Restart webcamd via mainsail (or your used UI) and you're good to go.
-
-To determine which options or better said parameters your webcam provides, set at least
-
-    log_level: verbose
-
-This will show you a list with available options. Like this:
-
-    [04/02/22 15:07:44] webcamd: Supported Controls:
-    [04/02/22 15:07:44] webcamd: 		brightness 0x00980900 (int) : min=1 max=255 step=1 default=128 value=128
-    [04/02/22 15:07:44] webcamd: 		contrast 0x00980901 (int) : min=1 max=255 step=1 default=128 value=128
-    [04/02/22 15:07:44] webcamd: 		saturation 0x00980902 (int) : min=1 max=255 step=1 default=128 value=128
-    [04/02/22 15:07:44] webcamd: 		white_balance_temperature_auto 0x0098090c (bool) : default=1 value=1
-    [04/02/22 15:07:44] webcamd: 		gain 0x00980913 (int) : min=1 max=100 step=1 default=50 value=50
-    [04/02/22 15:07:45] webcamd: 		power_line_frequency 0x00980918 (menu) : min=0 max=2 default=1 value=1
-    [04/02/22 15:07:45] webcamd: 		0: Disabled
-    [04/02/22 15:07:45] webcamd: 		1: 50 Hz
-    [04/02/22 15:07:45] webcamd: 		2: 60 Hz
-    [04/02/22 15:07:45] webcamd: 		white_balance_temperature 0x0098091a (int) : min=2800 max=6500 step=1 default=4650 value=4650 flags=inactive
-    [04/02/22 15:07:45] webcamd: 		sharpness 0x0098091b (int) : min=1 max=255 step=1 default=128 value=128
-    [04/02/22 15:07:45] webcamd: 		exposure_auto 0x009a0901 (menu) : min=0 max=3 default=0 value=0
-    [04/02/22 15:07:45] webcamd: 		0: Auto Mode
-    [04/02/22 15:07:45] webcamd: 		2: Shutter Priority Mode
-    [04/02/22 15:07:46] webcamd: 		exposure_absolute 0x009a0902 (int) : min=5 max=2500 step=1 default=5 value=5 flags=inactive
-    [04/02/22 15:07:46] webcamd: 		exposure_auto_priority 0x009a0903 (bool) : default=0 value=0
-
-You have to "play around" with those settings if it matches your needs. \
-simply repeat the commands as mentioned earlier in your ssh connection. \
-If you have discoverd your setup write that to your _webcam.conf_ as described.
-
----
-
-<br>
-
-## FAQ
-
----
-
-#### :question: I get / keep getting Error 127 in line 31. What can I do?
-
-**Solution:**
-
-Simple fix. For what ever reason ustreamer wont start. Run the following commands please.
-
-    sudo systemctl stop crowsnest.service
-    cd ~/crowsnest
-    make buildclean
-    make build
-    sudo systemctl start crowsnest.service
-
-Did it work? If your answer is yes... Was easy right? :wink: \
-If it doesn't work for you, you probably updated a Debian "Buster" to latest "Bullseye" right? \
-Here is the catch, Buster uses a proprietary Firmware for the GPU called OpenMaxIL. \
-This isn't included any more in "Bullseye". \
-These files are located in `/opt/vc`. \
-Please backup these files and delete this folder by
-
-    sudo rm -rf /opt/vc
-
-Now run the commands mentioned in the beginning.
-
----
-
-#### :question: I set `mode` to `rtsp`, but I get no stream in VLC. What should I do?
-
-**Solution:**
-
-Read your log. \
-If you are not using a raspicam or a camera with an inbuilt "H264" encoder, chances are equal to zero, to get a rtsp stream. \
-Sorry :man_shrugging:
-
----
-
-#### :question: I have twice the same model of a USB Cam, cant get both to show up. What can I do?
-
-**Solution:**
-
-Easy fix: Run
-
-    ls -l /dev/v4l/by-path
-
-Grab the two equal named devices, ending with `index0` \
-Use that paths as device path in your _crowsnest.conf_!
-
----
-
-#### :question: How to install/use a Raspicam (V1/V2 are tested, HQ Variant untested)?
-
-**Solution:**
-
-Well...
-
-If your device is a Raspberry Pi, one of the mentioned cameras **and** your OS is a Raspberry Pi OS based one, simply do nothing! \
-I tried as much as I can to reduce the steps to get that done. \
-Use `/dev/video0` as device in your _crowsnest.conf_ \
-That is the device path I try to force for Raspicams.
-
----
-
-#### :question: I use a Raspicam and a USB one but I cant get them both for unknown reason. How do I fix that?
-
-**Solution:**
-
-My "force action" for Raspicams has a downside. If your USB Cam was attached before you extended a raspicam, the path `/dev/video0` is blocked by that USB Cam.
-
-To fix that please unplug the USB one and reboot. \
-Plug the USB Cam in, after the stream of the raspicam is shown. \
-After that use the `/dev/v4l/by-id/<whateveryourdeviceidis>-index0` for the USB one and restart crowsnest. \
-
----
-
-#### :question: How do I contribute the best way?
-
-**Solution:**
-
-Well...
+## Contribute
 
 1. Create an Issue related to your topic.
-2. Prepare an _tested_ Pull Request against the develop branch
+2. Prepare an _tested_ Pull Request against the `develop` branch
     - Please use commits formatted according to [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)
-    - Make sure not to ignore code formating as provided via [_.editorconfig_](.editorconfig) of this repo
-3. Be patient. Every PR has to pass some sort of "internal gates" before it will hit the master branch, unless an immediate reaction is crutial.
+    - Make sure you do not ignore the code formatting as provided by the [_.editorconfig_](.editorconfig) of this repo
+3. Be patient. Every PR has to go through some sort of "internal gates" before it reaches the master branch, unless an immediate response is crucial.
 
 ---
 
-#### :question: But Kwad I want to support you in person, because \<fillinyourreason>! How?
+## How to support us
 
-**Solution:**
+Buy [KwadFan](https://github.com/KwadFan) a coffee at [ko-fi.com](https://ko-fi.com/KwadFan) or [support the mainsail project](https://docs.mainsail.xyz/about/sponsors#support-mainsail)
 
-Buy me a coffee at [ko-fi.com](https://ko-fi.com/U7U2GK66P)
+Please consider hitting the :star: button in the upper right hand corner to show some love for this project.
 
 ---
 
 ## CustomPIOS Module
 
-I have decided to provide an [CustomPiOS Module](https://github.com/guysoft/CustomPiOS) to make it easier to integrate to other distributions like MainsailOS or similar. \
-Please see [README.md](./custompios/README.md) in the module folder for further informations.
+I have decided to provide a [CustomPiOS Module](https://github.com/guysoft/CustomPiOS) to make it easier to integrate with other distributions like MainsailOS or similar. \
+Please see [README.md](./custompios/README.md) in the module folder for more information.
 
 ---
 
-## What 'Backends' uses crowsnest?
+## What 'Backends' does crowsnest use?
 
--   ustreamer - A streamserver from Pi-KVM project \
-    active maintained by [Maxim Devaev](https://github.com/mdevaev) \
-    [ustreamer on github](https://github.com/pikvm/ustreamer)
-
--   rtsp-simple-server
-    -   This server provides rtsp streams and more \
-        at this point of development are only 'rtsp' features enabled \
-        More features are planned. \
-        [rtsp-simple-server](https://github.com/aler9/rtsp-simple-server) is written in Go by [aler9](https://github.com/aler9)
+Please see the according [FAQ](https://crowsnest.mainsail.xyz/faq/backends-from-crowsnest) section in our documentation.
 
 ---
 
@@ -534,6 +135,8 @@
 
 Thanks to [Pedro Lamas](https://github.com/pedrolamas), for the ISSUE_TEMPLATES.
 
+Thanks to [ayufan](https://github.com/ayufan) for keep going on camera-streamer, even I stressed him to get rid of some bugs ;)
+
 ---
 
 <p align="center">
@@ -542,4 +145,4 @@
 
 **So, with all that said, get your position seaman! Prepare to get wet feets on your journey.**
 
-## ARRRR yooo rrready to sail?
+## Are you ready to sail?
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/bcm2835-v4l2.conf /home/mks/firmware_comparison/downloads/crowsnest/resources/bcm2835-v4l2.conf
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/bcm2835-v4l2.conf	2023-12-15 01:50:44.410398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/bcm2835-v4l2.conf	1969-12-31 19:00:00.000000000 -0500
@@ -1,12 +0,0 @@
-#### crowsnest - A webcam Service for multiple Cams and Stream Services.
-####
-#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021
-#### https://github.com/mainsail-crew/crowsnest
-####
-#### This File is distributed under GPLv3
-####
-
-# See https://github.com/pikvm/ustreamer#raspberry-pi-camera-example
-
-options bcm2835-v4l2 max_video_width=2592 max_video_height=1944
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.conf /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.conf
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.conf	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.conf	2024-10-08 17:45:29.818228183 -0400
@@ -17,6 +17,14 @@
 ####    Port 8082 equals /webcam3/?action=[stream/snapshot]     #####
 ####    Port 8083 equals /webcam4/?action=[stream/snapshot]     #####
 ####                                                            #####
+####    Note: These ports are default for most Mainsail         #####
+####    installations. To use any other port would involve      #####
+####    changing the proxy configuration or using directly      #####
+####    http://<ip>:<port>/?action=[stream/snapshot]            #####
+####                                                            #####
+#####################################################################
+####    RTSP Stream URL: ( if enabled and supported )           #####
+####    rtsp://<ip>:<rtsp_port>/stream.h264                     #####
 #####################################################################
 
 
@@ -24,10 +32,14 @@
 log_path: %LOGPATH%
 log_level: verbose                      # Valid Options are quiet/verbose/debug
 delete_log: false                       # Deletes log on every restart, if set to true
+no_proxy: false
 
 [cam 1]
-mode: mjpg                              # mjpg/rtsp
-port: 8080                              # Port
+mode: ustreamer                         # ustreamer - Provides mjpg and snapshots. (All devices)
+                                        # camera-streamer - Provides webrtc, mjpg and snapshots. (rpi + Raspi OS based only)
+enable_rtsp: false                      # If camera-streamer is used, this enables also usage of an rtsp server
+rtsp_port: 8554                         # Set different ports for each device!
+port: 8080                              # HTTP/MJPG Stream/Snapshot Port
 device: /dev/video0                     # See Log for available ...
 resolution: 640x480                     # widthxheight format
 max_fps: 15                             # If Hardware Supports this it will be forced, otherwise ignored/coerced.
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.env /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.env
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.env	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.env	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1 @@
+CROWSNEST_ARGS="-c %CONFPATH%/crowsnest.conf"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest-rtsp.yml /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest-rtsp.yml
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest-rtsp.yml	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest-rtsp.yml	1969-12-31 19:00:00.000000000 -0500
@@ -1,280 +0,0 @@
-###############################################
-# General parameters
-
-# Sets the verbosity of the program; available values are "error", "warn", "info", "debug".
-logLevel: info
-# Destinations of log messages; available values are "stdout", "file" and "syslog".
-logDestinations: [stdout]
-# If "file" is in logDestinations, this is the file which will receive the logs.
-logFile: rtsp-simple-server.log
-
-# Timeout of read operations.
-readTimeout: 10s
-# Timeout of write operations.
-writeTimeout: 10s
-# Number of read buffers.
-# A higher number allows a wider throughput, a lower number allows to save RAM.
-readBufferCount: 512
-
-# HTTP URL to perform external authentication.
-# Every time a user wants to authenticate, the server calls this URL
-# with the POST method and a body containing:
-# {
-#   "ip": "ip",
-#   "user": "user",
-#   "password": "password",
-#   "path": "path",
-#   "action": "read|publish"
-#   "query": "url's raw query"
-# }
-# If the response code is 20x, authentication is accepted, otherwise
-# it is discarded.
-externalAuthenticationURL:
-
-# Enable the HTTP API.
-api: no
-# Address of the API listener.
-apiAddress: 127.0.0.1:9997
-
-# Enable Prometheus-compatible metrics.
-metrics: no
-# Address of the metrics listener.
-metricsAddress: 127.0.0.1:9998
-
-# Enable pprof-compatible endpoint to monitor performances.
-pprof: no
-# Address of the pprof listener.
-pprofAddress: 127.0.0.1:9999
-
-# Command to run when a client connects to the server.
-# This is terminated with SIGINT when a client disconnects from the server.
-# The following environment variables are available:
-# * RTSP_PORT: server port
-runOnConnect:
-# Restart the command if it exits suddenly.
-runOnConnectRestart: no
-
-###############################################
-# RTSP parameters
-
-# Disable support for the RTSP protocol.
-rtspDisable: no
-# List of enabled RTSP transport protocols.
-# UDP is the most performant, but doesn't work when there's a NAT/firewall between
-# server and clients, and doesn't support encryption.
-# UDP-multicast allows to save bandwidth when clients are all in the same LAN.
-# TCP is the most versatile, and does support encryption.
-# The handshake is always performed with TCP.
-protocols: [udp, multicast, tcp]
-# Encrypt handshake and TCP streams with TLS (RTSPS).
-# Available values are "no", "strict", "optional".
-encryption: "no"
-# Address of the TCP/RTSP listener. This is needed only when encryption is "no" or "optional".
-rtspAddress: :8554
-# Address of the TCP/TLS/RTSPS listener. This is needed only when encryption is "strict" or "optional".
-rtspsAddress: :8322
-# Address of the UDP/RTP listener. This is needed only when "udp" is in protocols.
-rtpAddress: :8000
-# Address of the UDP/RTCP listener. This is needed only when "udp" is in protocols.
-rtcpAddress: :8001
-# IP range of all UDP-multicast listeners. This is needed only when "multicast" is in protocols.
-multicastIPRange: 224.1.0.0/16
-# Port of all UDP-multicast/RTP listeners. This is needed only when "multicast" is in protocols.
-multicastRTPPort: 8002
-# Port of all UDP-multicast/RTCP listeners. This is needed only when "multicast" is in protocols.
-multicastRTCPPort: 8003
-# Path to the server key. This is needed only when encryption is "strict" or "optional".
-# This can be generated with:
-# openssl genrsa -out server.key 2048
-# openssl req -new -x509 -sha256 -key server.key -out server.crt -days 3650
-serverKey: server.key
-# Path to the server certificate. This is needed only when encryption is "strict" or "optional".
-serverCert: server.crt
-# Authentication methods.
-authMethods: [basic, digest]
-
-###############################################
-# RTMP parameters
-
-# Disable support for the RTMP protocol.
-rtmpDisable: no
-# Address of the RTMP listener.
-rtmpAddress: :1935
-
-###############################################
-# HLS parameters
-
-# Disable support for the HLS protocol.
-hlsDisable: no
-# Address of the HLS listener.
-hlsAddress: :8888
-# By default, HLS is generated only when requested by a user.
-# This option allows to generate it always, avoiding the delay between request and generation.
-hlsAlwaysRemux: no
-# Variant of the HLS protocol to use. Available options are:
-# * mpegts - uses MPEG-TS segments, for maximum compatibility.
-# * fmp4 - uses fragmented MP4 segments, more efficient.
-# * lowLatency - uses Low-Latency HLS.
-hlsVariant: mpegts
-# Number of HLS segments to keep on the server.
-# Segments allow to seek through the stream.
-# Their number doesn't influence latency.
-hlsSegmentCount: 7
-# Minimum duration of each segment.
-# A player usually puts 3 segments in a buffer before reproducing the stream.
-# The final segment duration is also influenced by the interval between IDR frames,
-# since the server changes the duration in order to include at least one IDR frame
-# in each segment.
-hlsSegmentDuration: 1s
-# Minimum duration of each part.
-# A player usually puts 3 parts in a buffer before reproducing the stream.
-# Parts are used in Low-Latency HLS in place of segments.
-# Part duration is influenced by the distance between video/audio samples
-# and is adjusted in order to produce segments with a similar duration.
-hlsPartDuration: 200ms
-# Maximum size of each segment.
-# This prevents RAM exhaustion.
-hlsSegmentMaxSize: 50M
-# Value of the Access-Control-Allow-Origin header provided in every HTTP response.
-# This allows to play the HLS stream from an external website.
-hlsAllowOrigin: "*"
-# Enable TLS/HTTPS on the HLS server.
-# This is required for Low-Latency HLS.
-hlsEncryption: no
-# Path to the server key. This is needed only when encryption is yes.
-# This can be generated with:
-# openssl genrsa -out server.key 2048
-# openssl req -new -x509 -sha256 -key server.key -out server.crt -days 3650
-hlsServerKey: server.key
-# Path to the server certificate.
-hlsServerCert: server.crt
-
-###############################################
-# Path parameters
-
-# These settings are path-dependent, and the map key is the name of the path.
-# It's possible to use regular expressions by using a tilde as prefix.
-# For example, "~^(test1|test2)$" will match both "test1" and "test2".
-# For example, "~^prefix" will match all paths that start with "prefix".
-# The settings under the path "all" are applied to all paths that do not match
-# another entry.
-paths:
-  all:
-    # Source of the stream. This can be:
-    # * publisher -> the stream is published by a RTSP or RTMP client
-    # * rtsp://existing-url -> the stream is pulled from another RTSP server / camera
-    # * rtsps://existing-url -> the stream is pulled from another RTSP server / camera with RTSPS
-    # * rtmp://existing-url -> the stream is pulled from another RTMP server
-    # * http://existing-url/stream.m3u8 -> the stream is pulled from another HLS server
-    # * https://existing-url/stream.m3u8 -> the stream is pulled from another HLS server with HTTPS
-    # * redirect -> the stream is provided by another path or server
-    source: publisher
-
-    # If the source is an RTSP or RTSPS URL, this is the protocol that will be used to
-    # pull the stream. available values are "automatic", "udp", "multicast", "tcp".
-    sourceProtocol: automatic
-
-    # Tf the source is an RTSP or RTSPS URL, this allows to support sources that
-    # don't provide server ports or use random server ports. This is a security issue
-    # and must be used only when interacting with sources that require it.
-    sourceAnyPortEnable: no
-
-    # If the source is a RTSPS or HTTPS URL, and the source certificate is self-signed
-    # or invalid, you can provide the fingerprint of the certificate in order to
-    # validate it anyway. It can be obtained by running:
-    # openssl s_client -connect source_ip:source_port </dev/null 2>/dev/null | sed -n '/BEGIN/,/END/p' > server.crt
-    # openssl x509 -in server.crt -noout -fingerprint -sha256 | cut -d "=" -f2 | tr -d ':'
-    sourceFingerprint:
-
-    # If the source is an RTSP or RTMP URL, it will be pulled only when at least
-    # one reader is connected, saving bandwidth.
-    sourceOnDemand: no
-    # If sourceOnDemand is "yes", readers will be put on hold until the source is
-    # ready or until this amount of time has passed.
-    sourceOnDemandStartTimeout: 10s
-    # If sourceOnDemand is "yes", the source will be closed when there are no
-    # readers connected and this amount of time has passed.
-    sourceOnDemandCloseAfter: 10s
-
-    # If the source is "redirect", this is the RTSP URL which clients will be
-    # redirected to.
-    sourceRedirect:
-
-    # If the source is "publisher" and a client is publishing, do not allow another
-    # client to disconnect the former and publish in its place.
-    disablePublisherOverride: no
-
-    # If the source is "publisher" and no one is publishing, redirect readers to this
-    # path. It can be can be a relative path  (i.e. /otherstream) or an absolute RTSP URL.
-    fallback:
-
-    # Username required to publish.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    publishUser:
-    # Password required to publish.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    publishPass:
-    # IPs or networks (x.x.x.x/24) allowed to publish.
-    publishIPs: []
-
-    # Username required to read.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    readUser:
-    # password required to read.
-    # SHA256-hashed values can be inserted with the "sha256:" prefix.
-    readPass:
-    # IPs or networks (x.x.x.x/24) allowed to read.
-    readIPs: []
-
-    # Command to run when this path is initialized.
-    # This can be used to publish a stream and keep it always opened.
-    # This is terminated with SIGINT when the program closes.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnInit:
-    # Restart the command if it exits suddenly.
-    runOnInitRestart: no
-
-    # Command to run when this path is requested.
-    # This can be used to publish a stream on demand.
-    # This is terminated with SIGINT when the path is not requested anymore.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnDemand:
-    # Restart the command if it exits suddenly.
-    runOnDemandRestart: no
-    # Readers will be put on hold until the runOnDemand command starts publishing
-    # or until this amount of time has passed.
-    runOnDemandStartTimeout: 10s
-    # The command will be closed when there are no
-    # readers connected and this amount of time has passed.
-    runOnDemandCloseAfter: 10s
-
-    # Command to run when the stream is ready to be read, whether it is
-    # published by a client or pulled from a server / camera.
-    # This is terminated with SIGINT when the stream is not ready anymore.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnReady:
-    # Restart the command if it exits suddenly.
-    runOnReadyRestart: no
-
-    # Command to run when a clients starts reading.
-    # This is terminated with SIGINT when a client stops reading.
-    # The following environment variables are available:
-    # * RTSP_PATH: path name
-    # * RTSP_PORT: server port
-    # * G1, G2, ...: regular expression groups, if path name is
-    #   a regular expression.
-    runOnRead:
-    # Restart the command if it exits suddenly.
-    runOnReadRestart: no
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.service /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.service
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/crowsnest.service	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/crowsnest.service	2024-10-08 17:45:29.818228183 -0400
@@ -25,6 +25,6 @@
 RemainAfterExit=Yes
 WorkingDirectory=/home/%USER%/crowsnest
 EnvironmentFile=%ENV%
-ExecStart= /usr/local/bin/crowsnest $CROWSNEST_ARGS
+ExecStart=/usr/local/bin/crowsnest $CROWSNEST_ARGS
 Restart=on-failure
 RestartSec=5
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/moonraker_update.txt /home/mks/firmware_comparison/downloads/crowsnest/resources/moonraker_update.txt
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/resources/moonraker_update.txt	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/resources/moonraker_update.txt	2024-10-08 17:45:29.818228183 -0400
@@ -5,4 +5,4 @@
 path: ~/crowsnest
 origin: https://github.com/mainsail-crew/crowsnest.git
 managed_services: crowsnest
-install_script: tools/install.sh
+install_script: tools/pkglist.sh
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/configure.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/configure.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/configure.sh	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/configure.sh	2024-10-08 17:45:29.818228183 -0400
@@ -14,6 +14,10 @@
 # Exit on errors
 set -Ee
 
+## Debug
+# set -x
+
+
 # Global Vars
 CN_CONFIG_USER=$(whoami)
 CN_CONFIG_CONFIGFILE="tools/.config"
@@ -23,7 +27,9 @@
 CN_CONFIG_ENVPATH="${CN_CONFIG_ROOTPATH}/systemd"
 CN_MOONRAKER_CONFIG_PATH="${CN_CONFIG_CONFIGPATH}/moonraker.conf"
 CN_USTREAMER_REPO="https://github.com/pikvm/ustreamer.git"
-CN_USTREAMER_BRANCH="master"
+CN_USTREAMER_BRANCH="v6.10"
+CN_CAMERA_STREAMER_REPO="https://github.com/ayufan/camera-streamer.git"
+CN_CAMERA_STREAMER_BRANCH="master"
 
 ### Messages
 header_msg() {
@@ -54,6 +60,14 @@
     echo -e "Hit ENTER to use default."
 }
 
+root_path_msg() {
+    header_msg
+    echo -e "Please specify path to your 'printer_data' root path\n"
+    echo -e "For example: /home/pi/voron_data or /home/kwad/ender_data"
+    echo -e "\t\e[34mNOTE:\e[0m File names are hardcoded! Also skip trailing backslash!"
+    echo -e "\tDefault: \e[32m${CN_CONFIG_ROOTPATH}\e[0m\n"
+}
+
 config_path_msg() {
     header_msg
     echo -e "Please specify path to config file (crowsnest.conf)\n"
@@ -75,16 +89,6 @@
     echo -e "\tDefault: \e[32m${CN_CONFIG_ENVPATH}\e[0m\n"
 }
 
-apply_raspicamfix_msg() {
-    header_msg
-    echo -e "Should the Raspicam Fix be applied?\n"
-    echo -e "\t\e[34mNOTE:\e[0m\n\tThis should be only applied if you are"
-    echo -e "\tusing a Raspberry Pi! This will force Raspicams"
-    echo -e "\tusing the device path '/dev/video0'\n"
-    echo -e "Available are:\n Yes [y or Y]\n No [n or N]\n Hit ENTER for auto\n"
-    echo -e "In 'auto' mode Installer try to detect device and applies fix if SBC is a Pi!\n"
-}
-
 add_moonraker_entry_msg() {
     header_msg
     echo -e "Should the update_manager entry added to your moonraker.conf?\n"
@@ -152,14 +156,31 @@
     echo -e "BASE_USER=\"${CN_CONFIG_USER}\"";
     echo -e "CROWSNEST_USTREAMER_REPO_SHIP=\"${CN_USTREAMER_REPO}\"";
     echo -e "CROWSNEST_USTREAMER_REPO_BRANCH=\"${CN_USTREAMER_BRANCH}\""
+    echo -e "CROWSNEST_CAMERA_STREAMER_REPO_SHIP=\"${CN_CAMERA_STREAMER_REPO}\"";
+    echo -e "CROWSNEST_CAMERA_STREAMER_REPO_BRANCH=\"${CN_CAMERA_STREAMER_BRANCH}\""
     } >> "${CN_CONFIG_CONFIGFILE}"
 }
 
+specify_root_path() {
+    local reply
+    root_path_msg
+    default_path_msg
+    read -erp "Please enter path: " -i "${CN_CONFIG_ROOTPATH}" reply
+    if [[ -n "${reply}" ]]; then
+        CN_CONFIG_ROOTPATH="${reply}"
+        CN_CONFIG_CONFIGPATH="${CN_CONFIG_ROOTPATH}/config"
+        CN_CONFIG_LOGPATH="${CN_CONFIG_ROOTPATH}/logs"
+        CN_CONFIG_ENVPATH="${CN_CONFIG_ROOTPATH}/systemd"
+        CN_MOONRAKER_CONFIG_PATH="${CN_CONFIG_CONFIGPATH}/moonraker.conf"
+    fi
+    return 0
+}
+
 specify_config_path() {
     local reply
     config_path_msg
     default_path_msg
-    read -erp "Please enter path: " reply
+    read -erp "Please enter path: " -i "${CN_CONFIG_CONFIGPATH}" reply
     if [[ -z "${reply}" ]]; then
         echo -e "CROWSNEST_CONFIG_PATH=\"${CN_CONFIG_CONFIGPATH}\"" >> \
         "${CN_CONFIG_CONFIGFILE}"
@@ -176,7 +197,7 @@
     local reply
     log_path_msg
     default_path_msg
-    read -erp "Please enter path: " reply
+    read -erp "Please enter path: " -i "${CN_CONFIG_LOGPATH}" reply
     if [[ -z "${reply}" ]]; then
         echo -e "CROWSNEST_LOG_PATH=\"${CN_CONFIG_LOGPATH}\"" >> \
         "${CN_CONFIG_CONFIGFILE}"
@@ -192,7 +213,7 @@
     local reply
     env_path_msg
     default_path_msg
-    read -erp "Please enter path: " reply
+    read -erp "Please enter path: " -i "${CN_CONFIG_ENVPATH}" reply
     if [[ -z "${reply}" ]]; then
         echo -e "CROWSNEST_ENV_PATH=\"${CN_CONFIG_ENVPATH}\"" >> \
         "${CN_CONFIG_CONFIGFILE}"
@@ -204,29 +225,6 @@
     fi
 }
 
-apply_raspicamfix() {
-    local reply
-    apply_raspicamfix_msg
-    read -erp "Enable Raspicamfix?: " reply
-    if [[ -z "${reply}" ]]; then
-        echo -e "CROWSNEST_RASPICAMFIX=\"auto\"" >> \
-        "${CN_CONFIG_CONFIGFILE}"
-        return 0
-    fi
-    while true; do
-        case "${reply}" in
-            [yY]*)
-                echo -e "CROWSNEST_RASPICAMFIX=\"1\"" >> "${CN_CONFIG_CONFIGFILE}"
-                break
-            ;;
-            [nN]*)
-                echo -e "CROWSNEST_RASPICAMFIX=\"0\"" >> "${CN_CONFIG_CONFIGFILE}"
-                break
-            ;;
-        esac
-    done
-}
-
 add_moonraker_entry() {
     local reply
     add_moonraker_entry_msg
@@ -252,24 +250,15 @@
 
 ### Main func
 main() {
-    # Step 1: Welcome Message
     welcome_msg
     continue_config
-    # Step 2: Check for existing file
     check_config_file
-    # Step 3: Create config header
     create_config_header
-    # Step 4: Specify config file path.
+    specify_root_path
     specify_config_path
-    # Step 5: Specify log file path.
     specify_log_path
-    # Step 6: Specify env path.
     specify_env_path
-    # Step 7: Raspicam fix
-    apply_raspicamfix
-    # Step 8: Moonraker entry
     add_moonraker_entry
-    # Step 9: Display finished message
     goodbye_msg
 }
 
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/install.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/install.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/install.sh	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/install.sh	2024-10-08 17:45:29.818228183 -0400
@@ -3,16 +3,16 @@
 #### crowsnest - A webcam Service for multiple Cams and Stream Services.
 ####
 #### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021 - 2022
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
 #### https://github.com/mainsail-crew/crowsnest
 ####
 #### This File is distributed under GPLv3
 ####
 
 # shellcheck enable=require-variable-braces
-
-### Disable SC2317 due Trap usage
-# shellcheck disable=SC2317
+# shellcheck source-path=SCRIPTDIR
 
 # Exit on errors
 set -Ee
@@ -20,563 +20,178 @@
 # Debug
 # set -x
 
-# Global Vars
-TITLE="\e[31mcrowsnest\e[0m - A webcam daemon for multiple Cams and stream services."
-[[ -n "${BASE_USER}" ]] || BASE_USER="$(logname 2> /dev/null || echo "${PWD}" | cut -d'/' -f3)"
-[[ -n "${CROWSNEST_UNATTENDED}" ]] || CROWSNEST_UNATTENDED="0"
-[[ -n "${CROWSNEST_DEFAULT_CONF}" ]] || CROWSNEST_DEFAULT_CONF="resources/crowsnest.conf"
-
-# Message Vars
-CN_OK="\e[32mOK\e[0m"
-CN_SK="\e[33mSKIPPED\e[0m"
-
-### Global setup
-### noninteractive Check
-if [[ "${DEBIAN_FRONTEND}" != "noninteractive" ]]; then
-    export DEBIAN_FRONTEND=noninteractive
-fi
-
-### Check non-root
-if [[ ${UID} != '0' ]]; then
-    echo -e "\n\tYOU NEED TO RUN INSTALLER AS ROOT!"
-    echo -e "\tPlease try '\e[32msudo make install\e[0m'\n\nExiting..."
-    exit 1
-fi
-
-### Global functions
-
-### Messages
-### Welcome Message
-welcome_msg() {
-    echo -e "${TITLE}\n"
-    echo -e "\t\e[34mAhoi!\e[0m"
-    echo -e "\tThank you for installing crowsnest ;)"
-    echo -e "\tThis will take a while ... "
-    echo -e "\tPlease reboot after installation has finished.\n"
-    sleep 1
-}
-
-### Config Message
-config_msg() {
-    echo -e "\nConfig file not found!\n\tUsing defaults ..."
-    echo -e "\tThis uses paths located in 'printer_data' of your Home Folder."
-    exit 1
-}
 
-### Detect Message
-detect_msg() {
-    echo -e "Found an existing 'crowsnest' or mjpg-streamer"
-    echo -e "This has to be removed..."
-    echo -e "You can use KIAUH for example to reinstall.\n"
-}
+## Global Vars
+SRC_DIR="$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd -P)"
+[[ -n "${CROWSNEST_UNATTENDED}" ]] || CROWSNEST_UNATTENDED="0"
 
-### Goodbye Message
-goodbye_msg() {
-    echo -e "\nInstallation \e[32msuccessful\e[0m.\n"
-    echo -e "\t\e[33mTo take changes effect, you need to reboot your machine!\e[0m\n"
-}
+main() {
+    . "${SRC_DIR}/libs/build_apps.sh"
+    . "${SRC_DIR}/libs/config.sh"
+    . "${SRC_DIR}/libs/core.sh"
+    . "${SRC_DIR}/libs/interactive.sh"
+    . "${SRC_DIR}/libs/messages.sh"
+    . "${SRC_DIR}/libs/set_gpumem.sh"
+    . "${SRC_DIR}/libs/update_manager.sh"
 
-## These two functions are reused from custompios common.sh
-## Credits to guysoft!
-## https://github.com/guysoft/CustomPiOS
-
-install_cleanup_trap() {
-    # kills all child processes of the current process on SIGINT or SIGTERM
-    trap 'cleanup' SIGINT SIGTERM
-}
 
-cleanup() {
-    # make sure that all child processed die when we die
-    echo -e "Killed by user ...\r\nGoodBye ...\r"
-    [[ -n "$(jobs -pr)" ]] && kill "$(jobs -pr)" && sleep 5 && kill -9 "$(jobs -pr)"
-}
+    if [[ "${DEBIAN_FRONTEND}" != "noninteractive" ]]; then
+        export DEBIAN_FRONTEND=noninteractive
+    fi
 
-err_exit() {
-    if [[ "${1}" != "0" ]]; then
-        echo -e "ERROR: Error ${1} occured on line ${2}"
-        echo -e "ERROR: Stopping $(basename "$0")."
-        echo -e "Goodbye..."
+    if [[ "${SUDO_USER}" = "root" ]]; then
+        not_as_root_msg
+        exit 1
     fi
-    [[ -n "$(jobs -pr)" ]] && kill "$(jobs -pr)" && sleep 5 && kill -9 "$(jobs -pr)"
-    exit 1
-}
 
-## call get_os_version <keyword>
-get_os_version() {
-    if [[ -n "${1}" ]]; then
-        grep -c "${1}" /etc/os-release
+    if [[ -z "${SUDO_USER}" ]] && [[ "${CROWSNEST_UNATTENDED}" != "1" ]]; then
+        need_sudo_msg
+        exit 1
     fi
-}
 
-### Import config
-import_config() {
-    ## Source config if present
-    if [[ -s tools/.config ]]; then
-        # shellcheck disable=SC1091
-        source tools/.config
-        return 0
-    fi
-    if [[ ! -f tools/.config ]] &&
-    [[ "${CROWSNEST_UNATTENDED}" != "1" ]]; then
-        CROWSNEST_CONFIG_PATH="/home/${BASE_USER}/printer_data/config"
-        CROWSNEST_LOG_PATH="/home/${BASE_USER}/printer_data/logs"
-        CROWSNEST_ENV_PATH="/home/${BASE_USER}/printer_data/systemd"
-        CROWSNEST_USTREAMER_REPO_SHIP="https://github.com/pikvm/ustreamer.git"
-        CROWSNEST_USTREAMER_REPO_BRANCH="master"
+    [[ -n "${BASE_USER}" ]] || BASE_USER="${SUDO_USER}"
 
+    if [[ "$(is_buster)" = "1" ]]; then
+        not_supported_msg
+        exit 1
     fi
-}
 
-create_filestructure() {
-    for i in "${CROWSNEST_CONFIG_PATH}" "${CROWSNEST_LOG_PATH%/*.*}" "${CROWSNEST_ENV_PATH}"; do
-        if [[ ! -d "${i}" ]]; then
-            sudo -u "${BASE_USER}" mkdir -p "${i}"
-        fi
-    done
-}
+    welcome_msg
 
-### Detect legacy webcamd.
-detect_existing_webcamd() {
-    local remove
-    if  [ -x "/usr/local/bin/webcamd" ] && [ -d "${HOME}/mjpg-streamer" ]; then
-        detect_msg
-        read -erp "Do you want to remove existing 'webcamd'? (y/N) " -i "N" remove
-        case "${remove}" in
-            y|Y|yes|Yes|YES)
-                echo -en "\nStopping webcamd.service ...\r"
-                sudo systemctl stop webcamd.service &> /dev/null
-                echo -e "Stopping webcamd.service ... \t[${CN_OK}]\r"
-                remove_existing_webcamd
-            ;;
-
-            n|N|no|No|NO)
-                echo -e "\nYou have to remove webcamd to use crowsnest!"
-                echo -e "Installation will be aborted..."
-                echo -e "GoodBye...\n"
-                exit 1
-            ;;
-            *)
-                echo -e "\nYou answered '${remove}'! Invalid input ... [EXITING]"
-                echo -e "GoodBye...\n"
-                exit 1
-            ;;
-        esac
+    msg "Running apt-get update first ...\n"
+    if run_apt_update; then
+        status_msg "Running apt-get update first ..." "0"
+    else
+        status_msg "Running apt-get update first ..." "1"
     fi
-}
 
-### Remove existing webcamd
-remove_existing_webcamd() {
-    if [[ -x "/usr/local/bin/webcamd" ]]; then
-        echo -en "Removing 'webcamd' ...\r"
-        sudo rm -f /usr/local/bin/webcamd > /dev/null
-        echo -e "Removing 'webcamd' ... \t\t[${CN_OK}]\r"
-    fi
-    if [[ -d "${HOME}/mjpg-streamer" ]]; then
-        echo -en "Removing 'mjpg-streamer' ...\r"
-        sudo rm -rf "${HOME}"/mjpg-streamer > /dev/null
-        echo -e "Removing 'mjpg-streamer' ... \t[${CN_OK}]\r"
-    fi
-    if [[ -f "/etc/systemd/system/webcamd.service" ]]; then
-        echo -en "Removing 'webcamd.service' ...\r"
-        sudo systemctl disable webcamd.service &> /dev/null
-        sudo rm -f /etc/systemd/system/webcamd.service > /dev/null
-        echo -e "Removing 'webcamd.service' ... \t[${CN_OK}]\r"
-    fi
-    if [[ -f "/var/log/webcamd.log" ]]; then
-        echo -en "Removing 'webcamd.log' ...\r"
-        sudo rm -f /var/log/webcamd.log > /dev/null
-        if [[ -f "${HOME}/klipper_logs/webcamd.log" ]]; then
-        sudo rm -f "${HOME}"/klipper_logs/webcamd.log > /dev/null
+    if [[ "${CROWSNEST_UNATTENDED}" != "1" ]]; then
+        msg "Doing some tests ...\n"
+        detect_existing_webcamd
+        if shallow_cs_dependencies_check; then
+            CN_INSTALL_CS="1"
+        else
+            CN_INSTALL_CS="0"
         fi
-        if [[ -f "${HOME}/printer_data/logs/webcamd.log" ]]; then
-        sudo rm -f "${HOME}"/printer_data/logs/webcamd.log > /dev/null
+        status_msg "Doing some tests ..." "0"
+    else
+        if [[ "$(is_raspbian)" = "1" ]]; then
+            CN_INSTALL_CS="1"
+        else
+            CN_INSTALL_CS="0"
         fi
-        echo -e "Removing 'webcamd.log' ... \t[${CN_OK}]\r"
     fi
-    if [[ -f "/etc/logrotate.d/webcamd" ]]; then
-        echo -en "Removing 'webcamd' logrotate...\r"
-        sudo rm -f /etc/logrotate.d/webcamd > /dev/null
-        echo -e "Removing 'webcamd' logrotate ... \t[${CN_OK}]\r"
-    fi
-    echo -e "\nOld 'webcamd' completly removed."
-    echo -e "webcam.txt kept,but no longer necessary ..."
-}
-
-install_packages() {
-    ### Crowsnest Dependencies
-    PKGLIST="git crudini bsdutils findutils v4l-utils curl"
-    ### Ustreamer Dependencies
-    PKGLIST="${PKGLIST} build-essential libevent-dev libjpeg-dev libbsd-dev"
-    ### simple-rtsp-server Dependencies
-    PKGLIST="${PKGLIST} libxcomposite1 libxtst6 ffmpeg"
-
-    echo -e "Running apt update first ..."
-    ### Run apt update
-    sudo apt-get -q --allow-releaseinfo-change update
-
-    echo -e "Installing 'crowsnest' Dependencies ..."
-    # shellcheck disable=SC2086
-    # disable because we want 'wordsplitting'
-    sudo apt-get install -q -y --no-install-recommends ${PKGLIST}
 
-    if [[ "$(get_os_version buster)" != "0" ]] && [[ "$(is_raspberry_pi)" = "1" ]]; then
-        sudo apt-get install -q -y --no-install-recommends libraspberrypi-dev
+    if [[ "${CN_INSTALL_CS}" = "1" ]]; then
+        msg "Installing with camera-streamer ...\n"
+        link_pkglist_rpi
+    else
+        msg "Installing without camera-streamer ...\n"
+        link_pkglist_generic
     fi
-    echo -e "Installing 'crowsnest' Dependencies ... [${CN_OK}]"
-}
 
-install_crowsnest() {
-    local bin_path config config_log_path crowsnest_bin
-    bin_path="/usr/local/bin"
-    config="${CROWSNEST_CONFIG_PATH}/crowsnest.conf"
-    crowsnest_bin="/home/${BASE_USER}/crowsnest/crowsnest"
-    # Link crowsnest to $PATH
-    echo -en "Linking crowsnest ...\r"
-    # Remove if exist!
-    if [[ -f /usr/local/bin/crowsnest ]]; then
-        rm -f /usr/local/bin/crowsnest
-    fi
-    sudo ln -sf "${crowsnest_bin}" "${bin_path}" > /dev/null
-    echo -e "Linking crowsnest ... [${CN_OK}]\r"
-    # Install base line config
-    if [[ -f "${config}" ]]; then
-        echo -e "Found existing 'crowsnest.conf' in ${CROWSNEST_CONFIG_PATH}"
-        echo -e "Checking log_path ..."
-        config_log_path="$(crudini --get "${config}" crowsnest log_path)"
-        # strip out file name (crowsnest.log)
-        if [[ "${config_log_path%/*.*}" != "${CROWSNEST_LOG_PATH}" ]]; then
-            echo -e "Setup new log_path: ${CROWSNEST_LOG_PATH}"
-            sed -i 's|'"${config_log_path}"'|'"${CROWSNEST_LOG_PATH}/crowsnest.log"'|' "${config}"
-            # Strip full path to tilde
-            sed -i 's|'"/home/${BASE_USER}"'|~|g' "${config}"
-        fi
-        if [[ "${config_log_path%/*.*}" = "${CROWSNEST_LOG_PATH}" ]]; then
-            echo -e "Entry matching ... [${CN_OK}]"
-            # Strip full path to tilde
-            sed -i 's|'"/home/${BASE_USER}"'|~|g' "${config}"
-        fi
-    fi
-    # Make sure not overwrite existing!
-    if [[ ! -f "${config}" ]]; then
-        echo -en "Copying crowsnest.conf ...\r"
-        sudo -u "${BASE_USER}" \
-        cp -f "${CROWSNEST_DEFAULT_CONF}" "${config}" &> /dev/null
-        sed -i 's|%LOGPATH%|'"${CROWSNEST_LOG_PATH}/crowsnest.log"'|g' "${config}"
-        # Strip full path to tilde
-        sed -i 's|'"/home/${BASE_USER}"'|~|g' "${config}"
-        echo -e "Copying crowsnest.conf ... [${CN_OK}]\r"
+    source_pkglist_file
+    msg "Installing dependencies ...\n"
+    if install_dependencies ;then
+        status_msg "Install dependencies ..." "0"
+    else
+        status_msg "Install dependencies ..." "1"
     fi
-    return 0
-}
-
-install_service_file() {
-    local servicefile systemd_dir
-    servicefile="${PWD}/resources/crowsnest.service"
-    systemd_dir="/etc/systemd/system"
-    echo -en "Install crowsnest.service file ...\r"
-    # Install Service file
-    cp -f "${servicefile}" "${systemd_dir}"
-    sed -i 's|%USER%|'"${BASE_USER}"'|g;s|%ENV%|'"${CROWSNEST_ENV_PATH}/crowsnest.env"'|g' \
-    "${systemd_dir}/crowsnest.service"
-    # create and install env file
-    echo -e "CROWSNEST_ARGS=\"-c ${CROWSNEST_CONFIG_PATH}/crowsnest.conf\"\n" > "${CROWSNEST_ENV_PATH}/crowsnest.env"
-    chown -f "${BASE_USER}":"${BASE_USER}" "${CROWSNEST_ENV_PATH}/crowsnest.env"
-    echo -e "Install crowsnest.service file ... [${CN_OK}]\r"
-}
 
-install_logrotate() {
-    local logrotatefile logpath
-    logrotatefile="resources/logrotate_crowsnest"
-    logpath="${CROWSNEST_LOG_PATH}/crowsnest.log"
-    # install logrotate
-    echo -en "Install logrotate file ...\r"
-    cp -rf "${logrotatefile}" /etc/logrotate.d/crowsnest
-    sed -i 's|%LOGPATH%|'"${logpath}"'|g' /etc/logrotate.d/crowsnest
-    echo -e "Install logrotate file ... [${CN_OK}]\r"
-}
+    import_config
 
-add_update_entry() {
-    local moonraker_conf
-    moonraker_conf="${CROWSNEST_CONFIG_PATH}/moonraker.conf"
-    moonraker_update="${PWD}/resources/moonraker_update.txt"
-    echo -en "Adding Crowsnest Update Manager entry to moonraker.conf ...\r"
-    if [[ -f "${moonraker_conf}" ]]; then
-        if [[ "$(grep -c "crowsnest" "${moonraker_conf}")" != "0" ]]; then
-            echo -e "Update Manager entry already exists moonraker.conf ... [${CN_SK}]"
-            return 0
-        fi
-        # make sure no file exist
-        if [[ -f "/tmp/moonraker.conf" ]]; then
-            sudo rm -f /tmp/moonraker.conf
-        fi
-        sudo -u "${BASE_USER}" \
-        cp "${moonraker_conf}" "${moonraker_conf}.backup" &&
-        cat "${moonraker_conf}" "${moonraker_update}" > /tmp/moonraker.conf &&
-        cp -rf /tmp/moonraker.conf "${moonraker_conf}"
-        if [[ "${CROWSNEST_UNATTENDED}" = "1" ]]; then
-            sudo rm -f "${moonraker_conf}.backup"
-        fi
-        echo -e "Adding Crowsnest Update Manager entry to moonraker.conf ... [${CN_OK}]"
+    msg "Creating file structure ..."
+    if create_filestructure ;then
+        status_msg "Creating file structure ..." "0"
     else
-        echo -e "moonraker.conf is missing ... [${CN_SK}]"
+        status_msg "Creating file structure ..." "1"
     fi
-}
 
-## add $USER to group video
-add_group_video() {
-    echo -en "Add User ${BASE_USER} to group 'video' ...\r"
-    if [[ "$(groups "${BASE_USER}" | grep -c video)" == "0" ]]; then
-        usermod -aG video "${BASE_USER}" > /dev/null
-        echo -e "Add User ${BASE_USER} to group 'video' ... [${CN_OK}]"
+
+    if link_main_executable; then
+        status_msg "Link crowsnest to /usr/local/bin ..." "0"
     else
-        echo -e "Add User ${BASE_USER} to group 'video' ... [${CN_SK}]"
-        echo -e "==> User ${BASE_USER} is already in group 'video'"
+        status_msg "Link crowsnest to /usr/local/bin ..." "1"
     fi
-}
 
-clone_ustreamer() {
-    ## remove bin/ustreamer if exist
-    if [[ -d bin/ustreamer ]]; then
-        rm -rf bin/ustreamer
-    fi
-    sudo -u "${BASE_USER}" \
-    git clone "${CROWSNEST_USTREAMER_REPO_SHIP}" \
-    -b "${CROWSNEST_USTREAMER_REPO_BRANCH}" bin/ustreamer
-    ## Buster workaround
-    ## ustreamer support omx only till version 4.13
-    ## so stick to that version
-    if [[ "$(get_os_version buster)" != "0" ]]; then
-        pushd bin/ustreamer &> /dev/null || exit 1
-        git reset --hard 61ab2a8
-        popd &> /dev/null || exit 1
+    if install_service_file; then
+        status_msg "Install service file ..." "0"
+    else
+        status_msg "Install service file ..." "1"
     fi
-}
 
-build_apps() {
-    echo -e "Build dependend Stream Apps ..."
-    echo -e "Cloning ustreamer repository ..."
-    clone_ustreamer
-    pushd bin > /dev/null
-    sudo -u "${BASE_USER}" make all
-    popd > /dev/null
-}
-
-is_raspberry_pi() {
-    if [[ -f /proc/device-tree/model ]] &&
-    grep -q "Raspberry" /proc/device-tree/model; then
-        echo "1"
+    if install_env_file; then
+        status_msg "Install environment file ..." "0"
     else
-        echo "0"
+        status_msg "Install environment file ..." "1"
     fi
-}
 
-install_raspicam_fix() {
-    if [[ "${CROWSNEST_RASPICAMFIX}" == "auto" ]]; then
-        if [[ "$(is_raspberry_pi)" = "1" ]]; then
-            echo -e "Device is a Raspberry Pi"
-            CROWSNEST_RASPICAMFIX="1"
-        fi
-        if [[ "$(is_raspberry_pi)" = "0" ]]; then
-            echo -e "Device is \e[31mNOT\e[0m a Raspberry Pi ... [${CN_SK}]"
-            CROWSNEST_RASPICAMFIX="0"
-        fi
-    fi
-    # This is also used for unattended Install
-    # Needs special handling if targeted Image is not for Raspberry Pi's!
-    if [[ "${CROWSNEST_RASPICAMFIX}" == "1" ]] &&
-    [[ -f /boot/config.txt ]]; then
-        echo -en "Applying Raspicam Fix ... \r"
-        bash -c 'echo "bcm2835-v4l2" >> /etc/modules'
-        cp resources/bcm2835-v4l2.conf /etc/modprobe.d/
-        echo -e "Applying Raspicam Fix ... [${CN_OK}]"
+    if [[ "$(is_speederpad)" = "1" ]]; then
+        msg "\nSpeederpad detected!"
+        msg "Add startup delay to environment file ...\n"
+        add_sleep_to_crowsnest_env
     fi
-}
 
-enable_legacy_cam() {
-    local cfg
-    local -a model
-    cfg="/boot/config.txt"
-    model=(pi3 pi4)
-    if [[ -f "${cfg}" ]] && [[ "$(is_raspberry_pi)" = "1" ]]; then
-
-        # Helper func
-        get_val() {
-            crudini --get "${cfg}" "${1}" gpu_mem 2> /dev/null
-        }
-
-        echo -en "Enable legacy camera stack ... \r"
-        sed -i "s/camera_auto_detect=1/#camera_auto_detect=1/" "${cfg}"
-        if [[ "$(grep -c "start_x" "${cfg}")" = "0" ]]; then
-            crudini --set --inplace "${cfg}" all start_x 1 &> /dev/null
-        fi
-
-        for d in "${model[@]}"; do
-            if [[ "$(get_val "${d}")" -lt "129" ]]; then
-                crudini --set --inplace "${cfg}" "${d}" gpu_mem 256 &> /dev/null
-            fi
-        done
-        if [[ "$(get_val pi0)" -lt "129" ]]; then
-                sudo crudini --set --inplace "${cfg}" pi0 gpu_mem 160 &> /dev/null
-        fi
-        echo -e "Enable legacy camera stack ... [${CN_OK}]"
+    if install_logrotate_conf; then
+        status_msg "Install logrotate configuration ..." "0"
+    else
+        status_msg "Install logrotate configuration ..." "1"
     fi
-    ## crudini workaround
-    ## used version of crudini puts spaces between values and parameters
-    ## This causes unwanted side effects
-    sed -i 's/[[:blank:]]=[[:blank:]]/=/g' "${cfg}"
-}
 
-## Ubuntu on RPI Workaround
-## Using seperate function to not distract existing behavior
-
-enable_buntu_cam() {
-    local cfg
-    local -a model
-    cfg="$(find /boot/ -type f -name "config.txt" -printf "%p\n")"
-    model=(pi3 pi4)
-    if [[ -f "${cfg}" ]]; then
-
-        # Helper func
-        get_val() {
-            crudini --get "${cfg}" "${1}" gpu_mem 2> /dev/null
-        }
-
-        echo -en "Enable legacy camera stack ... \r"
-        sed -i "s/camera_auto_detect=1/#camera_auto_detect=1/" "${cfg}"
-        if [[ "$(grep -c "start_x" "${cfg}")" = "0" ]]; then
-            crudini --set --inplace "${cfg}" all start_x 1 &> /dev/null
-        fi
-
-        for d in "${model[@]}"; do
-            if [[ "$(get_val "${d}")" -lt "129" ]]; then
-                crudini --set --inplace "${cfg}" "${d}" gpu_mem 256 &> /dev/null
-            fi
-        done
-        if [[ "$(get_val pi0)" -lt "129" ]]; then
-                sudo crudini --set --inplace "${cfg}" pi0 gpu_mem 160 &> /dev/null
-        fi
-        echo -e "Enable legacy camera stack ... [${CN_OK}]"
+    if install_crowsnest_conf; then
+        status_msg "Install crowsnest.conf ..." "0"
+    else
+        status_msg "Install crowsnest.conf ..." "1"
     fi
-    ## crudini workaround
-    ## used version of crudini puts spaces between values and parameters
-    ## This causes unwanted side effects
-    sed -i 's/[[:blank:]]=[[:blank:]]/=/g' "${cfg}"
-}
-
-## enable service
-enable_service() {
-    echo -en "Enable crowsnest.service on boot ...\r"
-    sudo systemctl enable crowsnest.service &> /dev/null
-    echo -e "Enable crowsnest.service on boot ... [${CN_OK}]\r"
-}
-
-## start systemd service
-start_service() {
-        sudo systemctl daemon-reload &> /dev/null
-        sudo systemctl start crowsnest.service &> /dev/null
-}
-
-## ask reboot
-ask_reboot() {
-    local reply
-    while true; do
-        read -erp "Reboot NOW? [y/N]: " -i "N" reply
-        case "${reply}" in
-            [yY]*)
-                echo -e "Going to reboot in 5 seconds!"
-                sleep 5
-                reboot
-            ;;
-            [nN]*)
-                echo -e "\n\e[31mNot to reboot may cause issues!"
-                echo -e "Reboot as soon as possible!\e[0m\n"
-                echo -e "Goodbye ..."
-                break
-            ;;
-            * )
-                    echo -e "\e[31mERROR:\e[0m Please choose Y or N !"
-            ;;
-        esac
-    done
-}
-
-## Main func
-main() {
-    ## Initialize traps
-    install_cleanup_trap
 
-    ## Welcome message
-    welcome_msg
-
-    ## Step 1: import .config file
-    if [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
-        import_config
+    if enable_service; then
+        status_msg "Enable crowsnest.service ..." "0"
+    else
+        status_msg "Enable crowsnest.service ..." "1"
     fi
 
-    ## Make sure folders exist
-    create_filestructure
+    add_group_video
 
-    ## Step 2: Detect existing webcamd
-    if [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
-        detect_existing_webcamd
+    if [[ "$(is_bookworm)" = "1" ]] && [[ "${CN_INSTALL_CS}" = "1" ]]; then
+        msg "\nBookworm detected!"
+        msg "Using main branch of camera-streamer for Bookworm ...\n"
+        CROWSNEST_CAMERA_STREAMER_REPO_BRANCH="main"
     fi
 
-    ## Step 3: Install dependencies
-    install_packages
-
-    ## Step 4: Install crowsnest
-    install_crowsnest
-
-    ## Step 5: Build Applications
     build_apps
 
-    ## Step 6: Add $USER to group 'video'
-    add_group_video
-
-    ## Step 7: Enable Legacy Camera Stack
-    if [[ "$(get_os_version bullseye)" != "0" ]] &&
-    [[ -f "/boot/config.txt" ]]; then
-        enable_legacy_cam
-    fi
-
-    ### buntu workaround
-    ### see L#422
-    if [[ "$(get_os_version buntu)" != "0" ]] &&
-    [[ "$(is_raspberry_pi)" = "1" ]]; then
-        enable_buntu_cam
-    fi
-
-    ## Step 8: Install service File
-    install_service_file
-
-    ## Step 9: Enable service
-    ## If unattended skip enable and start service
-    if [[ -f /etc/systemd/system/crowsnest.service ]] &&
-    [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
-        enable_service
-    fi
     if [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
-        start_service
+        set_gpu_mem
     fi
 
-    ## Step 10: Install logrotate file
-    install_logrotate
+    if [[ "$(is_dietpi)" = "1" ]]; then
+        msg "\nDietPi detected!"
+        msg "Adjust settings for camera-streamer ...\n"
+        dietpi_cs_settings
+        status_msg "Adjust settings for camera-streamer ..." "0"
+    fi
 
-    ## Step 11: Install raspicamfix
-    install_raspicam_fix
+    if [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
+        ask_update_entry
+    fi
 
-    ## Step 12: Add moonraker update_manager entry
-    if [[ "${CROWSNEST_ADD_CROWSNEST_MOONRAKER}" = "1" ]]; then
+    if [[ "${CROWSNEST_UNATTENDED}" = "1" ]] &&
+    [[ "${CROWSNEST_ADD_CROWSNEST_MOONRAKER}" = "1" ]]; then
         add_update_entry
     fi
 
-    ## Step 13: Ask for reboot
-    ## Skip if UNATTENDED
-    goodbye_msg
     if [[ "${CROWSNEST_UNATTENDED}" = "0" ]]; then
+        goodbye_msg
         ask_reboot
     fi
+
+    if [[ "${CROWSNEST_UNATTENDED}" = "1" ]]; then
+        unattended_success_msg
+    fi
+
+
+    unset DEBIAN_FRONTEND
 }
 
-main
+main "${@}"
 exit 0
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/build_apps.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/build_apps.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/build_apps.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/build_apps.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,57 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+clone_ustreamer() {
+    ## remove bin/ustreamer if exist
+    if [[ -d bin/ustreamer ]]; then
+        rm -rf bin/ustreamer
+    fi
+    sudo -u "${BASE_USER}" \
+    git clone "${CROWSNEST_USTREAMER_REPO_SHIP}" \
+    -b "${CROWSNEST_USTREAMER_REPO_BRANCH}" \
+    --depth=1 --single-branch bin/ustreamer
+}
+
+clone_cstreamer() {
+    ## remove bin/ustreamer if exist
+    if [[ -d bin/camera-streamer ]]; then
+        rm -rf bin/camera-streamer
+    fi
+    sudo -u "${BASE_USER}" \
+    git clone "${CROWSNEST_CAMERA_STREAMER_REPO_SHIP}" \
+    --recurse-submodules --shallow-submodules \
+    -b "${CROWSNEST_CAMERA_STREAMER_REPO_BRANCH}" \
+    --depth=1 --single-branch bin/camera-streamer
+}
+
+build_apps() {
+    msg "Build dependend Stream Apps ..."
+    msg "Cloning ustreamer repository ..."
+    clone_ustreamer
+    ## Detect Image build for Raspberrys
+    if [[ "${CN_INSTALL_CS}" = "1" ]]; then
+        msg "Cloning camera-streamer repository ..."
+        clone_cstreamer
+    else
+        msg "Install of camera-streamer skipped, only supported on Raspberry SBC's! ... "
+    fi
+    sudo -u "${BASE_USER}" "${PWD}"/bin/build.sh --build
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/config.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/config.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/config.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/config.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,44 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+import_config() {
+    msg "Reading configuration ..."
+    ## Source config if present
+    if [[ -s "${SRC_DIR}/.config" ]]; then
+    msg "User configuration file found ..."
+        # shellcheck disable=SC1091
+        if source "${SRC_DIR}/.config"; then
+            status_msg "Import of user configuration ..." "0"
+        else
+            status_msg "Import of user configuration ..." "1"
+        fi
+    fi
+
+    if [[ ! -f "${SRC_DIR}/.config" ]]; then
+        msg "No user configuration file found ..."
+        [[ -n "${CROWSNEST_CONFIG_PATH}" ]] || CROWSNEST_CONFIG_PATH="/home/${BASE_USER}/printer_data/config"
+        [[ -n "${CROWSNEST_LOG_PATH}" ]] || CROWSNEST_LOG_PATH="/home/${BASE_USER}/printer_data/logs"
+        [[ -n "${CROWSNEST_ENV_PATH}" ]] || CROWSNEST_ENV_PATH="/home/${BASE_USER}/printer_data/systemd"
+        [[ -n "${CROWSNEST_USTREAMER_REPO_SHIP}" ]] || CROWSNEST_USTREAMER_REPO_SHIP="https://github.com/pikvm/ustreamer.git"
+        [[ -n "${CROWSNEST_USTREAMER_REPO_BRANCH}" ]] || CROWSNEST_USTREAMER_REPO_BRANCH="v6.10"
+        [[ -n "${CROWSNEST_CAMERA_STREAMER_REPO_SHIP}" ]] || CROWSNEST_CAMERA_STREAMER_REPO_SHIP="https://github.com/ayufan/camera-streamer.git"
+        [[ -n "${CROWSNEST_CAMERA_STREAMER_REPO_BRANCH}" ]] || CROWSNEST_CAMERA_STREAMER_REPO_BRANCH="master"
+        status_msg "Using default configuration ..." "0"
+    fi
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/core.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/core.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/core.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/core.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,336 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+## Funcs
+get_os_version() {
+    if [[ -n "${1}" ]]; then
+        grep -c "${1}" /etc/os-release &> /dev/null && echo "1" || echo "0"
+    fi
+}
+
+get_host_arch() {
+    uname -m
+}
+
+is_buster() {
+    if [[ -f /etc/os-release ]]; then
+        grep -cq "buster" /etc/os-release &> /dev/null && echo "1" || echo "0"
+    fi
+}
+
+is_bookworm() {
+    if [[ -f /etc/os-release ]]; then
+        grep -cq "bookworm" /etc/os-release &> /dev/null && echo "1" || echo "0"
+    fi
+}
+
+is_raspbian() {
+    if [[ -f /boot/config.txt ]] && [[ -f /etc/rpi-issue ]]; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_dietpi() {
+    if [[ -f /boot/config.txt ]] && [[ -d /boot/dietpi ]]; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_raspberry_pi() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_pi5() {
+    if [[ -f /proc/device-tree/model ]] &&
+    grep -q "Raspberry Pi 5" /proc/device-tree/model; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_ubuntu_arm() {
+    if [[ "$(is_raspberry_pi)" = "1" ]] &&
+    grep -q "ubuntu" /etc/os-release; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+is_speederpad() {
+    if grep -q "Ubuntu 20.04." /etc/os-release &&
+    [[ "$(uname -rm)" = "4.9.191 aarch64" ]]; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+test_load_module() {
+    if modprobe -n "${1}" &> /dev/null; then
+        echo 1
+    else
+        echo 0
+    fi
+}
+
+shallow_cs_dependencies_check() {
+    msg "Checking for camera-streamer dependencies ...\n"
+
+    msg "Checking if device is a Raspberry Pi ...\n"
+    if [[ "$(is_raspberry_pi)" = "0" ]]; then
+        status_msg "Checking if device is a Raspberry Pi ..." "3"
+        msg "This device is not a Raspberry Pi therefore camera-streeamer cannot be installed ..."
+        return 1
+    fi
+    status_msg "Checking if device is a Raspberry Pi ..." "0"
+
+    msg "Checking if device is not a Raspberry Pi 5 ...\n"
+    if [[ "$(is_pi5)" = "1" ]]; then
+        status_msg "Checking if device is not a Raspberry Pi 5 ..." "3"
+        msg "This device is a Raspberry Pi 5 therefore camera-streeamer cannot be installed ..."
+        return 1
+    fi
+    status_msg "Checking if device is not a Raspberry Pi 5 ..." "0"
+
+    msg "Checking if device is not running Ubuntu ...\n"
+    if [[ "$(is_ubuntu_arm)" = "1" ]]; then
+        status_msg "Checking if device is not running Ubuntu ..." "3"
+        msg "This device is running Ubuntu therefore camera-streeamer cannot be installed ..."
+        return 1
+    fi
+    status_msg "Checking if device is not running Ubuntu ..." "0"
+
+    msg "Checking for required kernel module ...\n"
+    SHALLOW_CHECK_MODULESLIST="bcm2835_codec"
+    if [[ "$(test_load_module ${SHALLOW_CHECK_MODULESLIST})" = "0" ]]; then
+        status_msg "Checking for required kernel module ..." "3"
+        msg "Not all required kernel modules for camera-streamer can be loaded ..."
+        return 1
+    fi
+    status_msg "Checking for required kernel module ..." "0"
+
+    msg "Checking for required packages ...\n"
+    # Update the number below if you update SHALLOW_CHECK_PKGLIST
+    SHALLOW_CHECK_PKGLIST="^(libavformat-dev|libavutil-dev|libavcodec-dev|liblivemedia-dev|libcamera-dev|libcamera-apps-lite)$"
+    if [[ $(apt-cache search --names-only "${SHALLOW_CHECK_PKGLIST}" | wc -l) -lt 6 ]]; then
+        status_msg "Checking for required packages ..." "3"
+        msg "Not all required packages for camera-streamer can be installed ..."
+        return 1
+    fi
+    status_msg "Checking for required packages ..." "0"
+
+    status_msg "Checking for camera-streamer dependencies ..." "0"
+    return 0
+}
+
+link_pkglist_rpi() {
+    sudo -u "${BASE_USER}" ln -sf "${SRC_DIR}/libs/pkglist-rpi.sh" "${SRC_DIR}/pkglist.sh" &> /dev/null || return 1
+}
+
+link_pkglist_generic() {
+    sudo -u "${BASE_USER}" ln -sf "${SRC_DIR}/libs/pkglist-generic.sh" "${SRC_DIR}/pkglist.sh" &> /dev/null || return 1
+}
+
+run_apt_update() {
+    apt-get -q --allow-releaseinfo-change update
+}
+
+source_pkglist_file() {
+    # shellcheck disable=SC1091
+    . "${SRC_DIR}/pkglist.sh"
+}
+
+install_dependencies() {
+    local dep
+    local -a pkg
+    pkg=()
+    for dep in ${PKGLIST}; do
+        pkg+=("${dep}")
+    done
+    apt-get --yes --no-install-recommends install "${pkg[@]}" || return 1
+}
+
+create_filestructure() {
+    for dir in "${CROWSNEST_CONFIG_PATH}" "${CROWSNEST_LOG_PATH%/*.*}" "${CROWSNEST_ENV_PATH}"; do
+        if [[ ! -d "${dir}" ]]; then
+            if sudo -u "${BASE_USER}" mkdir -p "${dir}"; then
+                status_msg "Created ${dir} ..." "0"
+            else
+                status_msg "Created ${dir} ..." "1"
+            fi
+        fi
+        if [[ -d "${dir}" ]]; then
+            msg "Directory ${dir} already exists ..." "0"
+        fi
+    done || return 1
+}
+
+link_main_executable() {
+    local crowsnest_main_bin_path crowsnest_src_bin_path
+    crowsnest_main_bin_path="/usr/local/bin"
+    crowsnest_src_bin_path="${PWD}/crowsnest"
+
+    if [[ -f "${crowsnest_main_bin_path}/crowsnest" ]]; then
+        rm -f "${crowsnest_main_bin_path}/crowsnest"
+    fi
+    if [[ -f "${crowsnest_src_bin_path}" ]]; then
+        ln -sf "${crowsnest_src_bin_path}" "${crowsnest_main_bin_path}"
+    else
+        msg "File ${crowsnest_src_bin_path} does not exist!"
+        return 1
+    fi
+}
+
+install_service_file() {
+    local service_file target_dir
+    service_file="${PWD}/resources/crowsnest.service"
+    target_dir="/etc/systemd/system"
+
+    if [[ -f "${target_dir}/crowsnest.service" ]]; then
+        rm -f "${target_dir}/crowsnest.service"
+    fi
+    cp -f "${service_file}" "${target_dir}"
+    sed -i 's|%USER%|'"${BASE_USER}"'|g;s|%ENV%|'"${CROWSNEST_ENV_PATH}/crowsnest.env"'|g' \
+    "${target_dir}/crowsnest.service"
+    [[ -f "${target_dir}/crowsnest.service" ]] &&
+    grep -q "${BASE_USER}" "${target_dir}/crowsnest.service" || return 1
+}
+
+add_sleep_to_crowsnest_env() {
+    local service_file
+    env_file="${CROWSNEST_ENV_PATH}/crowsnest.env"
+
+    if [[ -f "${env_file}" ]]; then
+        sed -i 's/\(CROWSNEST_ARGS="[^"]*\)"/\1 -s"/' "${env_file}"
+    fi
+}
+
+install_env_file() {
+    local env_file env_target
+    env_file="${PWD}/resources/crowsnest.env"
+    env_target="${CROWSNEST_ENV_PATH}/crowsnest.env"
+    sudo -u "${BASE_USER}" cp -f "${env_file}" "${env_target}"
+    sed -i "s|%CONFPATH%|${CROWSNEST_CONFIG_PATH}|" "${env_target}"
+    [[ -f "${env_target}" ]] &&
+    grep -q "${CROWSNEST_CONFIG_PATH}" "${env_target}" || return 1
+}
+
+install_logrotate_conf() {
+    local logrotatefile logpath
+    logrotatefile="${PWD}/resources/logrotate_crowsnest"
+    logpath="${CROWSNEST_LOG_PATH}/crowsnest.log"
+    cp -rf "${logrotatefile}" /etc/logrotate.d/crowsnest
+    sed -i "s|%LOGPATH%|${logpath}|g" /etc/logrotate.d/crowsnest
+    [[ -f "/etc/logrotate.d/crowsnest" ]] &&
+    grep -q "${logpath}" "/etc/logrotate.d/crowsnest" || return 1
+}
+
+backup_crowsnest_conf() {
+    local extension
+    extension="$(date +%Y-%m-%d-%H%M)"
+    if [[ -f "${CROWSNEST_CONFIG_PATH}/crowsnest.conf" ]]; then
+        msg "Found existing crowsnest.conf in ${CROWSNEST_CONFIG_PATH} ..."
+        msg "\t ==> Creating backup as crowsnest.conf.${extension} ..."
+        sudo -u "${BASE_USER}" mv "${CROWSNEST_CONFIG_PATH}/crowsnest.conf" "${CROWSNEST_CONFIG_PATH}/crowsnest.conf.${extension}"
+    fi
+}
+
+install_crowsnest_conf() {
+    local conf_template
+    conf_template="${PWD}/resources/crowsnest.conf"
+    logpath="${CROWSNEST_LOG_PATH}/crowsnest.log"
+    backup_crowsnest_conf
+    sudo -u "${BASE_USER}" cp -rf "${conf_template}" "${CROWSNEST_CONFIG_PATH}"
+    sed -i "s|%LOGPATH%|${logpath}|g" "${CROWSNEST_CONFIG_PATH}/crowsnest.conf"
+    [[ -f "${CROWSNEST_CONFIG_PATH}/crowsnest.conf" ]] &&
+    grep -q "${logpath}" "${CROWSNEST_CONFIG_PATH}/crowsnest.conf" || return 1
+}
+
+enable_service() {
+    sudo systemctl enable crowsnest.service &> /dev/null || return 1
+}
+
+add_group_video() {
+    if [[ "$(groups "${BASE_USER}" | grep -c video)" == "0" ]]; then
+        if usermod -aG video "${BASE_USER}" > /dev/null; then
+            status_msg "Add User ${BASE_USER} to group 'video' ..." "0"
+        fi
+    else
+        status_msg "Add User ${BASE_USER} to group 'video' ..." "2"
+        msg "\t==> User ${BASE_USER} is already in group 'video'"
+    fi
+}
+
+dietpi_cs_settings() {
+    sudo /boot/dietpi/func/dietpi-set_hardware rpi-codec enable
+    sudo /boot/dietpi/func/dietpi-set_hardware rpi-camera enable
+
+    if [[ "$(is_buster)" = "0" ]]; then
+        if ! grep -q "camera_auto_detect=1" /boot/config.txt; then
+            msg "\nAdd camera_auto_detect=1 to /boot/config.txt ...\n"
+            echo "camera_auto_detect=1" >> /boot/config.txt
+        fi
+    fi
+}
+
+### Detect legacy webcamd.
+detect_existing_webcamd() {
+    local disable
+    msg "Checking for mjpg-streamer ...\n"
+    if  [[ -x "/usr/local/bin/webcamd" ]] && [[ -d "/home/${BASE_USER}/mjpg-streamer" ]]; then
+        msg "Found an existing mjpg-streamer installation!"
+        msg "This should be stopped and disabled!"
+        while true; do
+            read -erp "Do you want to stop and disable existing 'webcamd'? (Y/n) " -i "Y" disable
+            case "${disable}" in
+                y|Y|yes|Yes|YES)
+                    msg "Stopping webcamd.service ..."
+                    sudo systemctl stop webcamd.service &> /dev/null
+                    status_msg "Stopping webcamd.service ..." "0"
+                    
+                    msg "\nDisabling webcamd.service ...\r"
+                    sudo systemctl disable webcamd.service &> /dev/null
+                    status_msg "Disabling webcamd.service ..." "0"
+                    return
+                ;;
+
+                n|N|no|No|NO)
+                    msg "\nYou should disable and stop webcamd to use crowsnest without problems!\n"
+                    return
+                ;;
+                *)
+                    msg "You answered '${disable}'! Invalid input ..."                ;;
+            esac
+        done
+    fi
+    status_msg "Checking for mjpg-streamer ..." "0"
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/interactive.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/interactive.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/interactive.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/interactive.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,73 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+## Funcs
+ask_reboot() {
+    local reply
+    while true; do
+        read -erp "Reboot NOW? [y/N]: " -i "N" reply
+        case "${reply}" in
+            [yY]*)
+                msg "Going to reboot in 5 seconds!"
+                sleep 5
+                reboot
+            ;;
+            [nN]*)
+                msg "\n\e[31mNot to reboot may cause issues!"
+                msg "Reboot as soon as possible!\e[0m\n"
+                msg "Goodbye ..."
+                break
+            ;;
+            * )
+                msg "\e[31mERROR:\e[0m Please choose Y or N !"
+            ;;
+        esac
+    done
+}
+
+ask_update_entry() {
+    local reply run_add_update_entry
+    run_add_update_entry="0"
+    msg "\n"
+    while true; do
+        read -erp "Do you want to add 'update manager' entry to your moonraker.conf? [Y/n]: " -i "Y" reply
+        case "${reply}" in
+            [yY]*)
+                msg "Trying to add 'update manager' entry to moonraker.conf ..."
+                run_add_update_entry="1"
+                break
+            ;;
+            [nN]*)
+                msg "Please add the following to your moonraker.conf,"
+                msg "if you want to recieve updates due moonraker's update function.\n"
+                cat "${PWD}"/resources/moonraker_update.txt
+                msg "\n"
+                break
+            ;;
+            * )
+                msg "\e[31mERROR:\e[0m Please choose Y or N !"
+            ;;
+        esac
+    done
+    if [[ "${run_add_update_entry}" = "1" ]]; then
+        add_update_entry
+    else
+        return 0
+    fi
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/messages.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/messages.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/messages.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/messages.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,98 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+### Disable SC2317 due Trap usage
+# shellcheck disable=SC2317
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+
+TITLE="\e[31mcrowsnest\e[0m - A webcam daemon for multiple cams and stream services."
+
+### Messages
+msg() {
+    echo -e "${1}"
+}
+
+status_msg() {
+    local msg status
+    msg="${1}"
+    status="${2}"
+    echo -en "${msg}\r"
+    if [[ "${status}" == "0" ]]; then
+        echo -e "${msg} [\e[32mOK\e[0m]"
+    fi
+    if [[ "${status}" == "1" ]]; then
+        echo -e "${msg} [\e[31mFAILED\e[0m]"
+        error_msg
+        exit 1
+    fi
+    if [[ "${status}" == "2" ]]; then
+        echo -e "${msg} [\e[33mSKIPPED\e[0m]"
+    fi
+    if [[ "${status}" == "3" ]]; then
+        echo -e "${msg} [\e[33mFAILED\e[0m]"
+    fi
+}
+
+not_as_root_msg() {
+    msg "\n\tPlease do NOT run this script as root!\n"
+    msg "\tLogin in as a regular user and run with '\e[32msudo make install\e[0m'\n\n"
+}
+
+need_sudo_msg() {
+    msg "\n\tYou need to run this script with sudo privileges!"
+    msg "\tPlease try '\e[32msudo make install\e[0m'\n\nExiting..."
+}
+
+not_supported_msg() {
+    msg "\nDebian 10 (buster) has reached end of life.\n"
+    msg "Therefore, crowsnest has also ended support for it.\n"
+    msg "Please upgrade to a supported OS release,"
+    msg "we are sorry for the inconvenience.\n"
+}
+
+welcome_msg() {
+    msg "${TITLE}\n"
+    msg "\t\e[34mAhoy!\e[0m"
+    msg "\tThank you for installing crowsnest ;)"
+    msg "\tThis will take a while ... "
+    msg "\tPlease reboot after the installation has finished.\n"
+    sleep 1
+}
+
+config_msg() {
+    msg "\nConfig file not found!\n\tUsing defaults ..."
+    msg "\tThis uses paths located in 'printer_data' of your home folder."
+}
+
+goodbye_msg() {
+    msg "\nInstallation \e[32msuccessful\e[0m.\n"
+    msg "\t\e[33mReboot your machine for the changes to take effect!\e[0m\n"
+}
+
+unattended_success_msg() {
+    msg "\nInstallation \e[32msuccessful\e[0m.\n"
+}
+
+error_msg() {
+    msg "Something went wrong!\nPlease copy the latest output, head over to\n"
+    msg "\thttps://discord.gg/mainsail\n"
+    msg "and open a ticket in #supportforum..."
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/pkglist-generic.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/pkglist-generic.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/pkglist-generic.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/pkglist-generic.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,23 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+### Crowsnest Dependencies
+PKGLIST="git crudini bsdutils findutils v4l-utils curl"
+### Ustreamer Dependencies
+PKGLIST="${PKGLIST} build-essential libevent-dev libjpeg-dev libbsd-dev"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/pkglist-rpi.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/pkglist-rpi.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/pkglist-rpi.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/pkglist-rpi.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,29 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - 2023
+#### Co-authored by Patrick Gehrsitz aka mryel00 <mryel00.github@gmail.com>
+#### Copyright 2023 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+### Crowsnest Dependencies
+PKGLIST="git crudini bsdutils findutils v4l-utils curl"
+### Ustreamer Dependencies
+PKGLIST="${PKGLIST} build-essential libevent-dev libjpeg-dev libbsd-dev"
+### Camera-Streamer Dependencies
+### If you change something below, also have a look at tools/libs/core.sh->shallow_cs_dependencies_check
+PKGLIST="${PKGLIST} cmake libavformat-dev libavutil-dev libavcodec-dev libcamera-dev libcamera-apps-lite"
+PKGLIST="${PKGLIST} liblivemedia-dev pkg-config xxd build-essential cmake libssl-dev"
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/set_gpumem.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/set_gpumem.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/set_gpumem.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/set_gpumem.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,47 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+# shellcheck source-path=SCRIPTDIR
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+## Helper Func
+get_avail_mem() {
+    grep "MemTotal" /proc/meminfo | awk '{print $2}'
+}
+
+set_gpu_mem() {
+    local mem_split
+    mem_split=""
+    ## Determine Ramsize and export MAKEFLAG
+    if [[ "$(get_avail_mem)" -le 524288 ]]; then
+        mem_split=128
+    elif [[ "$(get_avail_mem)" -le 1048576 ]]; then
+        mem_split=160
+    else
+        mem_split=256
+    fi
+    if [[ "$(is_raspbian)" = "1" ]] &&
+    [[ "$(is_bookworm)" = "0" ]] &&
+    [[ -n "$(command -v raspi-config)" ]]; then
+        if sudo raspi-config nonint do_memory_split "${mem_split}" ;then
+            status_msg "Trying to set minimum GPU Memory to ${mem_split} MB ..." "0"
+        else
+            status_msg "Trying to set minimum GPU Memory to ${mem_split} MB ..." "2"
+            msg "\t==> Tool 'raspi-config' not found ..."
+        fi
+    fi
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/update_manager.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/update_manager.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/libs/update_manager.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/libs/update_manager.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,50 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+
+# Exit on errors
+set -Ee
+
+# Debug
+# set -x
+
+## Funcs
+add_update_entry() {
+    local moonraker_conf
+    moonraker_conf="${CROWSNEST_CONFIG_PATH}/moonraker.conf"
+    moonraker_update="${PWD}/resources/moonraker_update.txt"
+    if [[ -f "${moonraker_conf}" ]]; then
+        if [[ "$(grep -c "crowsnest" "${moonraker_conf}")" != "0" ]]; then
+            status_msg "Update Manager entry already exists moonraker.conf ..." "2"
+            return 0
+        fi
+        # make sure no file exist
+        if [[ -f "/tmp/moonraker.conf" ]]; then
+            sudo rm -f /tmp/moonraker.conf
+        fi
+        sudo -u "${BASE_USER}" \
+        cp "${moonraker_conf}" "${moonraker_conf}.backup" &&
+        cat "${moonraker_conf}" "${moonraker_update}" > /tmp/moonraker.conf &&
+        cp -rf /tmp/moonraker.conf "${moonraker_conf}"
+        if [[ "${CROWSNEST_UNATTENDED}" = "1" ]]; then
+            sudo rm -f "${moonraker_conf}.backup"
+        fi
+        if [[ "$(grep -c "crowsnest" "${moonraker_conf}")" != "0" ]]; then
+            status_msg "Adding Crowsnest Update Manager entry to moonraker.conf ... " "0"
+            return 0
+        else
+            status_msg "Adding Crowsnest Update Manager entry to moonraker.conf ... " "1"
+        fi
+    else
+        status_msg "File 'moonraker.conf' does not exist! ..." "2"
+    fi
+}
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/test_install.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/test_install.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/test_install.sh	1969-12-31 19:00:00.000000000 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/test_install.sh	2024-10-08 17:45:29.818228183 -0400
@@ -0,0 +1,103 @@
+#!/usr/bin/env bash
+
+#### crowsnest - A webcam Service for multiple Cams and Stream Services.
+####
+#### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
+#### Copyright 2021 - till today
+#### https://github.com/mainsail-crew/crowsnest
+####
+#### This File is distributed under GPLv3
+####
+
+# shellcheck enable=require-variable-braces
+# shellcheck disable=SC1090,SC2154,SC2317
+
+set -eou pipefail
+
+TEST_SERVICE_FILE="/etc/systemd/system/crowsnest.service"
+
+
+is_raspbian() {
+    if [[ -f /boot/config.txt ]] && [[ -f /etc/rpi-issue ]]; then
+        echo "1"
+    else
+        echo "0"
+    fi
+}
+
+get_vars() {
+    INSTALLED_AS="$(grep "User" /etc/systemd/system/crowsnest.service | cut -f2 -d= | sed 's/^ //' | cut -f1 -d' ')"
+    REPO_PATH="$(grep "WorkingDirectory" /etc/systemd/system/crowsnest.service | cut -f2 -d= | sed 's/^ //' | cut -f1 -d' ')"
+    MAIN_EXE="$(grep "ExecStart" /etc/systemd/system/crowsnest.service | cut -f2 -d= | sed 's/^ //' | cut -f1 -d' ')"
+    ENV_FILE="$(grep "EnvironmentFile" /etc/systemd/system/crowsnest.service | cut -f2 -d= | sed 's/^ //' | cut -f1 -d' ')"
+}
+
+print_vars() {
+    printf "TEST: Path to repository -> %s \n" "${REPO_PATH}"
+    printf "TEST: Main executable -> %s \n" "${MAIN_EXE}"
+    printf "TEST: EnvironmentFile -> %s \n" "${ENV_FILE}"
+}
+
+main() {
+    clear
+    printf "\nTest crowsnest installation ...\n"
+
+    printf "TEST: service file installed? ... "
+    [[ -f "${TEST_SERVICE_FILE}" ]] 2> /dev/null && printf "[OK]\n" || printf "[FAILED]\n"
+
+    printf "TEST: Print service file ...\n"
+    ([[ -f "${TEST_SERVICE_FILE}" ]] && cat "${TEST_SERVICE_FILE}") \
+    || (
+    printf "TEST: Not found or empty ...\n"
+    printf "TEST: All tests aborted! Crowsnest not installed or missing!\n"
+    exit 1
+    )
+
+    printf "TEST: service enabled? ... "
+    if systemctl is-enabled crowsnest.service &> /dev/null; then
+        printf "[OK]\n"
+    else
+        printf "[FAILED]\n"
+    fi
+
+    printf "TEST: Grab paths from service file ...\n"
+    get_vars
+    print_vars
+
+    printf "TEST: Installed as non root user? ... "
+    [[ "${INSTALLED_AS}" != "root" ]] 2> /dev/null && printf "[OK]\n"; \
+    printf "\t-> Installed as user '%s'\n" "${INSTALLED_AS}"|| printf "[FAILED]\n"
+
+    printf "TEST: Main script (crowsnest) installed? ... "
+    [[ -x "${MAIN_EXE}" ]] 2> /dev/null && printf "[OK]\n" || printf "[FAILED]\n"
+
+    printf "TEST: crowsnest.env installed? ... "
+    [[ -f "${ENV_FILE}" ]] 2> /dev/null && printf "[OK]\n" || printf "[FAILED]\n"
+
+    printf "TEST: Print EnvironmentFile file ...\n"
+    [[ -s "${ENV_FILE}" ]] && cat "${ENV_FILE}" || printf "TEST: Not found or empty ...\n"
+
+    printf "TEST: logrotate installed? ... "
+    [[ -f "/etc/logrotate.d/crowsnest" ]] 2> /dev/null && printf "[OK]\n" || printf "[FAILED]\n"
+
+    printf "TEST: Print logrotate file ...\n"
+    [[ -s "/etc/logrotate.d/crowsnest" ]] && cat "/etc/logrotate.d/crowsnest" || printf "TEST: Not found or empty ...\n"
+
+    printf "TEST: ustreamer repo cloned? ..."
+    [[ -d "${REPO_PATH}/bin/ustreamer" ]] && printf "[OK]\n" || printf "[NOT FOUND]\n"
+
+    printf "TEST: ustreamer binary build? ..."
+    [[ -x "${REPO_PATH}/bin/ustreamer/ustreamer" ]] && printf "[YES]\n" || printf "[NO]\n"
+
+    printf "TEST: camera-streamer repo cloned? ..."
+    if [[ "$(is_raspbian)" = "1" ]]; then
+        [[ -d "${REPO_PATH}/bin/camera-streamer" ]] && printf "[OK]\n" || printf "[NOT FOUND]\n"
+        printf "TEST: camera-streamer binary build? ..."
+        [[ -x "${REPO_PATH}/bin/camera-streamer/camera-streamer" ]] && printf "[YES]\n" || printf "[NO]\n"
+    else
+        printf "[NON RPI -> SKIPPED]\n"
+    fi
+}
+
+main "${@}"
+exit 0
diff -urN /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/uninstall.sh /home/mks/firmware_comparison/downloads/crowsnest/tools/uninstall.sh
--- /media/mks/5dcae443-0796-4029-ae6c-bf5bd2a37067/home/mks/crowsnest/tools/uninstall.sh	2023-12-15 01:50:44.414398135 -0500
+++ /home/mks/firmware_comparison/downloads/crowsnest/tools/uninstall.sh	2024-10-08 17:45:29.818228183 -0400
@@ -1,8 +1,9 @@
 #!/usr/bin/env bash
+
 #### crowsnest - A webcam Service for multiple Cams and Stream Services.
 ####
 #### Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
-#### Copyright 2021 - 2022
+#### Copyright 2021 - till today
 #### https://github.com/mainsail-crew/crowsnest
 ####
 #### This File is distributed under GPLv3
@@ -10,194 +11,260 @@
 
 # shellcheck enable=require-variable-braces
 
-### Disable SC2317 due Trap usage
-# shellcheck disable=SC2317
-
-## Exit on Error
+# Exit on errors
 set -Ee
 
-## Debug
+# Debug
 # set -x
 
 # Global Vars
-TITLE="\e[31mcrowsnest\e[0m - A webcam daemon for multiple Cams and stream services."
-CN_CONFIG_ENVPATH="$(find "${HOME}" -name "crowsnest.env")"
-
-# Message Vars
-CN_OK="\e[32mOK\e[0m"
-CN_SK="\e[33mSKIPPED\e[0m"
-
-### Check non-root
-if [[ ${UID} = '0' ]]; then
-    echo -e "\n\tYOU DONT NEED TO RUN UNINSTALLER AS ROOT!"
-    echo -e "\tYou will be prompted for 'sudo' passwd"
-    exit 1
-fi
-
-### Functions
+TITLE="\e[31mcrowsnest\e[0m - A webcam daemon for multiple cams and stream services."
+SRC_DIR="$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd -P)"
+SERVICE_FILE="/etc/systemd/system/crowsnest.service"
+
+
+# Global func
+msg() {
+    echo -e "${1}"
+}
+
+status_msg() {
+    local msg status
+    msg="${1}"
+    status="${2}"
+    echo -en "${msg}\r"
+    if [[ "${status}" == "0" ]]; then
+        echo -e "${msg} [\e[32mOK\e[0m]"
+    fi
+    if [[ "${status}" == "1" ]]; then
+        echo -e "${msg} [\e[31mFAILED\e[0m]"
+        error_msg
+        exit 1
+    fi
+    if [[ "${status}" == "2" ]]; then
+        echo -e "${msg} [\e[33mSKIPPED\e[0m]"
+    fi
+}
 
-### Messages
-### Welcome Message
+## Messages
 welcome_msg() {
-    echo -e "${TITLE}\n"
-    echo -e "\t\e[34mAhoi!\e[0m"
-    echo -e "\tTo sad that you want to uninstall crowsnest :("
-    echo -e "\tThis will take a while ... "
-    echo -e "\tPlease reboot after installation has finished.\n"
+    msg "${TITLE}\n"
+    msg "\t\e[34mAhoi!\e[0m"
+    msg "\tTo sad that you want to uninstall crowsnest :("
+    msg "\tThis will take a while ... "
+    msg "\tPlease reboot after uninstallation has finished.\n"
     sleep 1
 }
 
 goodbye_msg() {
-    echo -e "Please remove manually the 'crowsnest' folder in ${HOME}\n"
-    echo -e "\tRemove [update manager crowsnest] section from moonraker.conf,before reboot!\n"
-    echo -e "After that is done, please reboot!\nGoodBye...\n"
-}
-
-### General
-## These two functions are reused from custompios common.sh
-## Credits to guysoft!
-## https://github.com/guysoft/CustomPiOS
-
-install_cleanup_trap() {
-    # kills all child processes of the current process on SIGINT or SIGTERM
-    trap 'cleanup' SIGINT SIGTERM
+    msg "Please remove manually the 'crowsnest' folder in ${HOME}\n"
+    msg "\tRemove [update manager crowsnest] section from moonraker.conf,before reboot!\n"
+    msg "After that is done, please reboot!\nGoodBye...\n"
 }
 
-cleanup() {
-    # make sure that all child processed die when we die
-    echo -e "Killed by user ...\r\nGoodBye ...\r"
-    # shellcheck disable=2046
-    [ -n "$(jobs -pr)" ] && kill $(jobs -pr) && sleep 5 && kill -9 $(jobs -pr)
-}
-##
-
-err_exit() {
-    if [ "${1}" != "0" ]; then
-        echo -e "ERROR: Error ${1} occured on line ${2}"
-        echo -e "ERROR: Stopping $(basename "$0")."
-        echo -e "Goodbye..."
-    fi
-    # shellcheck disable=2046
-    [ -n "$(jobs -pr)" ] && kill $(jobs -pr) && sleep 5 && kill -9 $(jobs -pr)
-    exit 1
+error_msg() {
+    msg "Something went wrong!\nPlease copy the last output and head over to\n"
+    msg "\thttps://discord.gg/mainsail\n"
+    msg "open a ticket in #supportforum ..."
 }
 
-### Init ERR Trap
-trap 'err_exit $? $LINENO' ERR
-
-
-### Uninstall crowsnest
+## Interactive
 ask_uninstall() {
     local remove
-    if  [ -x "/usr/local/bin/crowsnest" ] && [ -d "${HOME}/crowsnest" ]; then
         while true; do
         read -erp "Do you REALLY want to remove existing 'crowsnest'? (y/N) " -i "N" remove
             case "${remove}" in
-                y|Y|yes|Yes|YES)
-                    source_env_file
-                    uninstall_crowsnest
-                    remove_raspicam_fix
-                    remove_logrotate
-                    ask_remove_config
-                    goodbye_msg
+                [yY]*)
                     break
                 ;;
-                n|N|no|No|NO)
-                    echo -e "\nYou answered '${remove}'! Uninstall will be aborted..."
-                    echo -e "GoodBye...\n"
+                [nN]*)
+                    msg "\nYou answered '${remove}'! Uninstall will be aborted..."
+                    msg "GoodBye...\n"
                     exit 1
                 ;;
                 *)
-                    echo -e "\nInvalid input, please try again."
+                    msg "\nInvalid input, please try again."
                 ;;
             esac
         done
-    else
-        echo -e "\n'crowsnest' seems not installed."
-        echo -e "Exiting. GoodBye ..."
-    fi
-}
-
-source_env_file() {
-    # shellcheck disable=SC1090
-    . "${CN_CONFIG_ENVPATH}"
-}
-
-uninstall_crowsnest() {
-    local servicefile bin_path
-    servicefile="/etc/systemd/system/crowsnest.service"
-    bin_path="/usr/local/bin/crowsnest"
-    # Dirty hack to grant sudo priviledges
-    # and not overwriting next \r line
-    sudo sh -c 'echo "" > /dev/null'
-    echo -en "\nStopping crowsnest.service ...\r"
-    sudo systemctl stop crowsnest.service &> /dev/null
-    echo -e "Stopping crowsnest.service ... \t[${CN_OK}]\r"
-    echo -en "\nDisable crowsnest.service ...\r"
-    sudo systemctl disable crowsnest.service &> /dev/null
-    echo -e "Disable crowsnest.service ... \t[${CN_OK}]\r"
-    echo -en "Uninstalling crowsnest.service...\r"
-    if [[ -f "${servicefile}" ]]; then
-        sudo rm -f "${servicefile}"
-    fi
-    if [[ -x "${bin_path}" ]]; then
-        sudo rm -f "${bin_path}"
-    fi
-    echo -e "Uninstalling crowsnest.service...[${CN_OK}]\r"
-    if [[ -n "${CN_CONFIG_ENVPATH}" ]]; then
-        echo -en "Removing crowsnest.env ...\r"
-        sudo rm -f "${CN_CONFIG_ENVPATH}"
-        echo -e "Removing crowsnest.env ... [${CN_OK}]\r"
-    fi
 }
 
 ask_remove_config() {
-    local config reply
-    config="${CROWSNEST_ARGS/-c /}"
+    local reply
     while true; do
         read -erp "Do you want to remove crowsnest.conf? [y/N]: " -i "N" reply
         case "${reply}" in
             [yY]* )
-                sudo rm -f "${config}"
-                echo -e "Removing 'crowsnest.conf' ... [${CN_OK}]\r"
+                remove_conf_file
                 break
             ;;
             [nN]* )
-                echo -e "Removing 'crowsnest.conf' ... [${CN_SK}]\r"
+                status_msg "Removing 'crowsnest.conf' ..." "2"
                 break
             ;;
             * )
-                echo -e "\e[31mERROR: Not a valid choice, try again ...\e[0m"
+                msg "\e[31mERROR: Not a valid choice, try again ...\e[0m"
             ;;
         esac
     done
     return 0
 }
 
-remove_raspicam_fix() {
-    if [[ -f /etc/modprobe.d/bcm2835-v4l2.conf ]] &&
-    [[ -f /proc/device-tree/model ]] &&
-    grep -q "Raspberry" /proc/device-tree/model ; then
-        echo -en "Removing Raspicam Fix ...\r"
-        sudo sed -i '/bcm2835/d' /etc/modules
-        sudo rm -f /etc/modprobe.d/bcm2835-v4l2.conf
-        echo -e "Removing Raspicam Fix ... [${CN_OK}]"
-    else
-        echo -e "Removing Raspicam Fix ... [${CN_SK}]"
-        echo -e "\tThis is not a Raspberry Pi"
-        echo -e "\tor Raspicamfix not installed ... \n"
+## remove funcs
+remove_service_file() {
+    if [[ ! -f "${SERVICE_FILE}" ]]; then
+        status_msg "Removing service file ..." "2"
+        msg "\t==> File does not exist!"
+        return 0
+    fi
+    if [[ -f "${SERVICE_FILE}" ]]; then
+        if sudo rm -f "${SERVICE_FILE}"; then
+            status_msg "Removing service file ..." "0"
+        else
+            status_msg "Removing service file ..." "1"
+        fi
+    fi
+}
+
+remove_env_file() {
+    local env_file
+    env_file="${CROWSNEST_ENV_PATH}/crowsnest.env"
+    if [[ ! -f "${env_file}" ]]; then
+        status_msg "Removing environment file ..." "2"
+        msg "\t==> File does not exist!"
+        return 0
+    fi
+    if [[ -f "${env_file}" ]]; then
+        if sudo rm -f "${env_file}"; then
+            status_msg "Removing environment file ..." "0"
+        else
+            status_msg "Removing environment file ..." "1"
+        fi
+    fi
+}
+
+remove_conf_file() {
+    local conf_file
+    conf_file="${CROWSNEST_CONFIG_PATH}/crowsnest.conf"
+    if [[ ! -f "${conf_file}" ]]; then
+        status_msg "Removing 'crowsnest.conf' ..." "2"
+        msg "\t==> File does not exist!"
+        return 0
+    fi
+    if [[ -f "${conf_file}" ]]; then
+        if sudo rm -f "${conf_file}"; then
+            status_msg "Removing 'crowsnest.conf' ..." "0"
+        else
+            status_msg "Removing 'crowsnest.conf' ..." "1"
+        fi
     fi
 }
 
-function remove_logrotate {
-    echo -en "Removing Logrotate Rule ...\r"
-    sudo rm -f /etc/logrotate.d/crowsnest
-    echo -e "Removing Logrotate Rule ... [${CN_OK}]"
+remove_log_files() {
+    local log_file
+    log_file="${CROWSNEST_LOG_PATH}/crowsnest.log"
+    if [[ ! -f "${log_file}" ]]; then
+        status_msg "Removing 'crowsnest.log' ..." "2"
+        msg "\t==> File does not exist!"
+        return 0
+    fi
+    if [[ -f "${log_file}" ]]; then
+        if sudo rm -f "${log_file}"; then
+            status_msg "Removing 'crowsnest.log' ..." "0"
+        else
+            status_msg "Removing 'crowsnest.log' ..." "1"
+        fi
+    fi
 }
 
-#### MAIN
-install_cleanup_trap
-welcome_msg
-ask_uninstall
+remove_logrotate() {
+    local logrotate_conf
+    logrotate_conf="/etc/logrotate.d/crowsnest"
+    if [[ ! -f "${logrotate_conf}" ]]; then
+        status_msg "Removing Logrotate Rule ..." "2"
+        msg "\t==> File does not exist!"
+        return 0
+    fi
+    if [[ -f "${logrotate_conf}" ]]; then
+        sudo rm -f /etc/logrotate.d/crowsnest || return 1
+    fi
+}
+
+get_path() {
+    local cn_base_path
+    cn_base_path="$(
+            dirname "$(grep "EnvironmentFile" < "${SERVICE_FILE}" | cut -f2 -d= )"
+        )"
+        cn_base_path="${cn_base_path%/*}"
+        echo "${cn_base_path}"
+}
+
+main() {
+    if [[ "${UID}" = '0' ]]; then
+    msg "\n\tYOU DONT NEED TO RUN UNINSTALLER AS ROOT!"
+    msg "\tYou will be prompted for 'sudo' password"
+    exit 1
+    fi
+
+    welcome_msg
+
+    [[ -f "${SERVICE_FILE}" ]] || (
+        msg "\nERROR: File ${SERVICE_FILE} not found!"
+        msg "\t ==> Crowsnest seems not to be installed ... [EXITING]"
+        exit 1
+    )
+
+    ask_uninstall
+
+    ## fake sudo
+    sudo echo "fakesudo" >> /dev/null
+
+    #shellcheck disable=SC1091
+    [[ -f "${SRC_DIR}/.config" ]] && . "${SRC_DIR}/.config"
+    DATA_DIR="$(get_path)"
+    [[ -n "${CROWSNEST_CONFIG_PATH}" ]] || CROWSNEST_CONFIG_PATH="${DATA_DIR}/config"
+    [[ -n "${CROWSNEST_LOG_PATH}" ]] || CROWSNEST_LOG_PATH="${DATA_DIR}/logs"
+    [[ -n "${CROWSNEST_ENV_PATH}" ]] || CROWSNEST_ENV_PATH="${DATA_DIR}/systemd"
+
+    if systemctl is-active crowsnest.service &> /dev/null; then
+        if sudo systemctl stop crowsnest.service &> /dev/null; then
+            status_msg "Stopping crowsnest service ..." "0"
+        else
+            status_msg "Stopping crowsnest service ..." "1"
+        fi
+    else
+        status_msg "Stopping crowsnest service ..." "2"
+        msg "\t==> crowsnest service is not running"
+    fi
+
+    if systemctl is-enabled crowsnest.service &> /dev/null; then
+        if sudo systemctl disable crowsnest.service &> /dev/null; then
+            status_msg "Disable crowsnest service ..." "0"
+        else
+            status_msg "Disable crowsnest service ..." "1"
+        fi
+    else
+        status_msg "Disable crowsnest service ..." "2"
+        msg "\t==> crowsnest service is enabled"
+    fi
+
+
+    remove_service_file
+
+    remove_env_file
+
+    if remove_logrotate; then
+        status_msg "Removing Logrotate Rule ..." "0"
+    else
+        status_msg "Removing Logrotate Rule ..." "1"
+    fi
+
+    remove_log_files
+
+    ask_remove_config
+
+    goodbye_msg
+}
 
+main "${@}"
 exit 0
